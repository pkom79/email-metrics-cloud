(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const x of document.querySelectorAll('link[rel="modulepreload"]'))m(x);new MutationObserver(x=>{for(const f of x)if(f.type==="childList")for(const c of f.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&m(c)}).observe(document,{childList:!0,subtree:!0});function o(x){const f={};return x.integrity&&(f.integrity=x.integrity),x.referrerPolicy&&(f.referrerPolicy=x.referrerPolicy),x.crossOrigin==="use-credentials"?f.credentials="include":x.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function m(x){if(x.ep)return;x.ep=!0;const f=o(x);fetch(x.href,f)}})();function rc(v){return v&&v.__esModule&&Object.prototype.hasOwnProperty.call(v,"default")?v.default:v}var Qa={exports:{}},Hr={},Ya={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uu;function of(){if(Uu)return Ce;Uu=1;var v=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),c=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),X=Symbol.iterator;function b(d){return d===null||typeof d!="object"?null:(d=X&&d[X]||d["@@iterator"],typeof d=="function"?d:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,U={};function B(d,E,K){this.props=d,this.context=E,this.refs=U,this.updater=K||G}B.prototype.isReactComponent={},B.prototype.setState=function(d,E){if(typeof d!="object"&&typeof d!="function"&&d!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,d,E,"setState")},B.prototype.forceUpdate=function(d){this.updater.enqueueForceUpdate(this,d,"forceUpdate")};function C(){}C.prototype=B.prototype;function ue(d,E,K){this.props=d,this.context=E,this.refs=U,this.updater=K||G}var H=ue.prototype=new C;H.constructor=ue,q(H,B.prototype),H.isPureReactComponent=!0;var O=Array.isArray,Q=Object.prototype.hasOwnProperty,re={current:null},fe={key:!0,ref:!0,__self:!0,__source:!0};function w(d,E,K){var S,L={},Z=null,le=null;if(E!=null)for(S in E.ref!==void 0&&(le=E.ref),E.key!==void 0&&(Z=""+E.key),E)Q.call(E,S)&&!fe.hasOwnProperty(S)&&(L[S]=E[S]);var ie=arguments.length-2;if(ie===1)L.children=K;else if(1<ie){for(var ce=Array(ie),Se=0;Se<ie;Se++)ce[Se]=arguments[Se+2];L.children=ce}if(d&&d.defaultProps)for(S in ie=d.defaultProps,ie)L[S]===void 0&&(L[S]=ie[S]);return{$$typeof:v,type:d,key:Z,ref:le,props:L,_owner:re.current}}function j(d,E){return{$$typeof:v,type:d.type,key:E,ref:d.ref,props:d.props,_owner:d._owner}}function $(d){return typeof d=="object"&&d!==null&&d.$$typeof===v}function N(d){var E={"=":"=0",":":"=2"};return"$"+d.replace(/[=:]/g,function(K){return E[K]})}var P=/\/+/g;function k(d,E){return typeof d=="object"&&d!==null&&d.key!=null?N(""+d.key):E.toString(36)}function I(d,E,K,S,L){var Z=typeof d;(Z==="undefined"||Z==="boolean")&&(d=null);var le=!1;if(d===null)le=!0;else switch(Z){case"string":case"number":le=!0;break;case"object":switch(d.$$typeof){case v:case i:le=!0}}if(le)return le=d,L=L(le),d=S===""?"."+k(le,0):S,O(L)?(K="",d!=null&&(K=d.replace(P,"$&/")+"/"),I(L,E,K,"",function(Se){return Se})):L!=null&&($(L)&&(L=j(L,K+(!L.key||le&&le.key===L.key?"":(""+L.key).replace(P,"$&/")+"/")+d)),E.push(L)),1;if(le=0,S=S===""?".":S+":",O(d))for(var ie=0;ie<d.length;ie++){Z=d[ie];var ce=S+k(Z,ie);le+=I(Z,E,K,ce,L)}else if(ce=b(d),typeof ce=="function")for(d=ce.call(d),ie=0;!(Z=d.next()).done;)Z=Z.value,ce=S+k(Z,ie++),le+=I(Z,E,K,ce,L);else if(Z==="object")throw E=String(d),Error("Objects are not valid as a React child (found: "+(E==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":E)+"). If you meant to render a collection of children, use an array instead.");return le}function ae(d,E,K){if(d==null)return d;var S=[],L=0;return I(d,S,"","",function(Z){return E.call(K,Z,L++)}),S}function oe(d){if(d._status===-1){var E=d._result;E=E(),E.then(function(K){(d._status===0||d._status===-1)&&(d._status=1,d._result=K)},function(K){(d._status===0||d._status===-1)&&(d._status=2,d._result=K)}),d._status===-1&&(d._status=0,d._result=E)}if(d._status===1)return d._result.default;throw d._result}var W={current:null},z={transition:null},M={ReactCurrentDispatcher:W,ReactCurrentBatchConfig:z,ReactCurrentOwner:re};function V(){throw Error("act(...) is not supported in production builds of React.")}return Ce.Children={map:ae,forEach:function(d,E,K){ae(d,function(){E.apply(this,arguments)},K)},count:function(d){var E=0;return ae(d,function(){E++}),E},toArray:function(d){return ae(d,function(E){return E})||[]},only:function(d){if(!$(d))throw Error("React.Children.only expected to receive a single React element child.");return d}},Ce.Component=B,Ce.Fragment=o,Ce.Profiler=x,Ce.PureComponent=ue,Ce.StrictMode=m,Ce.Suspense=_,Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,Ce.act=V,Ce.cloneElement=function(d,E,K){if(d==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+d+".");var S=q({},d.props),L=d.key,Z=d.ref,le=d._owner;if(E!=null){if(E.ref!==void 0&&(Z=E.ref,le=re.current),E.key!==void 0&&(L=""+E.key),d.type&&d.type.defaultProps)var ie=d.type.defaultProps;for(ce in E)Q.call(E,ce)&&!fe.hasOwnProperty(ce)&&(S[ce]=E[ce]===void 0&&ie!==void 0?ie[ce]:E[ce])}var ce=arguments.length-2;if(ce===1)S.children=K;else if(1<ce){ie=Array(ce);for(var Se=0;Se<ce;Se++)ie[Se]=arguments[Se+2];S.children=ie}return{$$typeof:v,type:d.type,key:L,ref:Z,props:S,_owner:le}},Ce.createContext=function(d){return d={$$typeof:c,_currentValue:d,_currentValue2:d,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},d.Provider={$$typeof:f,_context:d},d.Consumer=d},Ce.createElement=w,Ce.createFactory=function(d){var E=w.bind(null,d);return E.type=d,E},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(d){return{$$typeof:y,render:d}},Ce.isValidElement=$,Ce.lazy=function(d){return{$$typeof:D,_payload:{_status:-1,_result:d},_init:oe}},Ce.memo=function(d,E){return{$$typeof:h,type:d,compare:E===void 0?null:E}},Ce.startTransition=function(d){var E=z.transition;z.transition={};try{d()}finally{z.transition=E}},Ce.unstable_act=V,Ce.useCallback=function(d,E){return W.current.useCallback(d,E)},Ce.useContext=function(d){return W.current.useContext(d)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(d){return W.current.useDeferredValue(d)},Ce.useEffect=function(d,E){return W.current.useEffect(d,E)},Ce.useId=function(){return W.current.useId()},Ce.useImperativeHandle=function(d,E,K){return W.current.useImperativeHandle(d,E,K)},Ce.useInsertionEffect=function(d,E){return W.current.useInsertionEffect(d,E)},Ce.useLayoutEffect=function(d,E){return W.current.useLayoutEffect(d,E)},Ce.useMemo=function(d,E){return W.current.useMemo(d,E)},Ce.useReducer=function(d,E,K){return W.current.useReducer(d,E,K)},Ce.useRef=function(d){return W.current.useRef(d)},Ce.useState=function(d){return W.current.useState(d)},Ce.useSyncExternalStore=function(d,E,K){return W.current.useSyncExternalStore(d,E,K)},Ce.useTransition=function(){return W.current.useTransition()},Ce.version="18.3.1",Ce}var Mu;function ti(){return Mu||(Mu=1,Ya.exports=of()),Ya.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bu;function uf(){if(Bu)return Hr;Bu=1;var v=ti(),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),m=Object.prototype.hasOwnProperty,x=v.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f={key:!0,ref:!0,__self:!0,__source:!0};function c(y,_,h){var D,X={},b=null,G=null;h!==void 0&&(b=""+h),_.key!==void 0&&(b=""+_.key),_.ref!==void 0&&(G=_.ref);for(D in _)m.call(_,D)&&!f.hasOwnProperty(D)&&(X[D]=_[D]);if(y&&y.defaultProps)for(D in _=y.defaultProps,_)X[D]===void 0&&(X[D]=_[D]);return{$$typeof:i,type:y,key:b,ref:G,props:X,_owner:x.current}}return Hr.Fragment=o,Hr.jsx=c,Hr.jsxs=c,Hr}var Hu;function cf(){return Hu||(Hu=1,Qa.exports=uf()),Qa.exports}var s=cf(),be=ti();const vt=rc(be);var es={},Ga={exports:{}},gt={},Za={exports:{}},Xa={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wu;function df(){return Wu||(Wu=1,function(v){function i(z,M){var V=z.length;z.push(M);e:for(;0<V;){var d=V-1>>>1,E=z[d];if(0<x(E,M))z[d]=M,z[V]=E,V=d;else break e}}function o(z){return z.length===0?null:z[0]}function m(z){if(z.length===0)return null;var M=z[0],V=z.pop();if(V!==M){z[0]=V;e:for(var d=0,E=z.length,K=E>>>1;d<K;){var S=2*(d+1)-1,L=z[S],Z=S+1,le=z[Z];if(0>x(L,V))Z<E&&0>x(le,L)?(z[d]=le,z[Z]=V,d=Z):(z[d]=L,z[S]=V,d=S);else if(Z<E&&0>x(le,V))z[d]=le,z[Z]=V,d=Z;else break e}}return M}function x(z,M){var V=z.sortIndex-M.sortIndex;return V!==0?V:z.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;v.unstable_now=function(){return f.now()}}else{var c=Date,y=c.now();v.unstable_now=function(){return c.now()-y}}var _=[],h=[],D=1,X=null,b=3,G=!1,q=!1,U=!1,B=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,ue=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function H(z){for(var M=o(h);M!==null;){if(M.callback===null)m(h);else if(M.startTime<=z)m(h),M.sortIndex=M.expirationTime,i(_,M);else break;M=o(h)}}function O(z){if(U=!1,H(z),!q)if(o(_)!==null)q=!0,oe(Q);else{var M=o(h);M!==null&&W(O,M.startTime-z)}}function Q(z,M){q=!1,U&&(U=!1,C(w),w=-1),G=!0;var V=b;try{for(H(M),X=o(_);X!==null&&(!(X.expirationTime>M)||z&&!N());){var d=X.callback;if(typeof d=="function"){X.callback=null,b=X.priorityLevel;var E=d(X.expirationTime<=M);M=v.unstable_now(),typeof E=="function"?X.callback=E:X===o(_)&&m(_),H(M)}else m(_);X=o(_)}if(X!==null)var K=!0;else{var S=o(h);S!==null&&W(O,S.startTime-M),K=!1}return K}finally{X=null,b=V,G=!1}}var re=!1,fe=null,w=-1,j=5,$=-1;function N(){return!(v.unstable_now()-$<j)}function P(){if(fe!==null){var z=v.unstable_now();$=z;var M=!0;try{M=fe(!0,z)}finally{M?k():(re=!1,fe=null)}}else re=!1}var k;if(typeof ue=="function")k=function(){ue(P)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,ae=I.port2;I.port1.onmessage=P,k=function(){ae.postMessage(null)}}else k=function(){B(P,0)};function oe(z){fe=z,re||(re=!0,k())}function W(z,M){w=B(function(){z(v.unstable_now())},M)}v.unstable_IdlePriority=5,v.unstable_ImmediatePriority=1,v.unstable_LowPriority=4,v.unstable_NormalPriority=3,v.unstable_Profiling=null,v.unstable_UserBlockingPriority=2,v.unstable_cancelCallback=function(z){z.callback=null},v.unstable_continueExecution=function(){q||G||(q=!0,oe(Q))},v.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<z?Math.floor(1e3/z):5},v.unstable_getCurrentPriorityLevel=function(){return b},v.unstable_getFirstCallbackNode=function(){return o(_)},v.unstable_next=function(z){switch(b){case 1:case 2:case 3:var M=3;break;default:M=b}var V=b;b=M;try{return z()}finally{b=V}},v.unstable_pauseExecution=function(){},v.unstable_requestPaint=function(){},v.unstable_runWithPriority=function(z,M){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var V=b;b=z;try{return M()}finally{b=V}},v.unstable_scheduleCallback=function(z,M,V){var d=v.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?d+V:d):V=d,z){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=V+E,z={id:D++,callback:M,priorityLevel:z,startTime:V,expirationTime:E,sortIndex:-1},V>d?(z.sortIndex=V,i(h,z),o(_)===null&&z===o(h)&&(U?(C(w),w=-1):U=!0,W(O,V-d))):(z.sortIndex=E,i(_,z),q||G||(q=!0,oe(Q))),z},v.unstable_shouldYield=N,v.unstable_wrapCallback=function(z){var M=b;return function(){var V=b;b=M;try{return z.apply(this,arguments)}finally{b=V}}}}(Xa)),Xa}var qu;function ff(){return qu||(qu=1,Za.exports=df()),Za.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ku;function pf(){if(Ku)return gt;Ku=1;var v=ti(),i=ff();function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m=new Set,x={};function f(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(x[e]=t,e=0;e<t.length;e++)m.add(t[e])}var y=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,D={},X={};function b(e){return _.call(X,e)?!0:_.call(D,e)?!1:h.test(e)?X[e]=!0:(D[e]=!0,!1)}function G(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function q(e,t,n,r){if(t===null||typeof t>"u"||G(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function U(e,t,n,r,l,a,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=u}var B={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){B[e]=new U(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];B[t]=new U(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){B[e]=new U(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){B[e]=new U(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){B[e]=new U(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){B[e]=new U(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){B[e]=new U(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){B[e]=new U(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){B[e]=new U(e,5,!1,e.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function ue(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(C,ue);B[t]=new U(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(C,ue);B[t]=new U(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(C,ue);B[t]=new U(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){B[e]=new U(e,1,!1,e.toLowerCase(),null,!1,!1)}),B.xlinkHref=new U("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){B[e]=new U(e,1,!1,e.toLowerCase(),null,!0,!0)});function H(e,t,n,r){var l=B.hasOwnProperty(t)?B[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(q(t,n,l,r)&&(n=null),r||l===null?b(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var O=v.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q=Symbol.for("react.element"),re=Symbol.for("react.portal"),fe=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),N=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),W=Symbol.for("react.offscreen"),z=Symbol.iterator;function M(e){return e===null||typeof e!="object"?null:(e=z&&e[z]||e["@@iterator"],typeof e=="function"?e:null)}var V=Object.assign,d;function E(e){if(d===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);d=t&&t[1]||""}return`
`+d+e}var K=!1;function S(e,t){if(!e||K)return"";K=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(A){var r=A}Reflect.construct(e,[],t)}else{try{t.call()}catch(A){r=A}e.call(t.prototype)}else{try{throw Error()}catch(A){r=A}e()}}catch(A){if(A&&r&&typeof A.stack=="string"){for(var l=A.stack.split(`
`),a=r.stack.split(`
`),u=l.length-1,p=a.length-1;1<=u&&0<=p&&l[u]!==a[p];)p--;for(;1<=u&&0<=p;u--,p--)if(l[u]!==a[p]){if(u!==1||p!==1)do if(u--,p--,0>p||l[u]!==a[p]){var g=`
`+l[u].replace(" at new "," at ");return e.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",e.displayName)),g}while(1<=u&&0<=p);break}}}finally{K=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?E(e):""}function L(e){switch(e.tag){case 5:return E(e.type);case 16:return E("Lazy");case 13:return E("Suspense");case 19:return E("SuspenseList");case 0:case 2:case 15:return e=S(e.type,!1),e;case 11:return e=S(e.type.render,!1),e;case 1:return e=S(e.type,!0),e;default:return""}}function Z(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fe:return"Fragment";case re:return"Portal";case j:return"Profiler";case w:return"StrictMode";case k:return"Suspense";case I:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case $:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ae:return t=e.displayName||null,t!==null?t:Z(e.type)||"Memo";case oe:t=e._payload,e=e._init;try{return Z(e(t))}catch{}}return null}function le(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Z(t);case 8:return t===w?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ie(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ce(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Se(e){var t=ce(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(u){r=""+u,a.call(this,u)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ye(e){e._valueTracker||(e._valueTracker=Se(e))}function Oe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ce(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function $e(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Pe(e,t){var n=t.checked;return V({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function je(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ie(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Re(e,t){t=t.checked,t!=null&&H(e,"checked",t,!1)}function ke(e,t){Re(e,t);var n=ie(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Y(e,t.type,n):t.hasOwnProperty("defaultValue")&&Y(e,t.type,ie(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function te(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Y(e,t,n){(t!=="number"||$e(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var me=Array.isArray;function Ge(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ie(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function ut(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(o(91));return V({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Xt(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(o(92));if(me(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ie(n)}}function Ke(e,t){var n=ie(t.value),r=ie(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function yt(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Be(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ze(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Be(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ct,Fn=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ct=ct||document.createElement("div"),ct.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ct.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Jt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var kt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Nt=["Webkit","ms","Moz","O"];Object.keys(kt).forEach(function(e){Nt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),kt[t]=kt[e]})});function en(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||kt.hasOwnProperty(e)&&kt[e]?(""+t).trim():t+"px"}function ir(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=en(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var fc=V({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function as(e,t){if(t){if(fc[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(o(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(t.style!=null&&typeof t.style!="object")throw Error(o(62))}}function is(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var os=null;function us(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cs=null,Dn=null,In=null;function ri(e){if(e=Er(e)){if(typeof cs!="function")throw Error(o(280));var t=e.stateNode;t&&(t=hl(t),cs(e.stateNode,e.type,t))}}function li(e){Dn?In?In.push(e):In=[e]:Dn=e}function si(){if(Dn){var e=Dn,t=In;if(In=Dn=null,ri(e),t)for(e=0;e<t.length;e++)ri(t[e])}}function ai(e,t){return e(t)}function ii(){}var ds=!1;function oi(e,t,n){if(ds)return e(t,n);ds=!0;try{return ai(e,t,n)}finally{ds=!1,(Dn!==null||In!==null)&&(ii(),si())}}function or(e,t){var n=e.stateNode;if(n===null)return null;var r=hl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(o(231,t,typeof n));return n}var fs=!1;if(y)try{var ur={};Object.defineProperty(ur,"passive",{get:function(){fs=!0}}),window.addEventListener("test",ur,ur),window.removeEventListener("test",ur,ur)}catch{fs=!1}function pc(e,t,n,r,l,a,u,p,g){var A=Array.prototype.slice.call(arguments,3);try{t.apply(n,A)}catch(ee){this.onError(ee)}}var cr=!1,Kr=null,Qr=!1,ps=null,mc={onError:function(e){cr=!0,Kr=e}};function hc(e,t,n,r,l,a,u,p,g){cr=!1,Kr=null,pc.apply(mc,arguments)}function gc(e,t,n,r,l,a,u,p,g){if(hc.apply(this,arguments),cr){if(cr){var A=Kr;cr=!1,Kr=null}else throw Error(o(198));Qr||(Qr=!0,ps=A)}}function Sn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ui(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ci(e){if(Sn(e)!==e)throw Error(o(188))}function vc(e){var t=e.alternate;if(!t){if(t=Sn(e),t===null)throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var a=l.alternate;if(a===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===n)return ci(l),e;if(a===r)return ci(l),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=l,r=a;else{for(var u=!1,p=l.child;p;){if(p===n){u=!0,n=l,r=a;break}if(p===r){u=!0,r=l,n=a;break}p=p.sibling}if(!u){for(p=a.child;p;){if(p===n){u=!0,n=a,r=l;break}if(p===r){u=!0,r=a,n=l;break}p=p.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?e:t}function di(e){return e=vc(e),e!==null?fi(e):null}function fi(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=fi(e);if(t!==null)return t;e=e.sibling}return null}var pi=i.unstable_scheduleCallback,mi=i.unstable_cancelCallback,yc=i.unstable_shouldYield,xc=i.unstable_requestPaint,He=i.unstable_now,wc=i.unstable_getCurrentPriorityLevel,ms=i.unstable_ImmediatePriority,hi=i.unstable_UserBlockingPriority,Yr=i.unstable_NormalPriority,Sc=i.unstable_LowPriority,gi=i.unstable_IdlePriority,Gr=null,At=null;function Rc(e){if(At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(Gr,e,void 0,(e.current.flags&128)===128)}catch{}}var _t=Math.clz32?Math.clz32:bc,kc=Math.log,Nc=Math.LN2;function bc(e){return e>>>=0,e===0?32:31-(kc(e)/Nc|0)|0}var Zr=64,Xr=4194304;function dr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Jr(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,a=e.pingedLanes,u=n&268435455;if(u!==0){var p=u&~l;p!==0?r=dr(p):(a&=u,a!==0&&(r=dr(a)))}else u=n&~l,u!==0?r=dr(u):a!==0&&(r=dr(a));if(r===0)return 0;if(t!==0&&t!==r&&(t&l)===0&&(l=r&-r,a=t&-t,l>=a||l===16&&(a&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-_t(t),l=1<<n,r|=e[n],t&=~l;return r}function jc(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cc(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,a=e.pendingLanes;0<a;){var u=31-_t(a),p=1<<u,g=l[u];g===-1?((p&n)===0||(p&r)!==0)&&(l[u]=jc(p,t)):g<=t&&(e.expiredLanes|=p),a&=~p}}function hs(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function vi(){var e=Zr;return Zr<<=1,(Zr&4194240)===0&&(Zr=64),e}function gs(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function fr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_t(t),e[t]=n}function Pc(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-_t(n),a=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~a}}function vs(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-_t(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var Fe=0;function yi(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var xi,ys,wi,Si,Ri,xs=!1,el=[],tn=null,nn=null,rn=null,pr=new Map,mr=new Map,ln=[],Ec="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ki(e,t){switch(e){case"focusin":case"focusout":tn=null;break;case"dragenter":case"dragleave":nn=null;break;case"mouseover":case"mouseout":rn=null;break;case"pointerover":case"pointerout":pr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mr.delete(t.pointerId)}}function hr(e,t,n,r,l,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[l]},t!==null&&(t=Er(t),t!==null&&ys(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Oc(e,t,n,r,l){switch(t){case"focusin":return tn=hr(tn,e,t,n,r,l),!0;case"dragenter":return nn=hr(nn,e,t,n,r,l),!0;case"mouseover":return rn=hr(rn,e,t,n,r,l),!0;case"pointerover":var a=l.pointerId;return pr.set(a,hr(pr.get(a)||null,e,t,n,r,l)),!0;case"gotpointercapture":return a=l.pointerId,mr.set(a,hr(mr.get(a)||null,e,t,n,r,l)),!0}return!1}function Ni(e){var t=Rn(e.target);if(t!==null){var n=Sn(t);if(n!==null){if(t=n.tag,t===13){if(t=ui(n),t!==null){e.blockedOn=t,Ri(e.priority,function(){wi(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ss(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);os=r,n.target.dispatchEvent(r),os=null}else return t=Er(n),t!==null&&ys(t),e.blockedOn=n,!1;t.shift()}return!0}function bi(e,t,n){tl(e)&&n.delete(t)}function _c(){xs=!1,tn!==null&&tl(tn)&&(tn=null),nn!==null&&tl(nn)&&(nn=null),rn!==null&&tl(rn)&&(rn=null),pr.forEach(bi),mr.forEach(bi)}function gr(e,t){e.blockedOn===t&&(e.blockedOn=null,xs||(xs=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,_c)))}function vr(e){function t(l){return gr(l,e)}if(0<el.length){gr(el[0],e);for(var n=1;n<el.length;n++){var r=el[n];r.blockedOn===e&&(r.blockedOn=null)}}for(tn!==null&&gr(tn,e),nn!==null&&gr(nn,e),rn!==null&&gr(rn,e),pr.forEach(t),mr.forEach(t),n=0;n<ln.length;n++)r=ln[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ln.length&&(n=ln[0],n.blockedOn===null);)Ni(n),n.blockedOn===null&&ln.shift()}var Vn=O.ReactCurrentBatchConfig,nl=!0;function Tc(e,t,n,r){var l=Fe,a=Vn.transition;Vn.transition=null;try{Fe=1,ws(e,t,n,r)}finally{Fe=l,Vn.transition=a}}function $c(e,t,n,r){var l=Fe,a=Vn.transition;Vn.transition=null;try{Fe=4,ws(e,t,n,r)}finally{Fe=l,Vn.transition=a}}function ws(e,t,n,r){if(nl){var l=Ss(e,t,n,r);if(l===null)Vs(e,t,r,rl,n),ki(e,r);else if(Oc(l,e,t,n,r))r.stopPropagation();else if(ki(e,r),t&4&&-1<Ec.indexOf(e)){for(;l!==null;){var a=Er(l);if(a!==null&&xi(a),a=Ss(e,t,n,r),a===null&&Vs(e,t,r,rl,n),a===l)break;l=a}l!==null&&r.stopPropagation()}else Vs(e,t,r,null,n)}}var rl=null;function Ss(e,t,n,r){if(rl=null,e=us(r),e=Rn(e),e!==null)if(t=Sn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ui(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rl=e,null}function ji(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wc()){case ms:return 1;case hi:return 4;case Yr:case Sc:return 16;case gi:return 536870912;default:return 16}default:return 16}}var sn=null,Rs=null,ll=null;function Ci(){if(ll)return ll;var e,t=Rs,n=t.length,r,l="value"in sn?sn.value:sn.textContent,a=l.length;for(e=0;e<n&&t[e]===l[e];e++);var u=n-e;for(r=1;r<=u&&t[n-r]===l[a-r];r++);return ll=l.slice(e,1<r?1-r:void 0)}function sl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function al(){return!0}function Pi(){return!1}function xt(e){function t(n,r,l,a,u){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=a,this.target=u,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(n=e[p],this[p]=n?n(a):a[p]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?al:Pi,this.isPropagationStopped=Pi,this}return V(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=al)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=al)},persist:function(){},isPersistent:al}),t}var An={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ks=xt(An),yr=V({},An,{view:0,detail:0}),Lc=xt(yr),Ns,bs,xr,il=V({},yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xr&&(xr&&e.type==="mousemove"?(Ns=e.screenX-xr.screenX,bs=e.screenY-xr.screenY):bs=Ns=0,xr=e),Ns)},movementY:function(e){return"movementY"in e?e.movementY:bs}}),Ei=xt(il),Fc=V({},il,{dataTransfer:0}),Dc=xt(Fc),Ic=V({},yr,{relatedTarget:0}),js=xt(Ic),Vc=V({},An,{animationName:0,elapsedTime:0,pseudoElement:0}),Ac=xt(Vc),zc=V({},An,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Uc=xt(zc),Mc=V({},An,{data:0}),Oi=xt(Mc),Bc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qc(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Wc[e])?!!t[e]:!1}function Cs(){return qc}var Kc=V({},yr,{key:function(e){if(e.key){var t=Bc[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=sl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cs,charCode:function(e){return e.type==="keypress"?sl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?sl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qc=xt(Kc),Yc=V({},il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_i=xt(Yc),Gc=V({},yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cs}),Zc=xt(Gc),Xc=V({},An,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jc=xt(Xc),ed=V({},il,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),td=xt(ed),nd=[9,13,27,32],Ps=y&&"CompositionEvent"in window,wr=null;y&&"documentMode"in document&&(wr=document.documentMode);var rd=y&&"TextEvent"in window&&!wr,Ti=y&&(!Ps||wr&&8<wr&&11>=wr),$i=" ",Li=!1;function Fi(e,t){switch(e){case"keyup":return nd.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Di(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zn=!1;function ld(e,t){switch(e){case"compositionend":return Di(t);case"keypress":return t.which!==32?null:(Li=!0,$i);case"textInput":return e=t.data,e===$i&&Li?null:e;default:return null}}function sd(e,t){if(zn)return e==="compositionend"||!Ps&&Fi(e,t)?(e=Ci(),ll=Rs=sn=null,zn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ti&&t.locale!=="ko"?null:t.data;default:return null}}var ad={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ii(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ad[e.type]:t==="textarea"}function Vi(e,t,n,r){li(r),t=fl(t,"onChange"),0<t.length&&(n=new ks("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Sr=null,Rr=null;function id(e){no(e,0)}function ol(e){var t=Wn(e);if(Oe(t))return e}function od(e,t){if(e==="change")return t}var Ai=!1;if(y){var Es;if(y){var Os="oninput"in document;if(!Os){var zi=document.createElement("div");zi.setAttribute("oninput","return;"),Os=typeof zi.oninput=="function"}Es=Os}else Es=!1;Ai=Es&&(!document.documentMode||9<document.documentMode)}function Ui(){Sr&&(Sr.detachEvent("onpropertychange",Mi),Rr=Sr=null)}function Mi(e){if(e.propertyName==="value"&&ol(Rr)){var t=[];Vi(t,Rr,e,us(e)),oi(id,t)}}function ud(e,t,n){e==="focusin"?(Ui(),Sr=t,Rr=n,Sr.attachEvent("onpropertychange",Mi)):e==="focusout"&&Ui()}function cd(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ol(Rr)}function dd(e,t){if(e==="click")return ol(t)}function fd(e,t){if(e==="input"||e==="change")return ol(t)}function pd(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tt=typeof Object.is=="function"?Object.is:pd;function kr(e,t){if(Tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!_.call(t,l)||!Tt(e[l],t[l]))return!1}return!0}function Bi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hi(e,t){var n=Bi(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Bi(n)}}function Wi(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Wi(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qi(){for(var e=window,t=$e();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=$e(e.document)}return t}function _s(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function md(e){var t=qi(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Wi(n.ownerDocument.documentElement,n)){if(r!==null&&_s(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,a=Math.min(r.start,l);r=r.end===void 0?a:Math.min(r.end,l),!e.extend&&a>r&&(l=r,r=a,a=l),l=Hi(n,a);var u=Hi(n,r);l&&u&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(u.node,u.offset)):(t.setEnd(u.node,u.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hd=y&&"documentMode"in document&&11>=document.documentMode,Un=null,Ts=null,Nr=null,$s=!1;function Ki(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$s||Un==null||Un!==$e(r)||(r=Un,"selectionStart"in r&&_s(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Nr&&kr(Nr,r)||(Nr=r,r=fl(Ts,"onSelect"),0<r.length&&(t=new ks("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Un)))}function ul(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Mn={animationend:ul("Animation","AnimationEnd"),animationiteration:ul("Animation","AnimationIteration"),animationstart:ul("Animation","AnimationStart"),transitionend:ul("Transition","TransitionEnd")},Ls={},Qi={};y&&(Qi=document.createElement("div").style,"AnimationEvent"in window||(delete Mn.animationend.animation,delete Mn.animationiteration.animation,delete Mn.animationstart.animation),"TransitionEvent"in window||delete Mn.transitionend.transition);function cl(e){if(Ls[e])return Ls[e];if(!Mn[e])return e;var t=Mn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Qi)return Ls[e]=t[n];return e}var Yi=cl("animationend"),Gi=cl("animationiteration"),Zi=cl("animationstart"),Xi=cl("transitionend"),Ji=new Map,eo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function an(e,t){Ji.set(e,t),f(t,[e])}for(var Fs=0;Fs<eo.length;Fs++){var Ds=eo[Fs],gd=Ds.toLowerCase(),vd=Ds[0].toUpperCase()+Ds.slice(1);an(gd,"on"+vd)}an(Yi,"onAnimationEnd"),an(Gi,"onAnimationIteration"),an(Zi,"onAnimationStart"),an("dblclick","onDoubleClick"),an("focusin","onFocus"),an("focusout","onBlur"),an(Xi,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),f("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),f("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),f("onBeforeInput",["compositionend","keypress","textInput","paste"]),f("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var br="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yd=new Set("cancel close invalid load scroll toggle".split(" ").concat(br));function to(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,gc(r,t,void 0,e),e.currentTarget=null}function no(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var u=r.length-1;0<=u;u--){var p=r[u],g=p.instance,A=p.currentTarget;if(p=p.listener,g!==a&&l.isPropagationStopped())break e;to(l,p,A),a=g}else for(u=0;u<r.length;u++){if(p=r[u],g=p.instance,A=p.currentTarget,p=p.listener,g!==a&&l.isPropagationStopped())break e;to(l,p,A),a=g}}}if(Qr)throw e=ps,Qr=!1,ps=null,e}function Ie(e,t){var n=t[Hs];n===void 0&&(n=t[Hs]=new Set);var r=e+"__bubble";n.has(r)||(ro(t,e,2,!1),n.add(r))}function Is(e,t,n){var r=0;t&&(r|=4),ro(n,e,r,t)}var dl="_reactListening"+Math.random().toString(36).slice(2);function jr(e){if(!e[dl]){e[dl]=!0,m.forEach(function(n){n!=="selectionchange"&&(yd.has(n)||Is(n,!1,e),Is(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[dl]||(t[dl]=!0,Is("selectionchange",!1,t))}}function ro(e,t,n,r){switch(ji(t)){case 1:var l=Tc;break;case 4:l=$c;break;default:l=ws}n=l.bind(null,t,n,e),l=void 0,!fs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Vs(e,t,n,r,l){var a=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var p=r.stateNode.containerInfo;if(p===l||p.nodeType===8&&p.parentNode===l)break;if(u===4)for(u=r.return;u!==null;){var g=u.tag;if((g===3||g===4)&&(g=u.stateNode.containerInfo,g===l||g.nodeType===8&&g.parentNode===l))return;u=u.return}for(;p!==null;){if(u=Rn(p),u===null)return;if(g=u.tag,g===5||g===6){r=a=u;continue e}p=p.parentNode}}r=r.return}oi(function(){var A=a,ee=us(n),ne=[];e:{var J=Ji.get(e);if(J!==void 0){var de=ks,he=e;switch(e){case"keypress":if(sl(n)===0)break e;case"keydown":case"keyup":de=Qc;break;case"focusin":he="focus",de=js;break;case"focusout":he="blur",de=js;break;case"beforeblur":case"afterblur":de=js;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Ei;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=Dc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=Zc;break;case Yi:case Gi:case Zi:de=Ac;break;case Xi:de=Jc;break;case"scroll":de=Lc;break;case"wheel":de=td;break;case"copy":case"cut":case"paste":de=Uc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=_i}var ge=(t&4)!==0,We=!ge&&e==="scroll",T=ge?J!==null?J+"Capture":null:J;ge=[];for(var R=A,F;R!==null;){F=R;var se=F.stateNode;if(F.tag===5&&se!==null&&(F=se,T!==null&&(se=or(R,T),se!=null&&ge.push(Cr(R,se,F)))),We)break;R=R.return}0<ge.length&&(J=new de(J,he,null,n,ee),ne.push({event:J,listeners:ge}))}}if((t&7)===0){e:{if(J=e==="mouseover"||e==="pointerover",de=e==="mouseout"||e==="pointerout",J&&n!==os&&(he=n.relatedTarget||n.fromElement)&&(Rn(he)||he[Ht]))break e;if((de||J)&&(J=ee.window===ee?ee:(J=ee.ownerDocument)?J.defaultView||J.parentWindow:window,de?(he=n.relatedTarget||n.toElement,de=A,he=he?Rn(he):null,he!==null&&(We=Sn(he),he!==We||he.tag!==5&&he.tag!==6)&&(he=null)):(de=null,he=A),de!==he)){if(ge=Ei,se="onMouseLeave",T="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(ge=_i,se="onPointerLeave",T="onPointerEnter",R="pointer"),We=de==null?J:Wn(de),F=he==null?J:Wn(he),J=new ge(se,R+"leave",de,n,ee),J.target=We,J.relatedTarget=F,se=null,Rn(ee)===A&&(ge=new ge(T,R+"enter",he,n,ee),ge.target=F,ge.relatedTarget=We,se=ge),We=se,de&&he)t:{for(ge=de,T=he,R=0,F=ge;F;F=Bn(F))R++;for(F=0,se=T;se;se=Bn(se))F++;for(;0<R-F;)ge=Bn(ge),R--;for(;0<F-R;)T=Bn(T),F--;for(;R--;){if(ge===T||T!==null&&ge===T.alternate)break t;ge=Bn(ge),T=Bn(T)}ge=null}else ge=null;de!==null&&lo(ne,J,de,ge,!1),he!==null&&We!==null&&lo(ne,We,he,ge,!0)}}e:{if(J=A?Wn(A):window,de=J.nodeName&&J.nodeName.toLowerCase(),de==="select"||de==="input"&&J.type==="file")var ve=od;else if(Ii(J))if(Ai)ve=fd;else{ve=cd;var xe=ud}else(de=J.nodeName)&&de.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(ve=dd);if(ve&&(ve=ve(e,A))){Vi(ne,ve,n,ee);break e}xe&&xe(e,J,A),e==="focusout"&&(xe=J._wrapperState)&&xe.controlled&&J.type==="number"&&Y(J,"number",J.value)}switch(xe=A?Wn(A):window,e){case"focusin":(Ii(xe)||xe.contentEditable==="true")&&(Un=xe,Ts=A,Nr=null);break;case"focusout":Nr=Ts=Un=null;break;case"mousedown":$s=!0;break;case"contextmenu":case"mouseup":case"dragend":$s=!1,Ki(ne,n,ee);break;case"selectionchange":if(hd)break;case"keydown":case"keyup":Ki(ne,n,ee)}var we;if(Ps)e:{switch(e){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else zn?Fi(e,n)&&(Ne="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ne="onCompositionStart");Ne&&(Ti&&n.locale!=="ko"&&(zn||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&zn&&(we=Ci()):(sn=ee,Rs="value"in sn?sn.value:sn.textContent,zn=!0)),xe=fl(A,Ne),0<xe.length&&(Ne=new Oi(Ne,e,null,n,ee),ne.push({event:Ne,listeners:xe}),we?Ne.data=we:(we=Di(n),we!==null&&(Ne.data=we)))),(we=rd?ld(e,n):sd(e,n))&&(A=fl(A,"onBeforeInput"),0<A.length&&(ee=new Oi("onBeforeInput","beforeinput",null,n,ee),ne.push({event:ee,listeners:A}),ee.data=we))}no(ne,t)})}function Cr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function fl(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,a=l.stateNode;l.tag===5&&a!==null&&(l=a,a=or(e,n),a!=null&&r.unshift(Cr(e,a,l)),a=or(e,t),a!=null&&r.push(Cr(e,a,l))),e=e.return}return r}function Bn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function lo(e,t,n,r,l){for(var a=t._reactName,u=[];n!==null&&n!==r;){var p=n,g=p.alternate,A=p.stateNode;if(g!==null&&g===r)break;p.tag===5&&A!==null&&(p=A,l?(g=or(n,a),g!=null&&u.unshift(Cr(n,g,p))):l||(g=or(n,a),g!=null&&u.push(Cr(n,g,p)))),n=n.return}u.length!==0&&e.push({event:t,listeners:u})}var xd=/\r\n?/g,wd=/\u0000|\uFFFD/g;function so(e){return(typeof e=="string"?e:""+e).replace(xd,`
`).replace(wd,"")}function pl(e,t,n){if(t=so(t),so(e)!==t&&n)throw Error(o(425))}function ml(){}var As=null,zs=null;function Us(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ms=typeof setTimeout=="function"?setTimeout:void 0,Sd=typeof clearTimeout=="function"?clearTimeout:void 0,ao=typeof Promise=="function"?Promise:void 0,Rd=typeof queueMicrotask=="function"?queueMicrotask:typeof ao<"u"?function(e){return ao.resolve(null).then(e).catch(kd)}:Ms;function kd(e){setTimeout(function(){throw e})}function Bs(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),vr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);vr(t)}function on(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function io(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Hn=Math.random().toString(36).slice(2),zt="__reactFiber$"+Hn,Pr="__reactProps$"+Hn,Ht="__reactContainer$"+Hn,Hs="__reactEvents$"+Hn,Nd="__reactListeners$"+Hn,bd="__reactHandles$"+Hn;function Rn(e){var t=e[zt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ht]||n[zt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=io(e);e!==null;){if(n=e[zt])return n;e=io(e)}return t}e=n,n=e.parentNode}return null}function Er(e){return e=e[zt]||e[Ht],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Wn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function hl(e){return e[Pr]||null}var Ws=[],qn=-1;function un(e){return{current:e}}function Ve(e){0>qn||(e.current=Ws[qn],Ws[qn]=null,qn--)}function De(e,t){qn++,Ws[qn]=e.current,e.current=t}var cn={},rt=un(cn),dt=un(!1),kn=cn;function Kn(e,t){var n=e.type.contextTypes;if(!n)return cn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},a;for(a in n)l[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function ft(e){return e=e.childContextTypes,e!=null}function gl(){Ve(dt),Ve(rt)}function oo(e,t,n){if(rt.current!==cn)throw Error(o(168));De(rt,t),De(dt,n)}function uo(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(o(108,le(e)||"Unknown",l));return V({},n,r)}function vl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||cn,kn=rt.current,De(rt,e),De(dt,dt.current),!0}function co(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=uo(e,t,kn),r.__reactInternalMemoizedMergedChildContext=e,Ve(dt),Ve(rt),De(rt,e)):Ve(dt),De(dt,n)}var Wt=null,yl=!1,qs=!1;function fo(e){Wt===null?Wt=[e]:Wt.push(e)}function jd(e){yl=!0,fo(e)}function dn(){if(!qs&&Wt!==null){qs=!0;var e=0,t=Fe;try{var n=Wt;for(Fe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Wt=null,yl=!1}catch(l){throw Wt!==null&&(Wt=Wt.slice(e+1)),pi(ms,dn),l}finally{Fe=t,qs=!1}}return null}var Qn=[],Yn=0,xl=null,wl=0,bt=[],jt=0,Nn=null,qt=1,Kt="";function bn(e,t){Qn[Yn++]=wl,Qn[Yn++]=xl,xl=e,wl=t}function po(e,t,n){bt[jt++]=qt,bt[jt++]=Kt,bt[jt++]=Nn,Nn=e;var r=qt;e=Kt;var l=32-_t(r)-1;r&=~(1<<l),n+=1;var a=32-_t(t)+l;if(30<a){var u=l-l%5;a=(r&(1<<u)-1).toString(32),r>>=u,l-=u,qt=1<<32-_t(t)+l|n<<l|r,Kt=a+e}else qt=1<<a|n<<l|r,Kt=e}function Ks(e){e.return!==null&&(bn(e,1),po(e,1,0))}function Qs(e){for(;e===xl;)xl=Qn[--Yn],Qn[Yn]=null,wl=Qn[--Yn],Qn[Yn]=null;for(;e===Nn;)Nn=bt[--jt],bt[jt]=null,Kt=bt[--jt],bt[jt]=null,qt=bt[--jt],bt[jt]=null}var wt=null,St=null,Ae=!1,$t=null;function mo(e,t){var n=Ot(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ho(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,wt=e,St=on(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,wt=e,St=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Nn!==null?{id:qt,overflow:Kt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ot(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,wt=e,St=null,!0):!1;default:return!1}}function Ys(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Gs(e){if(Ae){var t=St;if(t){var n=t;if(!ho(e,t)){if(Ys(e))throw Error(o(418));t=on(n.nextSibling);var r=wt;t&&ho(e,t)?mo(r,n):(e.flags=e.flags&-4097|2,Ae=!1,wt=e)}}else{if(Ys(e))throw Error(o(418));e.flags=e.flags&-4097|2,Ae=!1,wt=e}}}function go(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wt=e}function Sl(e){if(e!==wt)return!1;if(!Ae)return go(e),Ae=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Us(e.type,e.memoizedProps)),t&&(t=St)){if(Ys(e))throw vo(),Error(o(418));for(;t;)mo(e,t),t=on(t.nextSibling)}if(go(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){St=on(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}St=null}}else St=wt?on(e.stateNode.nextSibling):null;return!0}function vo(){for(var e=St;e;)e=on(e.nextSibling)}function Gn(){St=wt=null,Ae=!1}function Zs(e){$t===null?$t=[e]:$t.push(e)}var Cd=O.ReactCurrentBatchConfig;function Or(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var l=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(u){var p=l.refs;u===null?delete p[a]:p[a]=u},t._stringRef=a,t)}if(typeof e!="string")throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Rl(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yo(e){var t=e._init;return t(e._payload)}function xo(e){function t(T,R){if(e){var F=T.deletions;F===null?(T.deletions=[R],T.flags|=16):F.push(R)}}function n(T,R){if(!e)return null;for(;R!==null;)t(T,R),R=R.sibling;return null}function r(T,R){for(T=new Map;R!==null;)R.key!==null?T.set(R.key,R):T.set(R.index,R),R=R.sibling;return T}function l(T,R){return T=xn(T,R),T.index=0,T.sibling=null,T}function a(T,R,F){return T.index=F,e?(F=T.alternate,F!==null?(F=F.index,F<R?(T.flags|=2,R):F):(T.flags|=2,R)):(T.flags|=1048576,R)}function u(T){return e&&T.alternate===null&&(T.flags|=2),T}function p(T,R,F,se){return R===null||R.tag!==6?(R=Ma(F,T.mode,se),R.return=T,R):(R=l(R,F),R.return=T,R)}function g(T,R,F,se){var ve=F.type;return ve===fe?ee(T,R,F.props.children,se,F.key):R!==null&&(R.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===oe&&yo(ve)===R.type)?(se=l(R,F.props),se.ref=Or(T,R,F),se.return=T,se):(se=ql(F.type,F.key,F.props,null,T.mode,se),se.ref=Or(T,R,F),se.return=T,se)}function A(T,R,F,se){return R===null||R.tag!==4||R.stateNode.containerInfo!==F.containerInfo||R.stateNode.implementation!==F.implementation?(R=Ba(F,T.mode,se),R.return=T,R):(R=l(R,F.children||[]),R.return=T,R)}function ee(T,R,F,se,ve){return R===null||R.tag!==7?(R=$n(F,T.mode,se,ve),R.return=T,R):(R=l(R,F),R.return=T,R)}function ne(T,R,F){if(typeof R=="string"&&R!==""||typeof R=="number")return R=Ma(""+R,T.mode,F),R.return=T,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Q:return F=ql(R.type,R.key,R.props,null,T.mode,F),F.ref=Or(T,null,R),F.return=T,F;case re:return R=Ba(R,T.mode,F),R.return=T,R;case oe:var se=R._init;return ne(T,se(R._payload),F)}if(me(R)||M(R))return R=$n(R,T.mode,F,null),R.return=T,R;Rl(T,R)}return null}function J(T,R,F,se){var ve=R!==null?R.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return ve!==null?null:p(T,R,""+F,se);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Q:return F.key===ve?g(T,R,F,se):null;case re:return F.key===ve?A(T,R,F,se):null;case oe:return ve=F._init,J(T,R,ve(F._payload),se)}if(me(F)||M(F))return ve!==null?null:ee(T,R,F,se,null);Rl(T,F)}return null}function de(T,R,F,se,ve){if(typeof se=="string"&&se!==""||typeof se=="number")return T=T.get(F)||null,p(R,T,""+se,ve);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case Q:return T=T.get(se.key===null?F:se.key)||null,g(R,T,se,ve);case re:return T=T.get(se.key===null?F:se.key)||null,A(R,T,se,ve);case oe:var xe=se._init;return de(T,R,F,xe(se._payload),ve)}if(me(se)||M(se))return T=T.get(F)||null,ee(R,T,se,ve,null);Rl(R,se)}return null}function he(T,R,F,se){for(var ve=null,xe=null,we=R,Ne=R=0,et=null;we!==null&&Ne<F.length;Ne++){we.index>Ne?(et=we,we=null):et=we.sibling;var Te=J(T,we,F[Ne],se);if(Te===null){we===null&&(we=et);break}e&&we&&Te.alternate===null&&t(T,we),R=a(Te,R,Ne),xe===null?ve=Te:xe.sibling=Te,xe=Te,we=et}if(Ne===F.length)return n(T,we),Ae&&bn(T,Ne),ve;if(we===null){for(;Ne<F.length;Ne++)we=ne(T,F[Ne],se),we!==null&&(R=a(we,R,Ne),xe===null?ve=we:xe.sibling=we,xe=we);return Ae&&bn(T,Ne),ve}for(we=r(T,we);Ne<F.length;Ne++)et=de(we,T,Ne,F[Ne],se),et!==null&&(e&&et.alternate!==null&&we.delete(et.key===null?Ne:et.key),R=a(et,R,Ne),xe===null?ve=et:xe.sibling=et,xe=et);return e&&we.forEach(function(wn){return t(T,wn)}),Ae&&bn(T,Ne),ve}function ge(T,R,F,se){var ve=M(F);if(typeof ve!="function")throw Error(o(150));if(F=ve.call(F),F==null)throw Error(o(151));for(var xe=ve=null,we=R,Ne=R=0,et=null,Te=F.next();we!==null&&!Te.done;Ne++,Te=F.next()){we.index>Ne?(et=we,we=null):et=we.sibling;var wn=J(T,we,Te.value,se);if(wn===null){we===null&&(we=et);break}e&&we&&wn.alternate===null&&t(T,we),R=a(wn,R,Ne),xe===null?ve=wn:xe.sibling=wn,xe=wn,we=et}if(Te.done)return n(T,we),Ae&&bn(T,Ne),ve;if(we===null){for(;!Te.done;Ne++,Te=F.next())Te=ne(T,Te.value,se),Te!==null&&(R=a(Te,R,Ne),xe===null?ve=Te:xe.sibling=Te,xe=Te);return Ae&&bn(T,Ne),ve}for(we=r(T,we);!Te.done;Ne++,Te=F.next())Te=de(we,T,Ne,Te.value,se),Te!==null&&(e&&Te.alternate!==null&&we.delete(Te.key===null?Ne:Te.key),R=a(Te,R,Ne),xe===null?ve=Te:xe.sibling=Te,xe=Te);return e&&we.forEach(function(af){return t(T,af)}),Ae&&bn(T,Ne),ve}function We(T,R,F,se){if(typeof F=="object"&&F!==null&&F.type===fe&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case Q:e:{for(var ve=F.key,xe=R;xe!==null;){if(xe.key===ve){if(ve=F.type,ve===fe){if(xe.tag===7){n(T,xe.sibling),R=l(xe,F.props.children),R.return=T,T=R;break e}}else if(xe.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===oe&&yo(ve)===xe.type){n(T,xe.sibling),R=l(xe,F.props),R.ref=Or(T,xe,F),R.return=T,T=R;break e}n(T,xe);break}else t(T,xe);xe=xe.sibling}F.type===fe?(R=$n(F.props.children,T.mode,se,F.key),R.return=T,T=R):(se=ql(F.type,F.key,F.props,null,T.mode,se),se.ref=Or(T,R,F),se.return=T,T=se)}return u(T);case re:e:{for(xe=F.key;R!==null;){if(R.key===xe)if(R.tag===4&&R.stateNode.containerInfo===F.containerInfo&&R.stateNode.implementation===F.implementation){n(T,R.sibling),R=l(R,F.children||[]),R.return=T,T=R;break e}else{n(T,R);break}else t(T,R);R=R.sibling}R=Ba(F,T.mode,se),R.return=T,T=R}return u(T);case oe:return xe=F._init,We(T,R,xe(F._payload),se)}if(me(F))return he(T,R,F,se);if(M(F))return ge(T,R,F,se);Rl(T,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,R!==null&&R.tag===6?(n(T,R.sibling),R=l(R,F),R.return=T,T=R):(n(T,R),R=Ma(F,T.mode,se),R.return=T,T=R),u(T)):n(T,R)}return We}var Zn=xo(!0),wo=xo(!1),kl=un(null),Nl=null,Xn=null,Xs=null;function Js(){Xs=Xn=Nl=null}function ea(e){var t=kl.current;Ve(kl),e._currentValue=t}function ta(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Jn(e,t){Nl=e,Xs=Xn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(pt=!0),e.firstContext=null)}function Ct(e){var t=e._currentValue;if(Xs!==e)if(e={context:e,memoizedValue:t,next:null},Xn===null){if(Nl===null)throw Error(o(308));Xn=e,Nl.dependencies={lanes:0,firstContext:e}}else Xn=Xn.next=e;return t}var jn=null;function na(e){jn===null?jn=[e]:jn.push(e)}function So(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,na(t)):(n.next=l.next,l.next=n),t.interleaved=n,Qt(e,r)}function Qt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var fn=!1;function ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function pn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(_e&2)!==0){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,Qt(e,n)}return l=r.interleaved,l===null?(t.next=t,na(r)):(t.next=l.next,l.next=t),r.interleaved=t,Qt(e,n)}function bl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,vs(e,n)}}function ko(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?l=a=u:a=a.next=u,n=n.next}while(n!==null);a===null?l=a=t:a=a.next=t}else l=a=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function jl(e,t,n,r){var l=e.updateQueue;fn=!1;var a=l.firstBaseUpdate,u=l.lastBaseUpdate,p=l.shared.pending;if(p!==null){l.shared.pending=null;var g=p,A=g.next;g.next=null,u===null?a=A:u.next=A,u=g;var ee=e.alternate;ee!==null&&(ee=ee.updateQueue,p=ee.lastBaseUpdate,p!==u&&(p===null?ee.firstBaseUpdate=A:p.next=A,ee.lastBaseUpdate=g))}if(a!==null){var ne=l.baseState;u=0,ee=A=g=null,p=a;do{var J=p.lane,de=p.eventTime;if((r&J)===J){ee!==null&&(ee=ee.next={eventTime:de,lane:0,tag:p.tag,payload:p.payload,callback:p.callback,next:null});e:{var he=e,ge=p;switch(J=t,de=n,ge.tag){case 1:if(he=ge.payload,typeof he=="function"){ne=he.call(de,ne,J);break e}ne=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ge.payload,J=typeof he=="function"?he.call(de,ne,J):he,J==null)break e;ne=V({},ne,J);break e;case 2:fn=!0}}p.callback!==null&&p.lane!==0&&(e.flags|=64,J=l.effects,J===null?l.effects=[p]:J.push(p))}else de={eventTime:de,lane:J,tag:p.tag,payload:p.payload,callback:p.callback,next:null},ee===null?(A=ee=de,g=ne):ee=ee.next=de,u|=J;if(p=p.next,p===null){if(p=l.shared.pending,p===null)break;J=p,p=J.next,J.next=null,l.lastBaseUpdate=J,l.shared.pending=null}}while(!0);if(ee===null&&(g=ne),l.baseState=g,l.firstBaseUpdate=A,l.lastBaseUpdate=ee,t=l.shared.interleaved,t!==null){l=t;do u|=l.lane,l=l.next;while(l!==t)}else a===null&&(l.shared.lanes=0);En|=u,e.lanes=u,e.memoizedState=ne}}function No(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(o(191,l));l.call(r)}}}var _r={},Ut=un(_r),Tr=un(_r),$r=un(_r);function Cn(e){if(e===_r)throw Error(o(174));return e}function la(e,t){switch(De($r,t),De(Tr,e),De(Ut,_r),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ze(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ze(t,e)}Ve(Ut),De(Ut,t)}function er(){Ve(Ut),Ve(Tr),Ve($r)}function bo(e){Cn($r.current);var t=Cn(Ut.current),n=Ze(t,e.type);t!==n&&(De(Tr,e),De(Ut,n))}function sa(e){Tr.current===e&&(Ve(Ut),Ve(Tr))}var ze=un(0);function Cl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var aa=[];function ia(){for(var e=0;e<aa.length;e++)aa[e]._workInProgressVersionPrimary=null;aa.length=0}var Pl=O.ReactCurrentDispatcher,oa=O.ReactCurrentBatchConfig,Pn=0,Ue=null,Qe=null,Xe=null,El=!1,Lr=!1,Fr=0,Pd=0;function lt(){throw Error(o(321))}function ua(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Tt(e[n],t[n]))return!1;return!0}function ca(e,t,n,r,l,a){if(Pn=a,Ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Pl.current=e===null||e.memoizedState===null?Td:$d,e=n(r,l),Lr){a=0;do{if(Lr=!1,Fr=0,25<=a)throw Error(o(301));a+=1,Xe=Qe=null,t.updateQueue=null,Pl.current=Ld,e=n(r,l)}while(Lr)}if(Pl.current=Tl,t=Qe!==null&&Qe.next!==null,Pn=0,Xe=Qe=Ue=null,El=!1,t)throw Error(o(300));return e}function da(){var e=Fr!==0;return Fr=0,e}function Mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?Ue.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Pt(){if(Qe===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=Qe.next;var t=Xe===null?Ue.memoizedState:Xe.next;if(t!==null)Xe=t,Qe=e;else{if(e===null)throw Error(o(310));Qe=e,e={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},Xe===null?Ue.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function Dr(e,t){return typeof t=="function"?t(e):t}function fa(e){var t=Pt(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var r=Qe,l=r.baseQueue,a=n.pending;if(a!==null){if(l!==null){var u=l.next;l.next=a.next,a.next=u}r.baseQueue=l=a,n.pending=null}if(l!==null){a=l.next,r=r.baseState;var p=u=null,g=null,A=a;do{var ee=A.lane;if((Pn&ee)===ee)g!==null&&(g=g.next={lane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),r=A.hasEagerState?A.eagerState:e(r,A.action);else{var ne={lane:ee,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null};g===null?(p=g=ne,u=r):g=g.next=ne,Ue.lanes|=ee,En|=ee}A=A.next}while(A!==null&&A!==a);g===null?u=r:g.next=p,Tt(r,t.memoizedState)||(pt=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=g,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do a=l.lane,Ue.lanes|=a,En|=a,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function pa(e){var t=Pt(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,a=t.memoizedState;if(l!==null){n.pending=null;var u=l=l.next;do a=e(a,u.action),u=u.next;while(u!==l);Tt(a,t.memoizedState)||(pt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function jo(){}function Co(e,t){var n=Ue,r=Pt(),l=t(),a=!Tt(r.memoizedState,l);if(a&&(r.memoizedState=l,pt=!0),r=r.queue,ma(Oo.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Xe!==null&&Xe.memoizedState.tag&1){if(n.flags|=2048,Ir(9,Eo.bind(null,n,r,l,t),void 0,null),Je===null)throw Error(o(349));(Pn&30)!==0||Po(n,t,l)}return l}function Po(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Eo(e,t,n,r){t.value=n,t.getSnapshot=r,_o(t)&&To(e)}function Oo(e,t,n){return n(function(){_o(t)&&To(e)})}function _o(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Tt(e,n)}catch{return!0}}function To(e){var t=Qt(e,1);t!==null&&It(t,e,1,-1)}function $o(e){var t=Mt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:e},t.queue=e,e=e.dispatch=_d.bind(null,Ue,e),[t.memoizedState,e]}function Ir(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Lo(){return Pt().memoizedState}function Ol(e,t,n,r){var l=Mt();Ue.flags|=e,l.memoizedState=Ir(1|t,n,void 0,r===void 0?null:r)}function _l(e,t,n,r){var l=Pt();r=r===void 0?null:r;var a=void 0;if(Qe!==null){var u=Qe.memoizedState;if(a=u.destroy,r!==null&&ua(r,u.deps)){l.memoizedState=Ir(t,n,a,r);return}}Ue.flags|=e,l.memoizedState=Ir(1|t,n,a,r)}function Fo(e,t){return Ol(8390656,8,e,t)}function ma(e,t){return _l(2048,8,e,t)}function Do(e,t){return _l(4,2,e,t)}function Io(e,t){return _l(4,4,e,t)}function Vo(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ao(e,t,n){return n=n!=null?n.concat([e]):null,_l(4,4,Vo.bind(null,t,e),n)}function ha(){}function zo(e,t){var n=Pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ua(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Uo(e,t){var n=Pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ua(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Mo(e,t,n){return(Pn&21)===0?(e.baseState&&(e.baseState=!1,pt=!0),e.memoizedState=n):(Tt(n,t)||(n=vi(),Ue.lanes|=n,En|=n,e.baseState=!0),t)}function Ed(e,t){var n=Fe;Fe=n!==0&&4>n?n:4,e(!0);var r=oa.transition;oa.transition={};try{e(!1),t()}finally{Fe=n,oa.transition=r}}function Bo(){return Pt().memoizedState}function Od(e,t,n){var r=vn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ho(e))Wo(t,n);else if(n=So(e,t,n,r),n!==null){var l=ot();It(n,e,r,l),qo(n,t,r)}}function _d(e,t,n){var r=vn(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ho(e))Wo(t,l);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var u=t.lastRenderedState,p=a(u,n);if(l.hasEagerState=!0,l.eagerState=p,Tt(p,u)){var g=t.interleaved;g===null?(l.next=l,na(t)):(l.next=g.next,g.next=l),t.interleaved=l;return}}catch{}finally{}n=So(e,t,l,r),n!==null&&(l=ot(),It(n,e,r,l),qo(n,t,r))}}function Ho(e){var t=e.alternate;return e===Ue||t!==null&&t===Ue}function Wo(e,t){Lr=El=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qo(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,vs(e,n)}}var Tl={readContext:Ct,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useInsertionEffect:lt,useLayoutEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useMutableSource:lt,useSyncExternalStore:lt,useId:lt,unstable_isNewReconciler:!1},Td={readContext:Ct,useCallback:function(e,t){return Mt().memoizedState=[e,t===void 0?null:t],e},useContext:Ct,useEffect:Fo,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ol(4194308,4,Vo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ol(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ol(4,2,e,t)},useMemo:function(e,t){var n=Mt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Mt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Od.bind(null,Ue,e),[r.memoizedState,e]},useRef:function(e){var t=Mt();return e={current:e},t.memoizedState=e},useState:$o,useDebugValue:ha,useDeferredValue:function(e){return Mt().memoizedState=e},useTransition:function(){var e=$o(!1),t=e[0];return e=Ed.bind(null,e[1]),Mt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ue,l=Mt();if(Ae){if(n===void 0)throw Error(o(407));n=n()}else{if(n=t(),Je===null)throw Error(o(349));(Pn&30)!==0||Po(r,t,n)}l.memoizedState=n;var a={value:n,getSnapshot:t};return l.queue=a,Fo(Oo.bind(null,r,a,e),[e]),r.flags|=2048,Ir(9,Eo.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Mt(),t=Je.identifierPrefix;if(Ae){var n=Kt,r=qt;n=(r&~(1<<32-_t(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Fr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Pd++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$d={readContext:Ct,useCallback:zo,useContext:Ct,useEffect:ma,useImperativeHandle:Ao,useInsertionEffect:Do,useLayoutEffect:Io,useMemo:Uo,useReducer:fa,useRef:Lo,useState:function(){return fa(Dr)},useDebugValue:ha,useDeferredValue:function(e){var t=Pt();return Mo(t,Qe.memoizedState,e)},useTransition:function(){var e=fa(Dr)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:jo,useSyncExternalStore:Co,useId:Bo,unstable_isNewReconciler:!1},Ld={readContext:Ct,useCallback:zo,useContext:Ct,useEffect:ma,useImperativeHandle:Ao,useInsertionEffect:Do,useLayoutEffect:Io,useMemo:Uo,useReducer:pa,useRef:Lo,useState:function(){return pa(Dr)},useDebugValue:ha,useDeferredValue:function(e){var t=Pt();return Qe===null?t.memoizedState=e:Mo(t,Qe.memoizedState,e)},useTransition:function(){var e=pa(Dr)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:jo,useSyncExternalStore:Co,useId:Bo,unstable_isNewReconciler:!1};function Lt(e,t){if(e&&e.defaultProps){t=V({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ga(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:V({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var $l={isMounted:function(e){return(e=e._reactInternals)?Sn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ot(),l=vn(e),a=Yt(r,l);a.payload=t,n!=null&&(a.callback=n),t=pn(e,a,l),t!==null&&(It(t,e,l,r),bl(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ot(),l=vn(e),a=Yt(r,l);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=pn(e,a,l),t!==null&&(It(t,e,l,r),bl(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ot(),r=vn(e),l=Yt(n,r);l.tag=2,t!=null&&(l.callback=t),t=pn(e,l,r),t!==null&&(It(t,e,r,n),bl(t,e,r))}};function Ko(e,t,n,r,l,a,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,u):t.prototype&&t.prototype.isPureReactComponent?!kr(n,r)||!kr(l,a):!0}function Qo(e,t,n){var r=!1,l=cn,a=t.contextType;return typeof a=="object"&&a!==null?a=Ct(a):(l=ft(t)?kn:rt.current,r=t.contextTypes,a=(r=r!=null)?Kn(e,l):cn),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=$l,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),t}function Yo(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&$l.enqueueReplaceState(t,t.state,null)}function va(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},ra(e);var a=t.contextType;typeof a=="object"&&a!==null?l.context=Ct(a):(a=ft(t)?kn:rt.current,l.context=Kn(e,a)),l.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(ga(e,t,a,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&$l.enqueueReplaceState(l,l.state,null),jl(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function tr(e,t){try{var n="",r=t;do n+=L(r),r=r.return;while(r);var l=n}catch(a){l=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:l,digest:null}}function ya(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function xa(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Fd=typeof WeakMap=="function"?WeakMap:Map;function Go(e,t,n){n=Yt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){zl||(zl=!0,La=r),xa(e,t)},n}function Zo(e,t,n){n=Yt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){xa(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){xa(e,t),typeof r!="function"&&(hn===null?hn=new Set([this]):hn.add(this));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),n}function Xo(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Fd;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=Yd.bind(null,e,t,n),t.then(e,e))}function Jo(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function eu(e,t,n,r,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Yt(-1,1),t.tag=2,pn(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var Dd=O.ReactCurrentOwner,pt=!1;function it(e,t,n,r){t.child=e===null?wo(t,null,n,r):Zn(t,e.child,n,r)}function tu(e,t,n,r,l){n=n.render;var a=t.ref;return Jn(t,l),r=ca(e,t,n,r,a,l),n=da(),e!==null&&!pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Gt(e,t,l)):(Ae&&n&&Ks(t),t.flags|=1,it(e,t,r,l),t.child)}function nu(e,t,n,r,l){if(e===null){var a=n.type;return typeof a=="function"&&!Ua(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,ru(e,t,a,r,l)):(e=ql(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,(e.lanes&l)===0){var u=a.memoizedProps;if(n=n.compare,n=n!==null?n:kr,n(u,r)&&e.ref===t.ref)return Gt(e,t,l)}return t.flags|=1,e=xn(a,r),e.ref=t.ref,e.return=t,t.child=e}function ru(e,t,n,r,l){if(e!==null){var a=e.memoizedProps;if(kr(a,r)&&e.ref===t.ref)if(pt=!1,t.pendingProps=r=a,(e.lanes&l)!==0)(e.flags&131072)!==0&&(pt=!0);else return t.lanes=e.lanes,Gt(e,t,l)}return wa(e,t,n,r,l)}function lu(e,t,n){var r=t.pendingProps,l=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(rr,Rt),Rt|=n;else{if((n&1073741824)===0)return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,De(rr,Rt),Rt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,De(rr,Rt),Rt|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,De(rr,Rt),Rt|=r;return it(e,t,l,n),t.child}function su(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function wa(e,t,n,r,l){var a=ft(n)?kn:rt.current;return a=Kn(t,a),Jn(t,l),n=ca(e,t,n,r,a,l),r=da(),e!==null&&!pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Gt(e,t,l)):(Ae&&r&&Ks(t),t.flags|=1,it(e,t,n,l),t.child)}function au(e,t,n,r,l){if(ft(n)){var a=!0;vl(t)}else a=!1;if(Jn(t,l),t.stateNode===null)Fl(e,t),Qo(t,n,r),va(t,n,r,l),r=!0;else if(e===null){var u=t.stateNode,p=t.memoizedProps;u.props=p;var g=u.context,A=n.contextType;typeof A=="object"&&A!==null?A=Ct(A):(A=ft(n)?kn:rt.current,A=Kn(t,A));var ee=n.getDerivedStateFromProps,ne=typeof ee=="function"||typeof u.getSnapshotBeforeUpdate=="function";ne||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(p!==r||g!==A)&&Yo(t,u,r,A),fn=!1;var J=t.memoizedState;u.state=J,jl(t,r,u,l),g=t.memoizedState,p!==r||J!==g||dt.current||fn?(typeof ee=="function"&&(ga(t,n,ee,r),g=t.memoizedState),(p=fn||Ko(t,n,p,r,J,g,A))?(ne||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=g),u.props=r,u.state=g,u.context=A,r=p):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{u=t.stateNode,Ro(e,t),p=t.memoizedProps,A=t.type===t.elementType?p:Lt(t.type,p),u.props=A,ne=t.pendingProps,J=u.context,g=n.contextType,typeof g=="object"&&g!==null?g=Ct(g):(g=ft(n)?kn:rt.current,g=Kn(t,g));var de=n.getDerivedStateFromProps;(ee=typeof de=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(p!==ne||J!==g)&&Yo(t,u,r,g),fn=!1,J=t.memoizedState,u.state=J,jl(t,r,u,l);var he=t.memoizedState;p!==ne||J!==he||dt.current||fn?(typeof de=="function"&&(ga(t,n,de,r),he=t.memoizedState),(A=fn||Ko(t,n,A,r,J,he,g)||!1)?(ee||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,he,g),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,he,g)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||p===e.memoizedProps&&J===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&J===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=he),u.props=r,u.state=he,u.context=g,r=A):(typeof u.componentDidUpdate!="function"||p===e.memoizedProps&&J===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&J===e.memoizedState||(t.flags|=1024),r=!1)}return Sa(e,t,n,r,a,l)}function Sa(e,t,n,r,l,a){su(e,t);var u=(t.flags&128)!==0;if(!r&&!u)return l&&co(t,n,!1),Gt(e,t,a);r=t.stateNode,Dd.current=t;var p=u&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&u?(t.child=Zn(t,e.child,null,a),t.child=Zn(t,null,p,a)):it(e,t,p,a),t.memoizedState=r.state,l&&co(t,n,!0),t.child}function iu(e){var t=e.stateNode;t.pendingContext?oo(e,t.pendingContext,t.pendingContext!==t.context):t.context&&oo(e,t.context,!1),la(e,t.containerInfo)}function ou(e,t,n,r,l){return Gn(),Zs(l),t.flags|=256,it(e,t,n,r),t.child}var Ra={dehydrated:null,treeContext:null,retryLane:0};function ka(e){return{baseLanes:e,cachePool:null,transitions:null}}function uu(e,t,n){var r=t.pendingProps,l=ze.current,a=!1,u=(t.flags&128)!==0,p;if((p=u)||(p=e!==null&&e.memoizedState===null?!1:(l&2)!==0),p?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),De(ze,l&1),e===null)return Gs(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(u=r.children,e=r.fallback,a?(r=t.mode,a=t.child,u={mode:"hidden",children:u},(r&1)===0&&a!==null?(a.childLanes=0,a.pendingProps=u):a=Kl(u,r,0,null),e=$n(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ka(n),t.memoizedState=Ra,e):Na(t,u));if(l=e.memoizedState,l!==null&&(p=l.dehydrated,p!==null))return Id(e,t,u,r,p,l,n);if(a){a=r.fallback,u=t.mode,l=e.child,p=l.sibling;var g={mode:"hidden",children:r.children};return(u&1)===0&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=g,t.deletions=null):(r=xn(l,g),r.subtreeFlags=l.subtreeFlags&14680064),p!==null?a=xn(p,a):(a=$n(a,u,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,u=e.child.memoizedState,u=u===null?ka(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},a.memoizedState=u,a.childLanes=e.childLanes&~n,t.memoizedState=Ra,r}return a=e.child,e=a.sibling,r=xn(a,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Na(e,t){return t=Kl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ll(e,t,n,r){return r!==null&&Zs(r),Zn(t,e.child,null,n),e=Na(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Id(e,t,n,r,l,a,u){if(n)return t.flags&256?(t.flags&=-257,r=ya(Error(o(422))),Ll(e,t,u,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,l=t.mode,r=Kl({mode:"visible",children:r.children},l,0,null),a=$n(a,l,u,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,(t.mode&1)!==0&&Zn(t,e.child,null,u),t.child.memoizedState=ka(u),t.memoizedState=Ra,a);if((t.mode&1)===0)return Ll(e,t,u,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var p=r.dgst;return r=p,a=Error(o(419)),r=ya(a,r,void 0),Ll(e,t,u,r)}if(p=(u&e.childLanes)!==0,pt||p){if(r=Je,r!==null){switch(u&-u){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(r.suspendedLanes|u))!==0?0:l,l!==0&&l!==a.retryLane&&(a.retryLane=l,Qt(e,l),It(r,e,l,-1))}return za(),r=ya(Error(o(421))),Ll(e,t,u,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Gd.bind(null,e),l._reactRetry=t,null):(e=a.treeContext,St=on(l.nextSibling),wt=t,Ae=!0,$t=null,e!==null&&(bt[jt++]=qt,bt[jt++]=Kt,bt[jt++]=Nn,qt=e.id,Kt=e.overflow,Nn=t),t=Na(t,r.children),t.flags|=4096,t)}function cu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ta(e.return,t,n)}function ba(e,t,n,r,l){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=l)}function du(e,t,n){var r=t.pendingProps,l=r.revealOrder,a=r.tail;if(it(e,t,r.children,n),r=ze.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cu(e,n,t);else if(e.tag===19)cu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(De(ze,r),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Cl(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),ba(t,!1,l,n,a);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Cl(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}ba(t,!0,n,null,a);break;case"together":ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fl(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),En|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,n=xn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=xn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Vd(e,t,n){switch(t.tag){case 3:iu(t),Gn();break;case 5:bo(t);break;case 1:ft(t.type)&&vl(t);break;case 4:la(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;De(kl,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(De(ze,ze.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?uu(e,t,n):(De(ze,ze.current&1),e=Gt(e,t,n),e!==null?e.sibling:null);De(ze,ze.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return du(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),De(ze,ze.current),r)break;return null;case 22:case 23:return t.lanes=0,lu(e,t,n)}return Gt(e,t,n)}var fu,ja,pu,mu;fu=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ja=function(){},pu=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,Cn(Ut.current);var a=null;switch(n){case"input":l=Pe(e,l),r=Pe(e,r),a=[];break;case"select":l=V({},l,{value:void 0}),r=V({},r,{value:void 0}),a=[];break;case"textarea":l=ut(e,l),r=ut(e,r),a=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ml)}as(n,r);var u;n=null;for(A in l)if(!r.hasOwnProperty(A)&&l.hasOwnProperty(A)&&l[A]!=null)if(A==="style"){var p=l[A];for(u in p)p.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else A!=="dangerouslySetInnerHTML"&&A!=="children"&&A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(x.hasOwnProperty(A)?a||(a=[]):(a=a||[]).push(A,null));for(A in r){var g=r[A];if(p=l?.[A],r.hasOwnProperty(A)&&g!==p&&(g!=null||p!=null))if(A==="style")if(p){for(u in p)!p.hasOwnProperty(u)||g&&g.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in g)g.hasOwnProperty(u)&&p[u]!==g[u]&&(n||(n={}),n[u]=g[u])}else n||(a||(a=[]),a.push(A,n)),n=g;else A==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,p=p?p.__html:void 0,g!=null&&p!==g&&(a=a||[]).push(A,g)):A==="children"?typeof g!="string"&&typeof g!="number"||(a=a||[]).push(A,""+g):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&(x.hasOwnProperty(A)?(g!=null&&A==="onScroll"&&Ie("scroll",e),a||p===g||(a=[])):(a=a||[]).push(A,g))}n&&(a=a||[]).push("style",n);var A=a;(t.updateQueue=A)&&(t.flags|=4)}},mu=function(e,t,n,r){n!==r&&(t.flags|=4)};function Vr(e,t){if(!Ae)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function st(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ad(e,t,n){var r=t.pendingProps;switch(Qs(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(t),null;case 1:return ft(t.type)&&gl(),st(t),null;case 3:return r=t.stateNode,er(),Ve(dt),Ve(rt),ia(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Sl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,$t!==null&&(Ia($t),$t=null))),ja(e,t),st(t),null;case 5:sa(t);var l=Cn($r.current);if(n=t.type,e!==null&&t.stateNode!=null)pu(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(o(166));return st(t),null}if(e=Cn(Ut.current),Sl(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[zt]=t,r[Pr]=a,e=(t.mode&1)!==0,n){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(l=0;l<br.length;l++)Ie(br[l],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":je(r,a),Ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ie("invalid",r);break;case"textarea":Xt(r,a),Ie("invalid",r)}as(n,a),l=null;for(var u in a)if(a.hasOwnProperty(u)){var p=a[u];u==="children"?typeof p=="string"?r.textContent!==p&&(a.suppressHydrationWarning!==!0&&pl(r.textContent,p,e),l=["children",p]):typeof p=="number"&&r.textContent!==""+p&&(a.suppressHydrationWarning!==!0&&pl(r.textContent,p,e),l=["children",""+p]):x.hasOwnProperty(u)&&p!=null&&u==="onScroll"&&Ie("scroll",r)}switch(n){case"input":ye(r),te(r,a,!0);break;case"textarea":ye(r),yt(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=ml)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{u=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Be(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),n==="select"&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[zt]=t,e[Pr]=r,fu(e,t,!1,!1),t.stateNode=e;e:{switch(u=is(n,r),n){case"dialog":Ie("cancel",e),Ie("close",e),l=r;break;case"iframe":case"object":case"embed":Ie("load",e),l=r;break;case"video":case"audio":for(l=0;l<br.length;l++)Ie(br[l],e);l=r;break;case"source":Ie("error",e),l=r;break;case"img":case"image":case"link":Ie("error",e),Ie("load",e),l=r;break;case"details":Ie("toggle",e),l=r;break;case"input":je(e,r),l=Pe(e,r),Ie("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=V({},r,{value:void 0}),Ie("invalid",e);break;case"textarea":Xt(e,r),l=ut(e,r),Ie("invalid",e);break;default:l=r}as(n,l),p=l;for(a in p)if(p.hasOwnProperty(a)){var g=p[a];a==="style"?ir(e,g):a==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&Fn(e,g)):a==="children"?typeof g=="string"?(n!=="textarea"||g!=="")&&Jt(e,g):typeof g=="number"&&Jt(e,""+g):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(x.hasOwnProperty(a)?g!=null&&a==="onScroll"&&Ie("scroll",e):g!=null&&H(e,a,g,u))}switch(n){case"input":ye(e),te(e,r,!1);break;case"textarea":ye(e),yt(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ie(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Ge(e,!!r.multiple,a,!1):r.defaultValue!=null&&Ge(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=ml)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return st(t),null;case 6:if(e&&t.stateNode!=null)mu(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(o(166));if(n=Cn($r.current),Cn(Ut.current),Sl(t)){if(r=t.stateNode,n=t.memoizedProps,r[zt]=t,(a=r.nodeValue!==n)&&(e=wt,e!==null))switch(e.tag){case 3:pl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&pl(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zt]=t,t.stateNode=r}return st(t),null;case 13:if(Ve(ze),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ae&&St!==null&&(t.mode&1)!==0&&(t.flags&128)===0)vo(),Gn(),t.flags|=98560,a=!1;else if(a=Sl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(o(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(o(317));a[zt]=t}else Gn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;st(t),a=!1}else $t!==null&&(Ia($t),$t=null),a=!0;if(!a)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(ze.current&1)!==0?Ye===0&&(Ye=3):za())),t.updateQueue!==null&&(t.flags|=4),st(t),null);case 4:return er(),ja(e,t),e===null&&jr(t.stateNode.containerInfo),st(t),null;case 10:return ea(t.type._context),st(t),null;case 17:return ft(t.type)&&gl(),st(t),null;case 19:if(Ve(ze),a=t.memoizedState,a===null)return st(t),null;if(r=(t.flags&128)!==0,u=a.rendering,u===null)if(r)Vr(a,!1);else{if(Ye!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Cl(e),u!==null){for(t.flags|=128,Vr(a,!1),r=u.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,u=a.alternate,u===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return De(ze,ze.current&1|2),t.child}e=e.sibling}a.tail!==null&&He()>lr&&(t.flags|=128,r=!0,Vr(a,!1),t.lanes=4194304)}else{if(!r)if(e=Cl(u),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Vr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!u.alternate&&!Ae)return st(t),null}else 2*He()-a.renderingStartTime>lr&&n!==1073741824&&(t.flags|=128,r=!0,Vr(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(n=a.last,n!==null?n.sibling=u:t.child=u,a.last=u)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=He(),t.sibling=null,n=ze.current,De(ze,r?n&1|2:n&1),t):(st(t),null);case 22:case 23:return Aa(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(Rt&1073741824)!==0&&(st(t),t.subtreeFlags&6&&(t.flags|=8192)):st(t),null;case 24:return null;case 25:return null}throw Error(o(156,t.tag))}function zd(e,t){switch(Qs(t),t.tag){case 1:return ft(t.type)&&gl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return er(),Ve(dt),Ve(rt),ia(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return sa(t),null;case 13:if(Ve(ze),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Gn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ve(ze),null;case 4:return er(),null;case 10:return ea(t.type._context),null;case 22:case 23:return Aa(),null;case 24:return null;default:return null}}var Dl=!1,at=!1,Ud=typeof WeakSet=="function"?WeakSet:Set,pe=null;function nr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Me(e,t,r)}else n.current=null}function Ca(e,t,n){try{n()}catch(r){Me(e,t,r)}}var hu=!1;function Md(e,t){if(As=nl,e=qi(),_s(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var u=0,p=-1,g=-1,A=0,ee=0,ne=e,J=null;t:for(;;){for(var de;ne!==n||l!==0&&ne.nodeType!==3||(p=u+l),ne!==a||r!==0&&ne.nodeType!==3||(g=u+r),ne.nodeType===3&&(u+=ne.nodeValue.length),(de=ne.firstChild)!==null;)J=ne,ne=de;for(;;){if(ne===e)break t;if(J===n&&++A===l&&(p=u),J===a&&++ee===r&&(g=u),(de=ne.nextSibling)!==null)break;ne=J,J=ne.parentNode}ne=de}n=p===-1||g===-1?null:{start:p,end:g}}else n=null}n=n||{start:0,end:0}}else n=null;for(zs={focusedElem:e,selectionRange:n},nl=!1,pe=t;pe!==null;)if(t=pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pe=e;else for(;pe!==null;){t=pe;try{var he=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var ge=he.memoizedProps,We=he.memoizedState,T=t.stateNode,R=T.getSnapshotBeforeUpdate(t.elementType===t.type?ge:Lt(t.type,ge),We);T.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var F=t.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(se){Me(t,t.return,se)}if(e=t.sibling,e!==null){e.return=t.return,pe=e;break}pe=t.return}return he=hu,hu=!1,he}function Ar(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var a=l.destroy;l.destroy=void 0,a!==void 0&&Ca(t,n,a)}l=l.next}while(l!==r)}}function Il(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Pa(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function gu(e){var t=e.alternate;t!==null&&(e.alternate=null,gu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zt],delete t[Pr],delete t[Hs],delete t[Nd],delete t[bd])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function vu(e){return e.tag===5||e.tag===3||e.tag===4}function yu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||vu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ea(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ml));else if(r!==4&&(e=e.child,e!==null))for(Ea(e,t,n),e=e.sibling;e!==null;)Ea(e,t,n),e=e.sibling}function Oa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Oa(e,t,n),e=e.sibling;e!==null;)Oa(e,t,n),e=e.sibling}var tt=null,Ft=!1;function mn(e,t,n){for(n=n.child;n!==null;)xu(e,t,n),n=n.sibling}function xu(e,t,n){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(Gr,n)}catch{}switch(n.tag){case 5:at||nr(n,t);case 6:var r=tt,l=Ft;tt=null,mn(e,t,n),tt=r,Ft=l,tt!==null&&(Ft?(e=tt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):tt.removeChild(n.stateNode));break;case 18:tt!==null&&(Ft?(e=tt,n=n.stateNode,e.nodeType===8?Bs(e.parentNode,n):e.nodeType===1&&Bs(e,n),vr(e)):Bs(tt,n.stateNode));break;case 4:r=tt,l=Ft,tt=n.stateNode.containerInfo,Ft=!0,mn(e,t,n),tt=r,Ft=l;break;case 0:case 11:case 14:case 15:if(!at&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var a=l,u=a.destroy;a=a.tag,u!==void 0&&((a&2)!==0||(a&4)!==0)&&Ca(n,t,u),l=l.next}while(l!==r)}mn(e,t,n);break;case 1:if(!at&&(nr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(p){Me(n,t,p)}mn(e,t,n);break;case 21:mn(e,t,n);break;case 22:n.mode&1?(at=(r=at)||n.memoizedState!==null,mn(e,t,n),at=r):mn(e,t,n);break;default:mn(e,t,n)}}function wu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Ud),t.forEach(function(r){var l=Zd.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function Dt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var a=e,u=t,p=u;e:for(;p!==null;){switch(p.tag){case 5:tt=p.stateNode,Ft=!1;break e;case 3:tt=p.stateNode.containerInfo,Ft=!0;break e;case 4:tt=p.stateNode.containerInfo,Ft=!0;break e}p=p.return}if(tt===null)throw Error(o(160));xu(a,u,l),tt=null,Ft=!1;var g=l.alternate;g!==null&&(g.return=null),l.return=null}catch(A){Me(l,t,A)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Su(t,e),t=t.sibling}function Su(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Dt(t,e),Bt(e),r&4){try{Ar(3,e,e.return),Il(3,e)}catch(ge){Me(e,e.return,ge)}try{Ar(5,e,e.return)}catch(ge){Me(e,e.return,ge)}}break;case 1:Dt(t,e),Bt(e),r&512&&n!==null&&nr(n,n.return);break;case 5:if(Dt(t,e),Bt(e),r&512&&n!==null&&nr(n,n.return),e.flags&32){var l=e.stateNode;try{Jt(l,"")}catch(ge){Me(e,e.return,ge)}}if(r&4&&(l=e.stateNode,l!=null)){var a=e.memoizedProps,u=n!==null?n.memoizedProps:a,p=e.type,g=e.updateQueue;if(e.updateQueue=null,g!==null)try{p==="input"&&a.type==="radio"&&a.name!=null&&Re(l,a),is(p,u);var A=is(p,a);for(u=0;u<g.length;u+=2){var ee=g[u],ne=g[u+1];ee==="style"?ir(l,ne):ee==="dangerouslySetInnerHTML"?Fn(l,ne):ee==="children"?Jt(l,ne):H(l,ee,ne,A)}switch(p){case"input":ke(l,a);break;case"textarea":Ke(l,a);break;case"select":var J=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!a.multiple;var de=a.value;de!=null?Ge(l,!!a.multiple,de,!1):J!==!!a.multiple&&(a.defaultValue!=null?Ge(l,!!a.multiple,a.defaultValue,!0):Ge(l,!!a.multiple,a.multiple?[]:"",!1))}l[Pr]=a}catch(ge){Me(e,e.return,ge)}}break;case 6:if(Dt(t,e),Bt(e),r&4){if(e.stateNode===null)throw Error(o(162));l=e.stateNode,a=e.memoizedProps;try{l.nodeValue=a}catch(ge){Me(e,e.return,ge)}}break;case 3:if(Dt(t,e),Bt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vr(t.containerInfo)}catch(ge){Me(e,e.return,ge)}break;case 4:Dt(t,e),Bt(e);break;case 13:Dt(t,e),Bt(e),l=e.child,l.flags&8192&&(a=l.memoizedState!==null,l.stateNode.isHidden=a,!a||l.alternate!==null&&l.alternate.memoizedState!==null||($a=He())),r&4&&wu(e);break;case 22:if(ee=n!==null&&n.memoizedState!==null,e.mode&1?(at=(A=at)||ee,Dt(t,e),at=A):Dt(t,e),Bt(e),r&8192){if(A=e.memoizedState!==null,(e.stateNode.isHidden=A)&&!ee&&(e.mode&1)!==0)for(pe=e,ee=e.child;ee!==null;){for(ne=pe=ee;pe!==null;){switch(J=pe,de=J.child,J.tag){case 0:case 11:case 14:case 15:Ar(4,J,J.return);break;case 1:nr(J,J.return);var he=J.stateNode;if(typeof he.componentWillUnmount=="function"){r=J,n=J.return;try{t=r,he.props=t.memoizedProps,he.state=t.memoizedState,he.componentWillUnmount()}catch(ge){Me(r,n,ge)}}break;case 5:nr(J,J.return);break;case 22:if(J.memoizedState!==null){Nu(ne);continue}}de!==null?(de.return=J,pe=de):Nu(ne)}ee=ee.sibling}e:for(ee=null,ne=e;;){if(ne.tag===5){if(ee===null){ee=ne;try{l=ne.stateNode,A?(a=l.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(p=ne.stateNode,g=ne.memoizedProps.style,u=g!=null&&g.hasOwnProperty("display")?g.display:null,p.style.display=en("display",u))}catch(ge){Me(e,e.return,ge)}}}else if(ne.tag===6){if(ee===null)try{ne.stateNode.nodeValue=A?"":ne.memoizedProps}catch(ge){Me(e,e.return,ge)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===e)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===e)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===e)break e;ee===ne&&(ee=null),ne=ne.return}ee===ne&&(ee=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:Dt(t,e),Bt(e),r&4&&wu(e);break;case 21:break;default:Dt(t,e),Bt(e)}}function Bt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(vu(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(Jt(l,""),r.flags&=-33);var a=yu(e);Oa(e,a,l);break;case 3:case 4:var u=r.stateNode.containerInfo,p=yu(e);Ea(e,p,u);break;default:throw Error(o(161))}}catch(g){Me(e,e.return,g)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Bd(e,t,n){pe=e,Ru(e)}function Ru(e,t,n){for(var r=(e.mode&1)!==0;pe!==null;){var l=pe,a=l.child;if(l.tag===22&&r){var u=l.memoizedState!==null||Dl;if(!u){var p=l.alternate,g=p!==null&&p.memoizedState!==null||at;p=Dl;var A=at;if(Dl=u,(at=g)&&!A)for(pe=l;pe!==null;)u=pe,g=u.child,u.tag===22&&u.memoizedState!==null?bu(l):g!==null?(g.return=u,pe=g):bu(l);for(;a!==null;)pe=a,Ru(a),a=a.sibling;pe=l,Dl=p,at=A}ku(e)}else(l.subtreeFlags&8772)!==0&&a!==null?(a.return=l,pe=a):ku(e)}}function ku(e){for(;pe!==null;){var t=pe;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:at||Il(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!at)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Lt(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&No(t,a,r);break;case 3:var u=t.updateQueue;if(u!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}No(t,u,n)}break;case 5:var p=t.stateNode;if(n===null&&t.flags&4){n=p;var g=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":g.autoFocus&&n.focus();break;case"img":g.src&&(n.src=g.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var A=t.alternate;if(A!==null){var ee=A.memoizedState;if(ee!==null){var ne=ee.dehydrated;ne!==null&&vr(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}at||t.flags&512&&Pa(t)}catch(J){Me(t,t.return,J)}}if(t===e){pe=null;break}if(n=t.sibling,n!==null){n.return=t.return,pe=n;break}pe=t.return}}function Nu(e){for(;pe!==null;){var t=pe;if(t===e){pe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,pe=n;break}pe=t.return}}function bu(e){for(;pe!==null;){var t=pe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Il(4,t)}catch(g){Me(t,n,g)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(g){Me(t,l,g)}}var a=t.return;try{Pa(t)}catch(g){Me(t,a,g)}break;case 5:var u=t.return;try{Pa(t)}catch(g){Me(t,u,g)}}}catch(g){Me(t,t.return,g)}if(t===e){pe=null;break}var p=t.sibling;if(p!==null){p.return=t.return,pe=p;break}pe=t.return}}var Hd=Math.ceil,Vl=O.ReactCurrentDispatcher,_a=O.ReactCurrentOwner,Et=O.ReactCurrentBatchConfig,_e=0,Je=null,qe=null,nt=0,Rt=0,rr=un(0),Ye=0,zr=null,En=0,Al=0,Ta=0,Ur=null,mt=null,$a=0,lr=1/0,Zt=null,zl=!1,La=null,hn=null,Ul=!1,gn=null,Ml=0,Mr=0,Fa=null,Bl=-1,Hl=0;function ot(){return(_e&6)!==0?He():Bl!==-1?Bl:Bl=He()}function vn(e){return(e.mode&1)===0?1:(_e&2)!==0&&nt!==0?nt&-nt:Cd.transition!==null?(Hl===0&&(Hl=vi()),Hl):(e=Fe,e!==0||(e=window.event,e=e===void 0?16:ji(e.type)),e)}function It(e,t,n,r){if(50<Mr)throw Mr=0,Fa=null,Error(o(185));fr(e,n,r),((_e&2)===0||e!==Je)&&(e===Je&&((_e&2)===0&&(Al|=n),Ye===4&&yn(e,nt)),ht(e,r),n===1&&_e===0&&(t.mode&1)===0&&(lr=He()+500,yl&&dn()))}function ht(e,t){var n=e.callbackNode;Cc(e,t);var r=Jr(e,e===Je?nt:0);if(r===0)n!==null&&mi(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&mi(n),t===1)e.tag===0?jd(Cu.bind(null,e)):fo(Cu.bind(null,e)),Rd(function(){(_e&6)===0&&dn()}),n=null;else{switch(yi(r)){case 1:n=ms;break;case 4:n=hi;break;case 16:n=Yr;break;case 536870912:n=gi;break;default:n=Yr}n=Fu(n,ju.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ju(e,t){if(Bl=-1,Hl=0,(_e&6)!==0)throw Error(o(327));var n=e.callbackNode;if(sr()&&e.callbackNode!==n)return null;var r=Jr(e,e===Je?nt:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=Wl(e,r);else{t=r;var l=_e;_e|=2;var a=Eu();(Je!==e||nt!==t)&&(Zt=null,lr=He()+500,_n(e,t));do try{Kd();break}catch(p){Pu(e,p)}while(!0);Js(),Vl.current=a,_e=l,qe!==null?t=0:(Je=null,nt=0,t=Ye)}if(t!==0){if(t===2&&(l=hs(e),l!==0&&(r=l,t=Da(e,l))),t===1)throw n=zr,_n(e,0),yn(e,r),ht(e,He()),n;if(t===6)yn(e,r);else{if(l=e.current.alternate,(r&30)===0&&!Wd(l)&&(t=Wl(e,r),t===2&&(a=hs(e),a!==0&&(r=a,t=Da(e,a))),t===1))throw n=zr,_n(e,0),yn(e,r),ht(e,He()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:Tn(e,mt,Zt);break;case 3:if(yn(e,r),(r&130023424)===r&&(t=$a+500-He(),10<t)){if(Jr(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){ot(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Ms(Tn.bind(null,e,mt,Zt),t);break}Tn(e,mt,Zt);break;case 4:if(yn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var u=31-_t(r);a=1<<u,u=t[u],u>l&&(l=u),r&=~a}if(r=l,r=He()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Hd(r/1960))-r,10<r){e.timeoutHandle=Ms(Tn.bind(null,e,mt,Zt),r);break}Tn(e,mt,Zt);break;case 5:Tn(e,mt,Zt);break;default:throw Error(o(329))}}}return ht(e,He()),e.callbackNode===n?ju.bind(null,e):null}function Da(e,t){var n=Ur;return e.current.memoizedState.isDehydrated&&(_n(e,t).flags|=256),e=Wl(e,t),e!==2&&(t=mt,mt=n,t!==null&&Ia(t)),e}function Ia(e){mt===null?mt=e:mt.push.apply(mt,e)}function Wd(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],a=l.getSnapshot;l=l.value;try{if(!Tt(a(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function yn(e,t){for(t&=~Ta,t&=~Al,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-_t(t),r=1<<n;e[n]=-1,t&=~r}}function Cu(e){if((_e&6)!==0)throw Error(o(327));sr();var t=Jr(e,0);if((t&1)===0)return ht(e,He()),null;var n=Wl(e,t);if(e.tag!==0&&n===2){var r=hs(e);r!==0&&(t=r,n=Da(e,r))}if(n===1)throw n=zr,_n(e,0),yn(e,t),ht(e,He()),n;if(n===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tn(e,mt,Zt),ht(e,He()),null}function Va(e,t){var n=_e;_e|=1;try{return e(t)}finally{_e=n,_e===0&&(lr=He()+500,yl&&dn())}}function On(e){gn!==null&&gn.tag===0&&(_e&6)===0&&sr();var t=_e;_e|=1;var n=Et.transition,r=Fe;try{if(Et.transition=null,Fe=1,e)return e()}finally{Fe=r,Et.transition=n,_e=t,(_e&6)===0&&dn()}}function Aa(){Rt=rr.current,Ve(rr)}function _n(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Sd(n)),qe!==null)for(n=qe.return;n!==null;){var r=n;switch(Qs(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&gl();break;case 3:er(),Ve(dt),Ve(rt),ia();break;case 5:sa(r);break;case 4:er();break;case 13:Ve(ze);break;case 19:Ve(ze);break;case 10:ea(r.type._context);break;case 22:case 23:Aa()}n=n.return}if(Je=e,qe=e=xn(e.current,null),nt=Rt=t,Ye=0,zr=null,Ta=Al=En=0,mt=Ur=null,jn!==null){for(t=0;t<jn.length;t++)if(n=jn[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,a=n.pending;if(a!==null){var u=a.next;a.next=l,r.next=u}n.pending=r}jn=null}return e}function Pu(e,t){do{var n=qe;try{if(Js(),Pl.current=Tl,El){for(var r=Ue.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}El=!1}if(Pn=0,Xe=Qe=Ue=null,Lr=!1,Fr=0,_a.current=null,n===null||n.return===null){Ye=1,zr=t,qe=null;break}e:{var a=e,u=n.return,p=n,g=t;if(t=nt,p.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){var A=g,ee=p,ne=ee.tag;if((ee.mode&1)===0&&(ne===0||ne===11||ne===15)){var J=ee.alternate;J?(ee.updateQueue=J.updateQueue,ee.memoizedState=J.memoizedState,ee.lanes=J.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var de=Jo(u);if(de!==null){de.flags&=-257,eu(de,u,p,a,t),de.mode&1&&Xo(a,A,t),t=de,g=A;var he=t.updateQueue;if(he===null){var ge=new Set;ge.add(g),t.updateQueue=ge}else he.add(g);break e}else{if((t&1)===0){Xo(a,A,t),za();break e}g=Error(o(426))}}else if(Ae&&p.mode&1){var We=Jo(u);if(We!==null){(We.flags&65536)===0&&(We.flags|=256),eu(We,u,p,a,t),Zs(tr(g,p));break e}}a=g=tr(g,p),Ye!==4&&(Ye=2),Ur===null?Ur=[a]:Ur.push(a),a=u;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var T=Go(a,g,t);ko(a,T);break e;case 1:p=g;var R=a.type,F=a.stateNode;if((a.flags&128)===0&&(typeof R.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(hn===null||!hn.has(F)))){a.flags|=65536,t&=-t,a.lanes|=t;var se=Zo(a,p,t);ko(a,se);break e}}a=a.return}while(a!==null)}_u(n)}catch(ve){t=ve,qe===n&&n!==null&&(qe=n=n.return);continue}break}while(!0)}function Eu(){var e=Vl.current;return Vl.current=Tl,e===null?Tl:e}function za(){(Ye===0||Ye===3||Ye===2)&&(Ye=4),Je===null||(En&268435455)===0&&(Al&268435455)===0||yn(Je,nt)}function Wl(e,t){var n=_e;_e|=2;var r=Eu();(Je!==e||nt!==t)&&(Zt=null,_n(e,t));do try{qd();break}catch(l){Pu(e,l)}while(!0);if(Js(),_e=n,Vl.current=r,qe!==null)throw Error(o(261));return Je=null,nt=0,Ye}function qd(){for(;qe!==null;)Ou(qe)}function Kd(){for(;qe!==null&&!yc();)Ou(qe)}function Ou(e){var t=Lu(e.alternate,e,Rt);e.memoizedProps=e.pendingProps,t===null?_u(e):qe=t,_a.current=null}function _u(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Ad(n,t,Rt),n!==null){qe=n;return}}else{if(n=zd(n,t),n!==null){n.flags&=32767,qe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ye=6,qe=null;return}}if(t=t.sibling,t!==null){qe=t;return}qe=t=e}while(t!==null);Ye===0&&(Ye=5)}function Tn(e,t,n){var r=Fe,l=Et.transition;try{Et.transition=null,Fe=1,Qd(e,t,n,r)}finally{Et.transition=l,Fe=r}return null}function Qd(e,t,n,r){do sr();while(gn!==null);if((_e&6)!==0)throw Error(o(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(Pc(e,a),e===Je&&(qe=Je=null,nt=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Ul||(Ul=!0,Fu(Yr,function(){return sr(),null})),a=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||a){a=Et.transition,Et.transition=null;var u=Fe;Fe=1;var p=_e;_e|=4,_a.current=null,Md(e,n),Su(n,e),md(zs),nl=!!As,zs=As=null,e.current=n,Bd(n),xc(),_e=p,Fe=u,Et.transition=a}else e.current=n;if(Ul&&(Ul=!1,gn=e,Ml=l),a=e.pendingLanes,a===0&&(hn=null),Rc(n.stateNode),ht(e,He()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(zl)throw zl=!1,e=La,La=null,e;return(Ml&1)!==0&&e.tag!==0&&sr(),a=e.pendingLanes,(a&1)!==0?e===Fa?Mr++:(Mr=0,Fa=e):Mr=0,dn(),null}function sr(){if(gn!==null){var e=yi(Ml),t=Et.transition,n=Fe;try{if(Et.transition=null,Fe=16>e?16:e,gn===null)var r=!1;else{if(e=gn,gn=null,Ml=0,(_e&6)!==0)throw Error(o(331));var l=_e;for(_e|=4,pe=e.current;pe!==null;){var a=pe,u=a.child;if((pe.flags&16)!==0){var p=a.deletions;if(p!==null){for(var g=0;g<p.length;g++){var A=p[g];for(pe=A;pe!==null;){var ee=pe;switch(ee.tag){case 0:case 11:case 15:Ar(8,ee,a)}var ne=ee.child;if(ne!==null)ne.return=ee,pe=ne;else for(;pe!==null;){ee=pe;var J=ee.sibling,de=ee.return;if(gu(ee),ee===A){pe=null;break}if(J!==null){J.return=de,pe=J;break}pe=de}}}var he=a.alternate;if(he!==null){var ge=he.child;if(ge!==null){he.child=null;do{var We=ge.sibling;ge.sibling=null,ge=We}while(ge!==null)}}pe=a}}if((a.subtreeFlags&2064)!==0&&u!==null)u.return=a,pe=u;else e:for(;pe!==null;){if(a=pe,(a.flags&2048)!==0)switch(a.tag){case 0:case 11:case 15:Ar(9,a,a.return)}var T=a.sibling;if(T!==null){T.return=a.return,pe=T;break e}pe=a.return}}var R=e.current;for(pe=R;pe!==null;){u=pe;var F=u.child;if((u.subtreeFlags&2064)!==0&&F!==null)F.return=u,pe=F;else e:for(u=R;pe!==null;){if(p=pe,(p.flags&2048)!==0)try{switch(p.tag){case 0:case 11:case 15:Il(9,p)}}catch(ve){Me(p,p.return,ve)}if(p===u){pe=null;break e}var se=p.sibling;if(se!==null){se.return=p.return,pe=se;break e}pe=p.return}}if(_e=l,dn(),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(Gr,e)}catch{}r=!0}return r}finally{Fe=n,Et.transition=t}}return!1}function Tu(e,t,n){t=tr(n,t),t=Go(e,t,1),e=pn(e,t,1),t=ot(),e!==null&&(fr(e,1,t),ht(e,t))}function Me(e,t,n){if(e.tag===3)Tu(e,e,n);else for(;t!==null;){if(t.tag===3){Tu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(hn===null||!hn.has(r))){e=tr(n,e),e=Zo(t,e,1),t=pn(t,e,1),e=ot(),t!==null&&(fr(t,1,e),ht(t,e));break}}t=t.return}}function Yd(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ot(),e.pingedLanes|=e.suspendedLanes&n,Je===e&&(nt&n)===n&&(Ye===4||Ye===3&&(nt&130023424)===nt&&500>He()-$a?_n(e,0):Ta|=n),ht(e,t)}function $u(e,t){t===0&&((e.mode&1)===0?t=1:(t=Xr,Xr<<=1,(Xr&130023424)===0&&(Xr=4194304)));var n=ot();e=Qt(e,t),e!==null&&(fr(e,t,n),ht(e,n))}function Gd(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),$u(e,n)}function Zd(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}r!==null&&r.delete(t),$u(e,n)}var Lu;Lu=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||dt.current)pt=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return pt=!1,Vd(e,t,n);pt=(e.flags&131072)!==0}else pt=!1,Ae&&(t.flags&1048576)!==0&&po(t,wl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Fl(e,t),e=t.pendingProps;var l=Kn(t,rt.current);Jn(t,n),l=ca(null,t,r,e,l,n);var a=da();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ft(r)?(a=!0,vl(t)):a=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,ra(t),l.updater=$l,t.stateNode=l,l._reactInternals=t,va(t,r,e,n),t=Sa(null,t,r,!0,a,n)):(t.tag=0,Ae&&a&&Ks(t),it(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Fl(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=Jd(r),e=Lt(r,e),l){case 0:t=wa(null,t,r,e,n);break e;case 1:t=au(null,t,r,e,n);break e;case 11:t=tu(null,t,r,e,n);break e;case 14:t=nu(null,t,r,Lt(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Lt(r,l),wa(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Lt(r,l),au(e,t,r,l,n);case 3:e:{if(iu(t),e===null)throw Error(o(387));r=t.pendingProps,a=t.memoizedState,l=a.element,Ro(e,t),jl(t,r,null,n);var u=t.memoizedState;if(r=u.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){l=tr(Error(o(423)),t),t=ou(e,t,r,n,l);break e}else if(r!==l){l=tr(Error(o(424)),t),t=ou(e,t,r,n,l);break e}else for(St=on(t.stateNode.containerInfo.firstChild),wt=t,Ae=!0,$t=null,n=wo(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Gn(),r===l){t=Gt(e,t,n);break e}it(e,t,r,n)}t=t.child}return t;case 5:return bo(t),e===null&&Gs(t),r=t.type,l=t.pendingProps,a=e!==null?e.memoizedProps:null,u=l.children,Us(r,l)?u=null:a!==null&&Us(r,a)&&(t.flags|=32),su(e,t),it(e,t,u,n),t.child;case 6:return e===null&&Gs(t),null;case 13:return uu(e,t,n);case 4:return la(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Zn(t,null,r,n):it(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Lt(r,l),tu(e,t,r,l,n);case 7:return it(e,t,t.pendingProps,n),t.child;case 8:return it(e,t,t.pendingProps.children,n),t.child;case 12:return it(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,a=t.memoizedProps,u=l.value,De(kl,r._currentValue),r._currentValue=u,a!==null)if(Tt(a.value,u)){if(a.children===l.children&&!dt.current){t=Gt(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var p=a.dependencies;if(p!==null){u=a.child;for(var g=p.firstContext;g!==null;){if(g.context===r){if(a.tag===1){g=Yt(-1,n&-n),g.tag=2;var A=a.updateQueue;if(A!==null){A=A.shared;var ee=A.pending;ee===null?g.next=g:(g.next=ee.next,ee.next=g),A.pending=g}}a.lanes|=n,g=a.alternate,g!==null&&(g.lanes|=n),ta(a.return,n,t),p.lanes|=n;break}g=g.next}}else if(a.tag===10)u=a.type===t.type?null:a.child;else if(a.tag===18){if(u=a.return,u===null)throw Error(o(341));u.lanes|=n,p=u.alternate,p!==null&&(p.lanes|=n),ta(u,n,t),u=a.sibling}else u=a.child;if(u!==null)u.return=a;else for(u=a;u!==null;){if(u===t){u=null;break}if(a=u.sibling,a!==null){a.return=u.return,u=a;break}u=u.return}a=u}it(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,Jn(t,n),l=Ct(l),r=r(l),t.flags|=1,it(e,t,r,n),t.child;case 14:return r=t.type,l=Lt(r,t.pendingProps),l=Lt(r.type,l),nu(e,t,r,l,n);case 15:return ru(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Lt(r,l),Fl(e,t),t.tag=1,ft(r)?(e=!0,vl(t)):e=!1,Jn(t,n),Qo(t,r,l),va(t,r,l,n),Sa(null,t,r,!0,e,n);case 19:return du(e,t,n);case 22:return lu(e,t,n)}throw Error(o(156,t.tag))};function Fu(e,t){return pi(e,t)}function Xd(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(e,t,n,r){return new Xd(e,t,n,r)}function Ua(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Jd(e){if(typeof e=="function")return Ua(e)?1:0;if(e!=null){if(e=e.$$typeof,e===P)return 11;if(e===ae)return 14}return 2}function xn(e,t){var n=e.alternate;return n===null?(n=Ot(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ql(e,t,n,r,l,a){var u=2;if(r=e,typeof e=="function")Ua(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case fe:return $n(n.children,l,a,t);case w:u=8,l|=8;break;case j:return e=Ot(12,n,t,l|2),e.elementType=j,e.lanes=a,e;case k:return e=Ot(13,n,t,l),e.elementType=k,e.lanes=a,e;case I:return e=Ot(19,n,t,l),e.elementType=I,e.lanes=a,e;case W:return Kl(n,l,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $:u=10;break e;case N:u=9;break e;case P:u=11;break e;case ae:u=14;break e;case oe:u=16,r=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return t=Ot(u,n,t,l),t.elementType=e,t.type=r,t.lanes=a,t}function $n(e,t,n,r){return e=Ot(7,e,r,t),e.lanes=n,e}function Kl(e,t,n,r){return e=Ot(22,e,r,t),e.elementType=W,e.lanes=n,e.stateNode={isHidden:!1},e}function Ma(e,t,n){return e=Ot(6,e,null,t),e.lanes=n,e}function Ba(e,t,n){return t=Ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ef(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gs(0),this.expirationTimes=gs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gs(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Ha(e,t,n,r,l,a,u,p,g){return e=new ef(e,t,n,p,g),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ot(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ra(a),e}function tf(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:re,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Du(e){if(!e)return cn;e=e._reactInternals;e:{if(Sn(e)!==e||e.tag!==1)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ft(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(o(171))}if(e.tag===1){var n=e.type;if(ft(n))return uo(e,n,t)}return t}function Iu(e,t,n,r,l,a,u,p,g){return e=Ha(n,r,!0,e,l,a,u,p,g),e.context=Du(null),n=e.current,r=ot(),l=vn(n),a=Yt(r,l),a.callback=t??null,pn(n,a,l),e.current.lanes=l,fr(e,l,r),ht(e,r),e}function Ql(e,t,n,r){var l=t.current,a=ot(),u=vn(l);return n=Du(n),t.context===null?t.context=n:t.pendingContext=n,t=Yt(a,u),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=pn(l,t,u),e!==null&&(It(e,l,u,a),bl(e,l,u)),u}function Yl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Vu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Wa(e,t){Vu(e,t),(e=e.alternate)&&Vu(e,t)}function nf(){return null}var Au=typeof reportError=="function"?reportError:function(e){console.error(e)};function qa(e){this._internalRoot=e}Gl.prototype.render=qa.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));Ql(e,t,null,null)},Gl.prototype.unmount=qa.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;On(function(){Ql(null,e,null,null)}),t[Ht]=null}};function Gl(e){this._internalRoot=e}Gl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Si();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ln.length&&t!==0&&t<ln[n].priority;n++);ln.splice(n,0,e),n===0&&Ni(e)}};function Ka(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zu(){}function rf(e,t,n,r,l){if(l){if(typeof r=="function"){var a=r;r=function(){var A=Yl(u);a.call(A)}}var u=Iu(t,r,e,0,null,!1,!1,"",zu);return e._reactRootContainer=u,e[Ht]=u.current,jr(e.nodeType===8?e.parentNode:e),On(),u}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var p=r;r=function(){var A=Yl(g);p.call(A)}}var g=Ha(e,0,!1,null,null,!1,!1,"",zu);return e._reactRootContainer=g,e[Ht]=g.current,jr(e.nodeType===8?e.parentNode:e),On(function(){Ql(t,g,n,r)}),g}function Xl(e,t,n,r,l){var a=n._reactRootContainer;if(a){var u=a;if(typeof l=="function"){var p=l;l=function(){var g=Yl(u);p.call(g)}}Ql(t,u,e,l)}else u=rf(n,t,e,l,r);return Yl(u)}xi=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dr(t.pendingLanes);n!==0&&(vs(t,n|1),ht(t,He()),(_e&6)===0&&(lr=He()+500,dn()))}break;case 13:On(function(){var r=Qt(e,1);if(r!==null){var l=ot();It(r,e,1,l)}}),Wa(e,1)}},ys=function(e){if(e.tag===13){var t=Qt(e,134217728);if(t!==null){var n=ot();It(t,e,134217728,n)}Wa(e,134217728)}},wi=function(e){if(e.tag===13){var t=vn(e),n=Qt(e,t);if(n!==null){var r=ot();It(n,e,t,r)}Wa(e,t)}},Si=function(){return Fe},Ri=function(e,t){var n=Fe;try{return Fe=e,t()}finally{Fe=n}},cs=function(e,t,n){switch(t){case"input":if(ke(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=hl(r);if(!l)throw Error(o(90));Oe(r),ke(r,l)}}}break;case"textarea":Ke(e,n);break;case"select":t=n.value,t!=null&&Ge(e,!!n.multiple,t,!1)}},ai=Va,ii=On;var lf={usingClientEntryPoint:!1,Events:[Er,Wn,hl,li,si,Va]},Br={findFiberByHostInstance:Rn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sf={bundleType:Br.bundleType,version:Br.version,rendererPackageName:Br.rendererPackageName,rendererConfig:Br.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=di(e),e===null?null:e.stateNode},findFiberByHostInstance:Br.findFiberByHostInstance||nf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jl.isDisabled&&Jl.supportsFiber)try{Gr=Jl.inject(sf),At=Jl}catch{}}return gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lf,gt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ka(t))throw Error(o(200));return tf(e,t,null,n)},gt.createRoot=function(e,t){if(!Ka(e))throw Error(o(299));var n=!1,r="",l=Au;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Ha(e,1,!1,null,null,n,!1,r,l),e[Ht]=t.current,jr(e.nodeType===8?e.parentNode:e),new qa(t)},gt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=di(t),e=e===null?null:e.stateNode,e},gt.flushSync=function(e){return On(e)},gt.hydrate=function(e,t,n){if(!Zl(t))throw Error(o(200));return Xl(null,e,t,!0,n)},gt.hydrateRoot=function(e,t,n){if(!Ka(e))throw Error(o(405));var r=n!=null&&n.hydratedSources||null,l=!1,a="",u=Au;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),t=Iu(t,null,e,1,n??null,l,!1,a,u),e[Ht]=t.current,jr(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Gl(t)},gt.render=function(e,t,n){if(!Zl(t))throw Error(o(200));return Xl(null,e,t,!1,n)},gt.unmountComponentAtNode=function(e){if(!Zl(e))throw Error(o(40));return e._reactRootContainer?(On(function(){Xl(null,null,e,!1,function(){e._reactRootContainer=null,e[Ht]=null})}),!0):!1},gt.unstable_batchedUpdates=Va,gt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zl(n))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return Xl(e,t,n,!1,r)},gt.version="18.3.1-next-f1338f8080-20240426",gt}var Qu;function mf(){if(Qu)return Ga.exports;Qu=1;function v(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(v)}catch(i){console.error(i)}}return v(),Ga.exports=pf(),Ga.exports}var Yu;function hf(){if(Yu)return es;Yu=1;var v=mf();return es.createRoot=v.createRoot,es.hydrateRoot=v.hydrateRoot,es}var gf=hf();/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vf={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=v=>v.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Le=(v,i)=>{const o=be.forwardRef(({color:m="currentColor",size:x=24,strokeWidth:f=2,absoluteStrokeWidth:c,className:y="",children:_,...h},D)=>be.createElement("svg",{ref:D,...vf,width:x,height:x,stroke:m,strokeWidth:c?Number(f)*24/Number(x):f,className:["lucide",`lucide-${yf(v)}`,y].join(" "),...h},[...i.map(([X,b])=>be.createElement(X,b)),...Array.isArray(_)?_:[_]]));return o.displayName=`${v}`,o};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=Le("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=Le("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=Le("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=Le("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=Le("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=Le("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=Le("CalendarPlus",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M19 16v6",key:"tddt3s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=Le("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=Le("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=Le("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=Le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=Le("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=Le("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=Le("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=Le("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=Le("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=Le("MailCheck",[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"m16 19 2 2 4-4",key:"1b14m6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=Le("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=Le("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=Le("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=Le("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=Le("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=Le("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=Le("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=Le("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=Le("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=Le("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=Le("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=Le("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=Le("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);var ss={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var Pf=ss.exports,tc;function Ef(){return tc||(tc=1,function(v,i){((o,m)=>{v.exports=m()})(Pf,function o(){var m=typeof self<"u"?self:typeof window<"u"?window:m!==void 0?m:{},x,f=!m.document&&!!m.postMessage,c=m.IS_PAPA_WORKER||!1,y={},_=0,h={};function D(w){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(j){var $=Q(j);$.chunkSize=parseInt($.chunkSize),j.step||j.chunk||($.chunkSize=null),this._handle=new U($),(this._handle.streamer=this)._config=$}).call(this,w),this.parseChunk=function(j,$){var N=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<N){let k=this._config.newline;k||(P=this._config.quoteChar||'"',k=this._handle.guessLineEndings(j,P)),j=[...j.split(k).slice(N)].join(k)}this.isFirstChunk&&fe(this._config.beforeFirstChunk)&&(P=this._config.beforeFirstChunk(j))!==void 0&&(j=P),this.isFirstChunk=!1,this._halted=!1;var N=this._partialLine+j,P=(this._partialLine="",this._handle.parse(N,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(j=P.meta.cursor,N=(this._finished||(this._partialLine=N.substring(j-this._baseIndex),this._baseIndex=j),P&&P.data&&(this._rowCount+=P.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),c)m.postMessage({results:P,workerId:h.WORKER_ID,finished:N});else if(fe(this._config.chunk)&&!$){if(this._config.chunk(P,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=P=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(P.data),this._completeResults.errors=this._completeResults.errors.concat(P.errors),this._completeResults.meta=P.meta),this._completed||!N||!fe(this._config.complete)||P&&P.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),N||P&&P.meta.paused||this._nextChunk(),P}this._halted=!0},this._sendError=function(j){fe(this._config.error)?this._config.error(j):c&&this._config.error&&m.postMessage({workerId:h.WORKER_ID,error:j,finished:!1})}}function X(w){var j;(w=w||{}).chunkSize||(w.chunkSize=h.RemoteChunkSize),D.call(this,w),this._nextChunk=f?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function($){this._input=$,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(j=new XMLHttpRequest,this._config.withCredentials&&(j.withCredentials=this._config.withCredentials),f||(j.onload=re(this._chunkLoaded,this),j.onerror=re(this._chunkError,this)),j.open(this._config.downloadRequestBody?"POST":"GET",this._input,!f),this._config.downloadRequestHeaders){var $,N=this._config.downloadRequestHeaders;for($ in N)j.setRequestHeader($,N[$])}var P;this._config.chunkSize&&(P=this._start+this._config.chunkSize-1,j.setRequestHeader("Range","bytes="+this._start+"-"+P));try{j.send(this._config.downloadRequestBody)}catch(k){this._chunkError(k.message)}f&&j.status===0&&this._chunkError()}},this._chunkLoaded=function(){j.readyState===4&&(j.status<200||400<=j.status?this._chunkError():(this._start+=this._config.chunkSize||j.responseText.length,this._finished=!this._config.chunkSize||this._start>=($=>($=$.getResponseHeader("Content-Range"))!==null?parseInt($.substring($.lastIndexOf("/")+1)):-1)(j),this.parseChunk(j.responseText)))},this._chunkError=function($){$=j.statusText||$,this._sendError(new Error($))}}function b(w){(w=w||{}).chunkSize||(w.chunkSize=h.LocalChunkSize),D.call(this,w);var j,$,N=typeof FileReader<"u";this.stream=function(P){this._input=P,$=P.slice||P.webkitSlice||P.mozSlice,N?((j=new FileReader).onload=re(this._chunkLoaded,this),j.onerror=re(this._chunkError,this)):j=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var P=this._input,k=(this._config.chunkSize&&(k=Math.min(this._start+this._config.chunkSize,this._input.size),P=$.call(P,this._start,k)),j.readAsText(P,this._config.encoding));N||this._chunkLoaded({target:{result:k}})},this._chunkLoaded=function(P){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(P.target.result)},this._chunkError=function(){this._sendError(j.error)}}function G(w){var j;D.call(this,w=w||{}),this.stream=function($){return j=$,this._nextChunk()},this._nextChunk=function(){var $,N;if(!this._finished)return $=this._config.chunkSize,j=$?(N=j.substring(0,$),j.substring($)):(N=j,""),this._finished=!j,this.parseChunk(N)}}function q(w){D.call(this,w=w||{});var j=[],$=!0,N=!1;this.pause=function(){D.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){D.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(P){this._input=P,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){N&&j.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),j.length?this.parseChunk(j.shift()):$=!0},this._streamData=re(function(P){try{j.push(typeof P=="string"?P:P.toString(this._config.encoding)),$&&($=!1,this._checkIsFinished(),this.parseChunk(j.shift()))}catch(k){this._streamError(k)}},this),this._streamError=re(function(P){this._streamCleanUp(),this._sendError(P)},this),this._streamEnd=re(function(){this._streamCleanUp(),N=!0,this._streamData("")},this),this._streamCleanUp=re(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function U(w){var j,$,N,P,k=Math.pow(2,53),I=-k,ae=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,oe=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,W=this,z=0,M=0,V=!1,d=!1,E=[],K={data:[],errors:[],meta:{}};function S(ie){return w.skipEmptyLines==="greedy"?ie.join("").trim()==="":ie.length===1&&ie[0].length===0}function L(){if(K&&N&&(le("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+h.DefaultDelimiter+"'"),N=!1),w.skipEmptyLines&&(K.data=K.data.filter(function(Oe){return!S(Oe)})),Z()){let Oe=function($e,Pe){fe(w.transformHeader)&&($e=w.transformHeader($e,Pe)),E.push($e)};var ye=Oe;if(K)if(Array.isArray(K.data[0])){for(var ie=0;Z()&&ie<K.data.length;ie++)K.data[ie].forEach(Oe);K.data.splice(0,1)}else K.data.forEach(Oe)}function ce(Oe,$e){for(var Pe=w.header?{}:[],je=0;je<Oe.length;je++){var Re=je,ke=Oe[je],ke=((te,Y)=>(me=>(w.dynamicTypingFunction&&w.dynamicTyping[me]===void 0&&(w.dynamicTyping[me]=w.dynamicTypingFunction(me)),(w.dynamicTyping[me]||w.dynamicTyping)===!0))(te)?Y==="true"||Y==="TRUE"||Y!=="false"&&Y!=="FALSE"&&((me=>{if(ae.test(me)&&(me=parseFloat(me),I<me&&me<k))return 1})(Y)?parseFloat(Y):oe.test(Y)?new Date(Y):Y===""?null:Y):Y)(Re=w.header?je>=E.length?"__parsed_extra":E[je]:Re,ke=w.transform?w.transform(ke,Re):ke);Re==="__parsed_extra"?(Pe[Re]=Pe[Re]||[],Pe[Re].push(ke)):Pe[Re]=ke}return w.header&&(je>E.length?le("FieldMismatch","TooManyFields","Too many fields: expected "+E.length+" fields but parsed "+je,M+$e):je<E.length&&le("FieldMismatch","TooFewFields","Too few fields: expected "+E.length+" fields but parsed "+je,M+$e)),Pe}var Se;K&&(w.header||w.dynamicTyping||w.transform)&&(Se=1,!K.data.length||Array.isArray(K.data[0])?(K.data=K.data.map(ce),Se=K.data.length):K.data=ce(K.data,0),w.header&&K.meta&&(K.meta.fields=E),M+=Se)}function Z(){return w.header&&E.length===0}function le(ie,ce,Se,ye){ie={type:ie,code:ce,message:Se},ye!==void 0&&(ie.row=ye),K.errors.push(ie)}fe(w.step)&&(P=w.step,w.step=function(ie){K=ie,Z()?L():(L(),K.data.length!==0&&(z+=ie.data.length,w.preview&&z>w.preview?$.abort():(K.data=K.data[0],P(K,W))))}),this.parse=function(ie,ce,Se){var ye=w.quoteChar||'"',ye=(w.newline||(w.newline=this.guessLineEndings(ie,ye)),N=!1,w.delimiter?fe(w.delimiter)&&(w.delimiter=w.delimiter(ie),K.meta.delimiter=w.delimiter):((ye=((Oe,$e,Pe,je,Re)=>{var ke,te,Y,me;Re=Re||[",","	","|",";",h.RECORD_SEP,h.UNIT_SEP];for(var Ge=0;Ge<Re.length;Ge++){for(var ut,Xt=Re[Ge],Ke=0,yt=0,Be=0,Ze=(Y=void 0,new C({comments:je,delimiter:Xt,newline:$e,preview:10}).parse(Oe)),ct=0;ct<Ze.data.length;ct++)Pe&&S(Ze.data[ct])?Be++:(ut=Ze.data[ct].length,yt+=ut,Y===void 0?Y=ut:0<ut&&(Ke+=Math.abs(ut-Y),Y=ut));0<Ze.data.length&&(yt/=Ze.data.length-Be),(te===void 0||Ke<=te)&&(me===void 0||me<yt)&&1.99<yt&&(te=Ke,ke=Xt,me=yt)}return{successful:!!(w.delimiter=ke),bestDelimiter:ke}})(ie,w.newline,w.skipEmptyLines,w.comments,w.delimitersToGuess)).successful?w.delimiter=ye.bestDelimiter:(N=!0,w.delimiter=h.DefaultDelimiter),K.meta.delimiter=w.delimiter),Q(w));return w.preview&&w.header&&ye.preview++,j=ie,$=new C(ye),K=$.parse(j,ce,Se),L(),V?{meta:{paused:!0}}:K||{meta:{paused:!1}}},this.paused=function(){return V},this.pause=function(){V=!0,$.abort(),j=fe(w.chunk)?"":j.substring($.getCharIndex())},this.resume=function(){W.streamer._halted?(V=!1,W.streamer.parseChunk(j,!0)):setTimeout(W.resume,3)},this.aborted=function(){return d},this.abort=function(){d=!0,$.abort(),K.meta.aborted=!0,fe(w.complete)&&w.complete(K),j=""},this.guessLineEndings=function(Oe,ye){Oe=Oe.substring(0,1048576);var ye=new RegExp(B(ye)+"([^]*?)"+B(ye),"gm"),Se=(Oe=Oe.replace(ye,"")).split("\r"),ye=Oe.split(`
`),Oe=1<ye.length&&ye[0].length<Se[0].length;if(Se.length===1||Oe)return`
`;for(var $e=0,Pe=0;Pe<Se.length;Pe++)Se[Pe][0]===`
`&&$e++;return $e>=Se.length/2?`\r
`:"\r"}}function B(w){return w.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function C(w){var j=(w=w||{}).delimiter,$=w.newline,N=w.comments,P=w.step,k=w.preview,I=w.fastMode,ae=null,oe=!1,W=w.quoteChar==null?'"':w.quoteChar,z=W;if(w.escapeChar!==void 0&&(z=w.escapeChar),(typeof j!="string"||-1<h.BAD_DELIMITERS.indexOf(j))&&(j=","),N===j)throw new Error("Comment character same as delimiter");N===!0?N="#":(typeof N!="string"||-1<h.BAD_DELIMITERS.indexOf(N))&&(N=!1),$!==`
`&&$!=="\r"&&$!==`\r
`&&($=`
`);var M=0,V=!1;this.parse=function(d,E,K){if(typeof d!="string")throw new Error("Input must be a string");var S=d.length,L=j.length,Z=$.length,le=N.length,ie=fe(P),ce=[],Se=[],ye=[],Oe=M=0;if(!d)return Ke();if(I||I!==!1&&d.indexOf(W)===-1){for(var $e=d.split($),Pe=0;Pe<$e.length;Pe++){if(ye=$e[Pe],M+=ye.length,Pe!==$e.length-1)M+=$.length;else if(K)return Ke();if(!N||ye.substring(0,le)!==N){if(ie){if(ce=[],me(ye.split(j)),yt(),V)return Ke()}else me(ye.split(j));if(k&&k<=Pe)return ce=ce.slice(0,k),Ke(!0)}}return Ke()}for(var je=d.indexOf(j,M),Re=d.indexOf($,M),ke=new RegExp(B(z)+B(W),"g"),te=d.indexOf(W,M);;)if(d[M]===W)for(te=M,M++;;){if((te=d.indexOf(W,te+1))===-1)return K||Se.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ce.length,index:M}),ut();if(te===S-1)return ut(d.substring(M,te).replace(ke,W));if(W===z&&d[te+1]===z)te++;else if(W===z||te===0||d[te-1]!==z){je!==-1&&je<te+1&&(je=d.indexOf(j,te+1));var Y=Ge((Re=Re!==-1&&Re<te+1?d.indexOf($,te+1):Re)===-1?je:Math.min(je,Re));if(d.substr(te+1+Y,L)===j){ye.push(d.substring(M,te).replace(ke,W)),d[M=te+1+Y+L]!==W&&(te=d.indexOf(W,M)),je=d.indexOf(j,M),Re=d.indexOf($,M);break}if(Y=Ge(Re),d.substring(te+1+Y,te+1+Y+Z)===$){if(ye.push(d.substring(M,te).replace(ke,W)),Xt(te+1+Y+Z),je=d.indexOf(j,M),te=d.indexOf(W,M),ie&&(yt(),V))return Ke();if(k&&ce.length>=k)return Ke(!0);break}Se.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ce.length,index:M}),te++}}else if(N&&ye.length===0&&d.substring(M,M+le)===N){if(Re===-1)return Ke();M=Re+Z,Re=d.indexOf($,M),je=d.indexOf(j,M)}else if(je!==-1&&(je<Re||Re===-1))ye.push(d.substring(M,je)),M=je+L,je=d.indexOf(j,M);else{if(Re===-1)break;if(ye.push(d.substring(M,Re)),Xt(Re+Z),ie&&(yt(),V))return Ke();if(k&&ce.length>=k)return Ke(!0)}return ut();function me(Be){ce.push(Be),Oe=M}function Ge(Be){var Ze=0;return Ze=Be!==-1&&(Be=d.substring(te+1,Be))&&Be.trim()===""?Be.length:Ze}function ut(Be){return K||(Be===void 0&&(Be=d.substring(M)),ye.push(Be),M=S,me(ye),ie&&yt()),Ke()}function Xt(Be){M=Be,me(ye),ye=[],Re=d.indexOf($,M)}function Ke(Be){if(w.header&&!E&&ce.length&&!oe){var Ze=ce[0],ct=Object.create(null),Fn=new Set(Ze);let Jt=!1;for(let kt=0;kt<Ze.length;kt++){let Nt=Ze[kt];if(ct[Nt=fe(w.transformHeader)?w.transformHeader(Nt,kt):Nt]){let en,ir=ct[Nt];for(;en=Nt+"_"+ir,ir++,Fn.has(en););Fn.add(en),Ze[kt]=en,ct[Nt]++,Jt=!0,(ae=ae===null?{}:ae)[en]=Nt}else ct[Nt]=1,Ze[kt]=Nt;Fn.add(Nt)}Jt&&console.warn("Duplicate headers found and renamed."),oe=!0}return{data:ce,errors:Se,meta:{delimiter:j,linebreak:$,aborted:V,truncated:!!Be,cursor:Oe+(E||0),renamedHeaders:ae}}}function yt(){P(Ke()),ce=[],Se=[]}},this.abort=function(){V=!0},this.getCharIndex=function(){return M}}function ue(w){var j=w.data,$=y[j.workerId],N=!1;if(j.error)$.userError(j.error,j.file);else if(j.results&&j.results.data){var P={abort:function(){N=!0,H(j.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:O,resume:O};if(fe($.userStep)){for(var k=0;k<j.results.data.length&&($.userStep({data:j.results.data[k],errors:j.results.errors,meta:j.results.meta},P),!N);k++);delete j.results}else fe($.userChunk)&&($.userChunk(j.results,P,j.file),delete j.results)}j.finished&&!N&&H(j.workerId,j.results)}function H(w,j){var $=y[w];fe($.userComplete)&&$.userComplete(j),$.terminate(),delete y[w]}function O(){throw new Error("Not implemented.")}function Q(w){if(typeof w!="object"||w===null)return w;var j,$=Array.isArray(w)?[]:{};for(j in w)$[j]=Q(w[j]);return $}function re(w,j){return function(){w.apply(j,arguments)}}function fe(w){return typeof w=="function"}return h.parse=function(w,j){var $=(j=j||{}).dynamicTyping||!1;if(fe($)&&(j.dynamicTypingFunction=$,$={}),j.dynamicTyping=$,j.transform=!!fe(j.transform)&&j.transform,!j.worker||!h.WORKERS_SUPPORTED)return $=null,h.NODE_STREAM_INPUT,typeof w=="string"?(w=(N=>N.charCodeAt(0)!==65279?N:N.slice(1))(w),$=new(j.download?X:G)(j)):w.readable===!0&&fe(w.read)&&fe(w.on)?$=new q(j):(m.File&&w instanceof File||w instanceof Object)&&($=new b(j)),$.stream(w);($=(()=>{var N;return!!h.WORKERS_SUPPORTED&&(N=(()=>{var P=m.URL||m.webkitURL||null,k=o.toString();return h.BLOB_URL||(h.BLOB_URL=P.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",k,")();"],{type:"text/javascript"})))})(),(N=new m.Worker(N)).onmessage=ue,N.id=_++,y[N.id]=N)})()).userStep=j.step,$.userChunk=j.chunk,$.userComplete=j.complete,$.userError=j.error,j.step=fe(j.step),j.chunk=fe(j.chunk),j.complete=fe(j.complete),j.error=fe(j.error),delete j.worker,$.postMessage({input:w,config:j,workerId:$.id})},h.unparse=function(w,j){var $=!1,N=!0,P=",",k=`\r
`,I='"',ae=I+I,oe=!1,W=null,z=!1,M=((()=>{if(typeof j=="object"){if(typeof j.delimiter!="string"||h.BAD_DELIMITERS.filter(function(E){return j.delimiter.indexOf(E)!==-1}).length||(P=j.delimiter),typeof j.quotes!="boolean"&&typeof j.quotes!="function"&&!Array.isArray(j.quotes)||($=j.quotes),typeof j.skipEmptyLines!="boolean"&&typeof j.skipEmptyLines!="string"||(oe=j.skipEmptyLines),typeof j.newline=="string"&&(k=j.newline),typeof j.quoteChar=="string"&&(I=j.quoteChar),typeof j.header=="boolean"&&(N=j.header),Array.isArray(j.columns)){if(j.columns.length===0)throw new Error("Option columns is empty");W=j.columns}j.escapeChar!==void 0&&(ae=j.escapeChar+I),j.escapeFormulae instanceof RegExp?z=j.escapeFormulae:typeof j.escapeFormulae=="boolean"&&j.escapeFormulae&&(z=/^[=+\-@\t\r].*$/)}})(),new RegExp(B(I),"g"));if(typeof w=="string"&&(w=JSON.parse(w)),Array.isArray(w)){if(!w.length||Array.isArray(w[0]))return V(null,w,oe);if(typeof w[0]=="object")return V(W||Object.keys(w[0]),w,oe)}else if(typeof w=="object")return typeof w.data=="string"&&(w.data=JSON.parse(w.data)),Array.isArray(w.data)&&(w.fields||(w.fields=w.meta&&w.meta.fields||W),w.fields||(w.fields=Array.isArray(w.data[0])?w.fields:typeof w.data[0]=="object"?Object.keys(w.data[0]):[]),Array.isArray(w.data[0])||typeof w.data[0]=="object"||(w.data=[w.data])),V(w.fields||[],w.data||[],oe);throw new Error("Unable to serialize unrecognized input");function V(E,K,S){var L="",Z=(typeof E=="string"&&(E=JSON.parse(E)),typeof K=="string"&&(K=JSON.parse(K)),Array.isArray(E)&&0<E.length),le=!Array.isArray(K[0]);if(Z&&N){for(var ie=0;ie<E.length;ie++)0<ie&&(L+=P),L+=d(E[ie],ie);0<K.length&&(L+=k)}for(var ce=0;ce<K.length;ce++){var Se=(Z?E:K[ce]).length,ye=!1,Oe=Z?Object.keys(K[ce]).length===0:K[ce].length===0;if(S&&!Z&&(ye=S==="greedy"?K[ce].join("").trim()==="":K[ce].length===1&&K[ce][0].length===0),S==="greedy"&&Z){for(var $e=[],Pe=0;Pe<Se;Pe++){var je=le?E[Pe]:Pe;$e.push(K[ce][je])}ye=$e.join("").trim()===""}if(!ye){for(var Re=0;Re<Se;Re++){0<Re&&!Oe&&(L+=P);var ke=Z&&le?E[Re]:Re;L+=d(K[ce][ke],Re)}ce<K.length-1&&(!S||0<Se&&!Oe)&&(L+=k)}}return L}function d(E,K){var S,L;return E==null?"":E.constructor===Date?JSON.stringify(E).slice(1,25):(L=!1,z&&typeof E=="string"&&z.test(E)&&(E="'"+E,L=!0),S=E.toString().replace(M,ae),(L=L||$===!0||typeof $=="function"&&$(E,K)||Array.isArray($)&&$[K]||((Z,le)=>{for(var ie=0;ie<le.length;ie++)if(-1<Z.indexOf(le[ie]))return!0;return!1})(S,h.BAD_DELIMITERS)||-1<S.indexOf(P)||S.charAt(0)===" "||S.charAt(S.length-1)===" ")?I+S+I:S)}},h.RECORD_SEP="",h.UNIT_SEP="",h.BYTE_ORDER_MARK="\uFEFF",h.BAD_DELIMITERS=["\r",`
`,'"',h.BYTE_ORDER_MARK],h.WORKERS_SUPPORTED=!f&&!!m.Worker,h.NODE_STREAM_INPUT=1,h.LocalChunkSize=10485760,h.RemoteChunkSize=5242880,h.DefaultDelimiter=",",h.Parser=C,h.ParserHandle=U,h.NetworkStreamer=X,h.FileStreamer=b,h.StringStreamer=G,h.ReadableStreamStreamer=q,m.jQuery&&((x=m.jQuery).fn.parse=function(w){var j=w.config||{},$=[];return this.each(function(k){if(!(x(this).prop("tagName").toUpperCase()==="INPUT"&&x(this).attr("type").toLowerCase()==="file"&&m.FileReader)||!this.files||this.files.length===0)return!0;for(var I=0;I<this.files.length;I++)$.push({file:this.files[I],inputElem:this,instanceConfig:x.extend({},j)})}),N(),this;function N(){if($.length===0)fe(w.complete)&&w.complete();else{var k,I,ae,oe,W=$[0];if(fe(w.before)){var z=w.before(W.file,W.inputElem);if(typeof z=="object"){if(z.action==="abort")return k="AbortError",I=W.file,ae=W.inputElem,oe=z.reason,void(fe(w.error)&&w.error({name:k},I,ae,oe));if(z.action==="skip")return void P();typeof z.config=="object"&&(W.instanceConfig=x.extend(W.instanceConfig,z.config))}else if(z==="skip")return void P()}var M=W.instanceConfig.complete;W.instanceConfig.complete=function(V){fe(M)&&M(V,W.file,W.inputElem),P()},h.parse(W.file,W.instanceConfig)}}function P(){$.splice(0,1),N()}}),c&&(m.onmessage=function(w){w=w.data,h.WORKER_ID===void 0&&w&&(h.WORKER_ID=w.workerId),typeof w.input=="string"?m.postMessage({workerId:h.WORKER_ID,results:h.parse(w.input,w.config),finished:!0}):(m.File&&w.input instanceof File||w.input instanceof Object)&&(w=h.parse(w.input,w.config))&&m.postMessage({workerId:h.WORKER_ID,results:w,finished:!0})}),(X.prototype=Object.create(D.prototype)).constructor=X,(b.prototype=Object.create(D.prototype)).constructor=b,(G.prototype=Object.create(G.prototype)).constructor=G,(q.prototype=Object.create(D.prototype)).constructor=q,h})}(ss)),ss.exports}var Of=Ef();const ei=rc(Of);class _f{CHUNK_SIZE=1e3;async parseCSV(i,o){return new Promise(m=>{const x=[];let f=0;ei.parse(i,{header:!0,dynamicTyping:!0,skipEmptyLines:!0,chunk:c=>{if(x.push(...c.data),f+=c.data.length,o&&c.meta.cursor&&i.size){const y=c.meta.cursor/i.size*100;o(Math.min(y,99))}},complete:()=>{o&&o(100),m({success:!0,data:x})},error:c=>{m({success:!1,error:`Failed to parse CSV: ${c.message}`})}})})}async parseCampaigns(i,o){const m=await this.parseCSV(i,o);return!m.success||!m.data?m:this.validateCampaigns(m.data)}async parseFlows(i,o){return new Promise(m=>{let x=3;ei.parse(i,{header:!1,dynamicTyping:!0,skipEmptyLines:!0,complete:f=>{const c=f.data;if(c.length<=x){m({success:!1,error:"File does not contain enough rows"});return}console.log("Row 1:",c[0]),console.log("Row 2:",c[1]),console.log("Row 3:",c[2]),console.log("Row 4:",c[3]);let y=-1;for(let b=0;b<Math.min(10,c.length);b++)if(c[b][0]==="Day"){y=b,console.log(`Found headers at row ${b+1}`);break}const _=y>=0?c[y]:c[2];console.log("Using headers:",_);const h=[],D=y>=0?y+1:3;for(let b=D;b<c.length;b++){const G=c[b],q={};_.forEach((U,B)=>{U&&G[B]!==void 0&&(q[U]=G[B])}),h.push(q)}console.log("Parsed flow data rows:",h.length),h.length>0&&(console.log("First row keys:",Object.keys(h[0])),console.log("First row data:",h[0]));const X=this.validateFlows(h);o&&o(100),m(X)},error:f=>{m({success:!1,error:`Failed to parse CSV: ${f.message}`})}})})}async parseSubscribers(i,o){const m=await this.parseCSV(i,o);return!m.success||!m.data?m:this.validateSubscribers(m.data)}validateCampaigns(i){const o=[],m=["Campaign Name","Send Time","Total Recipients","Revenue","Unique Opens","Unique Clicks"];return i.forEach((x,f)=>{let c=!0;m.forEach(y=>{(x[y]===void 0||x[y]===null||x[y]==="")&&(c=!1)}),x["Campaign Channel"]&&typeof x["Campaign Channel"]=="string"&&x["Campaign Channel"].toLowerCase().includes("sms")&&(c=!1),c&&o.push(x)}),o.length===0?{success:!1,error:"No valid flow data found. Check that the CSV contains flows with delivery data (Delivered > 0)."}:{success:!0,data:o}}validateFlows(i){const o=[];console.log("Flow data rows:",i.length),i.length>0&&(console.log("First row keys:",Object.keys(i[0])),console.log("First row data:",i[0]));const m=["Day","Flow ID","Flow Name","Flow Message ID","Flow Message Name","Status","Delivered"];return i.forEach((x,f)=>{let c=!0;m.forEach(y=>{(x[y]===void 0||x[y]===null||x[y]==="")&&(c=!1)}),c&&o.push(x)}),o.length===0?{success:!1,error:"No valid flow data found. Check that the CSV contains the required fields."}:{success:!0,data:o}}validateSubscribers(i){const o=[],m=["Email","Klaviyo ID","Email Marketing Consent"];return i.forEach((x,f)=>{let c=!0;m.forEach(y=>{(x[y]===void 0||x[y]===null||x[y]==="")&&(c=!1)}),x.Email&&typeof x.Email=="string"&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(x.Email)||(c=!1)),c&&o.push(x)}),o.length===0?{success:!1,error:"No valid subscriber data found. Check that the CSV contains valid email addresses."}:{success:!0,data:o}}getFileSize(i){const o=["Bytes","KB","MB","GB"];if(i===0)return"0 Bytes";const m=Math.floor(Math.log(i)/Math.log(1024));return Math.round(i/Math.pow(1024,m)*100)/100+" "+o[m]}estimateProcessingTime(i){const o=i/1048576;return o<60?`${Math.ceil(o)} seconds`:`${Math.ceil(o/60)} minutes`}}class Tf{transform(i){return i.map((o,m)=>this.transformSingle(o,m+1))}transformSingle(i,o){const m=this.parseDate(i["Send Time"]),x=this.parseNumber(i["Total Recipients"]),f=this.parseNumber(i["Unique Opens"]),c=this.parseNumber(i["Unique Clicks"]),y=this.parseNumber(i["Unique Placed Order"]),_=this.parseNumber(i.Revenue),h=this.parseNumber(i.Unsubscribes),D=this.parseNumber(i["Spam Complaints"]),X=this.parseNumber(i.Bounces),b=x>0?f/x*100:0,G=x>0?c/x*100:0,q=f>0?c/f*100:0,U=c>0?y/c*100:0;U>100&&console.warn("High conversion rate detected:",{campaign:i["Campaign Name"],orders:y,clicks:c,conversionRate:U});const B=x>0?_/x:0,C=x>0?h/x*100:0,ue=x>0?D/x*100:0,H=x>0?X/x*100:0,O=y>0?_/y:0;return{id:o,subject:i.Subject||i["Campaign Name"],sentDate:m,dayOfWeek:m.getDay(),hourOfDay:m.getHours(),emailsSent:x,uniqueOpens:f,uniqueClicks:c,totalOrders:y,revenue:_,unsubscribesCount:h,spamComplaintsCount:D,bouncesCount:X,openRate:b,clickRate:G,clickToOpenRate:q,conversionRate:U,revenuePerEmail:B,unsubscribeRate:C,spamRate:ue,bounceRate:H,avgOrderValue:O}}parseDate(i){const o=new Date(i);return isNaN(o.getTime())?(console.warn(`Invalid date: ${i}, using current date`),new Date):o}parseNumber(i){if(i==null||i==="")return 0;if(typeof i=="number")return isNaN(i)?0:i;const o=i.toString().replace(/,/g,"").replace(/\$/g,"").replace(/%/g,"").trim(),m=parseFloat(o);return isNaN(m)?0:m}parsePercentage(i){if(!i)return 0;const o=i.toString().replace(/%/g,"").trim(),m=parseFloat(o);return isNaN(m)?0:m}getSummaryStats(i){if(i.length===0)return{totalCampaigns:0,dateRange:{start:new Date,end:new Date},totalRevenue:0,totalEmailsSent:0,avgOpenRate:0,avgClickRate:0,avgConversionRate:0};const o=i.map(_=>_.sentDate),m=i.reduce((_,h)=>_+h.revenue,0),x=i.reduce((_,h)=>_+h.emailsSent,0),f=i.reduce((_,h)=>_+h.openRate*h.emailsSent,0)/x,c=i.reduce((_,h)=>_+h.clickRate*h.emailsSent,0)/x,y=i.reduce((_,h)=>_+h.conversionRate*h.emailsSent,0)/x;return{totalCampaigns:i.length,dateRange:{start:new Date(Math.min(...o.map(_=>_.getTime()))),end:new Date(Math.max(...o.map(_=>_.getTime())))},totalRevenue:m,totalEmailsSent:x,avgOpenRate:f,avgClickRate:c,avgConversionRate:y}}}class $f{transform(i){const o=i.filter(c=>{const y=c["Flow Message Channel"];return!y||y==="Email"||y==="email"||y===""}),m=this.buildSequenceMap(o),x=[];let f=1;return o.forEach(c=>{const y=m.get(`${c["Flow ID"]}_${c["Flow Message ID"]}`)||1;x.push(this.transformSingle(c,f++,y))}),x}buildSequenceMap(i){const o=new Map;i.forEach(x=>{const f=x["Flow ID"],c=x["Flow Message ID"],y=this.parseDate(x.Day).getTime();o.has(f)||o.set(f,new Map);const _=o.get(f),h=_.get(c);(h===void 0||y<h)&&_.set(c,y)});const m=new Map;return o.forEach((x,f)=>{Array.from(x.entries()).sort((y,_)=>y[1]-_[1]).map(([y])=>y).forEach((y,_)=>{m.set(`${f}_${y}`,_+1)})}),m}transformSingle(i,o,m){const x=this.parseDate(i.Day),f=this.parseNumber(i.Delivered),c=this.parseNumber(i["Unique Opens"]),y=this.parseNumber(i["Unique Clicks"]),_=this.parseNumber(i["Unique Placed Order"]||i["Placed Order"]||0),h=this.parseNumber(i.Revenue||0),D=this.parseDecimalRate(i["Bounce Rate"]),X=this.parseNumber(i.Bounced)||Math.round(f*D),b=this.parseDecimalRate(i["Unsub Rate"]||i["Unsubscribe Rate"]||0),G=this.parseNumber(i.Unsubscribes)||Math.round(f*b),q=this.parseDecimalRate(i["Complaint Rate"]||i["Spam Rate"]||0),U=this.parseNumber(i.Spam)||Math.round(f*q),B=f>0?c/f*100:0,C=f>0?y/f*100:0,ue=c>0?y/c*100:0,H=y>0?_/y*100:0,O=f>0?h/f:0,Q=_>0?h/_:0,re=i["Flow Message Name"]||`Email ${m}`;return{id:o,flowId:i["Flow ID"],flowName:i["Flow Name"],flowMessageId:i["Flow Message ID"],emailName:re,sequencePosition:m,sentDate:x,status:i.Status||"unknown",emailsSent:f,uniqueOpens:c,uniqueClicks:y,totalOrders:_,revenue:h,unsubscribesCount:G,spamComplaintsCount:U,bouncesCount:X,openRate:B,clickRate:C,clickToOpenRate:ue,conversionRate:H,revenuePerEmail:O,unsubscribeRate:b*100,spamRate:q*100,bounceRate:D*100,avgOrderValue:Q}}parseDate(i){const o=new Date(i);return isNaN(o.getTime())?(console.warn(`Invalid date: ${i}, using current date`),new Date):o}parseNumber(i){if(i==null||i==="")return 0;if(typeof i=="number")return isNaN(i)?0:i;const o=i.toString().replace(/,/g,"").replace(/\$/g,"").replace(/%/g,"").trim(),m=parseFloat(o);return isNaN(m)?0:m}parseDecimalRate(i){return i==null||i===""?0:typeof i=="number"?i:i.toString().includes("%")?this.parseNumber(i)/100:this.parseNumber(i)}getFlowSequenceInfo(i,o){const m=o.filter(c=>c.flowName===i);if(m.length===0)return{flowId:"",messageIds:[],emailNames:[],sequenceLength:0};const x=new Map;m.forEach(c=>{const y=c.flowMessageId,_=c.sentDate.getTime();if(!x.has(y))x.set(y,{seq:c.sequencePosition,earliestSeq:c.sequencePosition,latestTs:_,latestName:c.emailName});else{const h=x.get(y);c.sequencePosition<h.earliestSeq&&(h.earliestSeq=c.sequencePosition),_>h.latestTs&&(h.latestTs=_,h.latestName=c.emailName)}});const f=Array.from(x.entries()).sort((c,y)=>c[1].earliestSeq-y[1].earliestSeq);return{flowId:m[0].flowId,messageIds:f.map(([c])=>c),emailNames:f.map(([c,y])=>y.latestName),sequenceLength:f.length}}getUniqueFlowNames(i){return Array.from(new Set(i.map(o=>o.flowName))).sort()}aggregateByDayAndPosition(i,o,m){const x=i.filter(_=>_.flowName===o&&_.sequencePosition===m),f=new Map;x.forEach(_=>{const h=_.sentDate.toISOString().split("T")[0];f.has(h)||f.set(h,[]),f.get(h).push(_)});const c=[];let y=1;return f.forEach((_,h)=>{const D=_[0],X=new Date(h),b=_.reduce((k,I)=>k+I.emailsSent,0),G=_.reduce((k,I)=>k+I.uniqueOpens,0),q=_.reduce((k,I)=>k+I.uniqueClicks,0),U=_.reduce((k,I)=>k+I.totalOrders,0),B=_.reduce((k,I)=>k+I.revenue,0),C=_.reduce((k,I)=>k+I.unsubscribesCount,0),ue=_.reduce((k,I)=>k+I.spamComplaintsCount,0),H=_.reduce((k,I)=>k+I.bouncesCount,0),O=b>0?G/b*100:0,Q=b>0?q/b*100:0,re=G>0?q/G*100:0,fe=q>0?U/q*100:0,w=b>0?B/b:0,j=b>0?C/b*100:0,$=b>0?ue/b*100:0,N=b>0?H/b*100:0,P=U>0?B/U:0;c.push({id:y++,flowId:D.flowId,flowName:D.flowName,flowMessageId:D.flowMessageId,emailName:D.emailName,sequencePosition:D.sequencePosition,sentDate:X,status:D.status,emailsSent:b,uniqueOpens:G,uniqueClicks:q,totalOrders:U,revenue:B,unsubscribesCount:C,spamComplaintsCount:ue,bouncesCount:H,openRate:O,clickRate:Q,clickToOpenRate:re,conversionRate:fe,revenuePerEmail:w,unsubscribeRate:j,spamRate:$,bounceRate:N,avgOrderValue:P})}),c.sort((_,h)=>_.sentDate.getTime()-h.sentDate.getTime())}}class dc{REFERENCE_DATE=new Date;transform(i){return i.map(o=>this.transformSingle(o))}transformSingle(i){const o=this.parseDate(i["Profile Created On"]||i["Date Added"])||new Date,m=this.parseDate(i["First Active"]),x=m||o,f=this.parseDate(i["Last Active"]),c=this.parseDate(i["Last Open"]),y=this.parseDate(i["Last Click"]),_=Math.floor((this.REFERENCE_DATE.getTime()-o.getTime())/(1e3*60*60*24)),h=this.parseNumber(i["Total Customer Lifetime Value"]),D=this.parseNumber(i["Predicted Customer Lifetime Value"]),X=this.parseNumber(i["Average Order Value"]),b=Math.floor(this.parseNumber(i["Historic Number Of Orders"])),G=this.parseOptionalNumber(i["Average Days Between Orders"]),q=(i["Email Marketing Consent"]??"").toString(),U=this.parseConsent(q),B=typeof i["Email Suppressions"]=="string"?i["Email Suppressions"]:String(i["Email Suppressions"]??""),{suppressions:C,canReceiveEmail:ue}=this.parseEmailSuppressions(B),H=b>0||h>0;return{id:i["Klaviyo ID"]||"",email:i.Email||"",firstName:i["First Name"]||"",lastName:i["Last Name"]||"",city:i.City||"",state:i["State / Region"]||"",country:i.Country||"",zipCode:i["Zip Code"]||"",source:i.Source||"Unknown",emailConsent:U,emailConsentRaw:q,totalClv:h,predictedClv:D,avgOrderValue:X,totalOrders:b,firstActive:x,lastActive:f,profileCreated:o,isBuyer:H,lifetimeInDays:_,emailSuppressions:C,canReceiveEmail:ue,avgDaysBetweenOrders:G,lastOpen:c,lastClick:y,firstActiveRaw:m}}parseDate(i){if(i==null||i==="")return null;const o=typeof i=="number"?new Date(i):new Date(String(i));return isNaN(o.getTime())?null:o}parseNumber(i){if(i==null||i==="")return 0;if(typeof i=="number")return isNaN(i)?0:i;const o=i.toString().replace(/,/g,"").replace(/\$/g,"").trim(),m=parseFloat(o);return isNaN(m)?0:m}parseOptionalNumber(i){if(i==null||i==="")return null;if(typeof i=="number")return isNaN(i)?null:i;const o=i.toString().replace(/,/g,"").replace(/\$/g,"").trim(),m=parseFloat(o);return isNaN(m)?null:m}parseConsent(i){if(i==null)return!1;const o=String(i).toUpperCase().trim();if(o==="TRUE")return!0;if(o==="FALSE"||o==="NEVER_SUBSCRIBED")return!1;const m=new Date(String(i));return!isNaN(m.getTime())}parseEmailSuppressions(i){if(!i||i.trim()==="")return{suppressions:[],canReceiveEmail:!1};const o=i.trim();if(o==="[]")return{suppressions:[],canReceiveEmail:!0};const m=o.replace(/""/g,'"');if(m.startsWith("[")&&m.endsWith("]"))try{const f=JSON.parse(m);if(Array.isArray(f))return{suppressions:f.map(y=>typeof y=="string"?y:String(y)).map(y=>y.replace(/^\s*['\"]?|['\"]?\s*$/g,"")).map(y=>y.toUpperCase().trim()).filter(Boolean),canReceiveEmail:!1}}catch{}return{suppressions:m.replace(/^\[/,"").replace(/\]$/,"").split(/[,;|]/).map(f=>f.replace(/^\s*['\"]?|['\"]?\s*$/g,"")).map(f=>f.toUpperCase().trim()).filter(Boolean),canReceiveEmail:!1}}getAudienceInsights(i){const o=i.length;if(o===0)return{totalSubscribers:0,buyerCount:0,nonBuyerCount:0,buyerPercentage:0,avgClvAll:0,avgClvBuyers:0,purchaseFrequency:{never:0,oneOrder:0,twoOrders:0,threeTo5:0,sixPlus:0},lifetimeDistribution:{zeroTo3Months:0,threeTo6Months:0,sixTo12Months:0,oneToTwoYears:0,twoYearsPlus:0}};const m=i.filter(h=>h.isBuyer),x=i.filter(h=>!h.isBuyer),f=i.reduce((h,D)=>h+D.totalClv,0)/o,c=m.length>0?m.reduce((h,D)=>h+D.totalClv,0)/m.length:0,y={never:x.length,oneOrder:m.filter(h=>h.totalOrders===1).length,twoOrders:m.filter(h=>h.totalOrders===2).length,threeTo5:m.filter(h=>h.totalOrders>=3&&h.totalOrders<=5).length,sixPlus:m.filter(h=>h.totalOrders>=6).length},_={zeroTo3Months:i.filter(h=>h.lifetimeInDays<=90).length,threeTo6Months:i.filter(h=>h.lifetimeInDays>90&&h.lifetimeInDays<=180).length,sixTo12Months:i.filter(h=>h.lifetimeInDays>180&&h.lifetimeInDays<=365).length,oneToTwoYears:i.filter(h=>h.lifetimeInDays>365&&h.lifetimeInDays<=730).length,twoYearsPlus:i.filter(h=>h.lifetimeInDays>730).length};return{totalSubscribers:o,buyerCount:m.length,nonBuyerCount:x.length,buyerPercentage:m.length/o*100,avgClvAll:f,avgClvBuyers:c,purchaseFrequency:y,lifetimeDistribution:_}}getSummaryStats(i){if(i.length===0)return{totalSubscribers:0,totalBuyers:0,buyerPercentage:0,avgLifetimeDays:0,totalRevenue:0,avgRevenuePerSubscriber:0,avgRevenuePerBuyer:0,consentRate:0};const o=i.filter(c=>c.isBuyer),m=i.reduce((c,y)=>c+y.totalClv,0),x=i.reduce((c,y)=>c+y.lifetimeInDays,0)/i.length,f=i.filter(c=>c.emailConsent).length;return{totalSubscribers:i.length,totalBuyers:o.length,buyerPercentage:o.length/i.length*100,avgLifetimeDays:x,totalRevenue:m,avgRevenuePerSubscriber:m/i.length,avgRevenuePerBuyer:o.length>0?m/o.length:0,consentRate:f/i.length*100}}getTopSources(i,o=10){const m=new Map;return i.forEach(f=>{const c=f.source||"Unknown";m.has(c)||m.set(c,{count:0,buyers:0,revenue:0});const y=m.get(c);y.count++,f.isBuyer&&(y.buyers++,y.revenue+=f.totalClv)}),Array.from(m.entries()).map(([f,c])=>({source:f,count:c.count,percentage:c.count/i.length*100,buyers:c.buyers,revenue:c.revenue})).sort((f,c)=>c.count-f.count).slice(0,o)}getLocationInsights(i){const o=i.length,m=new Map,x=new Map,f=new Map;i.forEach(h=>{const D=h.country||"Unknown";m.set(D,(m.get(D)||0)+1);const X=h.state||"Unknown";x.set(X,(x.get(X)||0)+1);const b=h.city||"Unknown";f.set(b,(f.get(b)||0)+1)});const c=Array.from(m.entries()).map(([h,D])=>({country:h,count:D,percentage:D/o*100})).sort((h,D)=>D.count-h.count).slice(0,10),y=Array.from(x.entries()).map(([h,D])=>({state:h,count:D,percentage:D/o*100})).sort((h,D)=>D.count-h.count).slice(0,10),_=Array.from(f.entries()).map(([h,D])=>({city:h,count:D,percentage:D/o*100})).sort((h,D)=>D.count-h.count).slice(0,10);return{topCountries:c,topStates:y,topCities:_}}}class Vt{static instance;campaigns=[];flowEmails=[];subscribers=[];isRealDataLoaded=!1;loadProgress={campaigns:{loaded:!1,progress:0},flows:{loaded:!1,progress:0},subscribers:{loaded:!1,progress:0}};csvParser=new _f;campaignTransformer=new Tf;flowTransformer=new $f;subscriberTransformer=new dc;static getInstance(){return Vt.instance||(Vt.instance=new Vt),Vt.instance}async loadCSVFiles(i,o){const m=[];try{if(i.campaigns){this.loadProgress.campaigns.progress=0,o&&o(this.loadProgress);const x=await this.csvParser.parseCampaigns(i.campaigns,f=>{this.loadProgress.campaigns.progress=f*.5,o&&o(this.loadProgress)});x.success&&x.data?(this.campaigns=this.campaignTransformer.transform(x.data),this.loadProgress.campaigns.loaded=!0,this.loadProgress.campaigns.progress=100,console.log(`Loaded ${this.campaigns.length} campaigns`)):(m.push(`Campaigns: ${x.error||"Unknown error"}`),this.loadProgress.campaigns.error=x.error)}if(i.flows){this.loadProgress.flows.progress=0,o&&o(this.loadProgress);const x=await this.csvParser.parseFlows(i.flows,f=>{this.loadProgress.flows.progress=f*.5,o&&o(this.loadProgress)});x.success&&x.data?(this.flowEmails=this.flowTransformer.transform(x.data),this.loadProgress.flows.loaded=!0,this.loadProgress.flows.progress=100,console.log(`Loaded ${this.flowEmails.length} flow emails`)):(m.push(`Flows: ${x.error||"Unknown error"}`),this.loadProgress.flows.error=x.error)}if(i.subscribers){this.loadProgress.subscribers.progress=0,o&&o(this.loadProgress);const x=await this.csvParser.parseSubscribers(i.subscribers,f=>{this.loadProgress.subscribers.progress=f*.5,o&&o(this.loadProgress)});x.success&&x.data?(this.subscribers=this.subscriberTransformer.transform(x.data),this.loadProgress.subscribers.loaded=!0,this.loadProgress.subscribers.progress=100,console.log(`Loaded ${this.subscribers.length} subscribers`)):(m.push(`Subscribers: ${x.error||"Unknown error"}`),this.loadProgress.subscribers.error=x.error)}return this.isRealDataLoaded=this.campaigns.length>0||this.flowEmails.length>0||this.subscribers.length>0,o&&o(this.loadProgress),{success:m.length===0,errors:m}}catch(x){return console.error("Error loading CSV files:",x),m.push(x instanceof Error?x.message:"Unknown error"),{success:!1,errors:m}}}resetToMockData(){this.campaigns=[],this.flowEmails=[],this.subscribers=[],this.isRealDataLoaded=!1,this.loadProgress={campaigns:{loaded:!1,progress:0},flows:{loaded:!1,progress:0},subscribers:{loaded:!1,progress:0}}}getLoadProgress(){return this.loadProgress}hasRealData(){return this.isRealDataLoaded}getCampaigns(){return this.campaigns}getFlowEmails(){return this.flowEmails}getSubscribers(){return this.subscribers}getUniqueFlowNames(){return this.flowTransformer.getUniqueFlowNames(this.flowEmails)}getLastEmailDate(){const i=this.campaigns.map(f=>f.sentDate),o=this.flowEmails.map(f=>f.sentDate),m=[...i,...o];if(m.length===0)return new Date;let x=-1/0;for(const f of m){const c=f.getTime();c>x&&(x=c)}return new Date(x)}getMetricTimeSeries(i,o,m,x,f){const c=[...i,...o];if(c.length===0)return[];let y=-1/0;for(const q of c){const U=q.sentDate.getTime();U>y&&(y=U)}const _=new Date(isFinite(y)?y:Date.now());let h=new Date(_);if(x==="all"){let q=1/0;for(const U of c){const B=U.sentDate.getTime();B<q&&(q=B)}h=new Date(isFinite(q)?q:_.getTime())}else{const q=parseInt(x.replace("d",""));h.setDate(h.getDate()-q)}const D=c.filter(q=>q.sentDate>=h&&q.sentDate<=_);D.length;const X=new Map;{const q=new Date(h),U=new Date(_);if(q.setHours(0,0,0,0),U.setHours(0,0,0,0),f==="daily")for(let B=new Date(q);B<=U;B.setDate(B.getDate()+1)){const C=B.toISOString().split("T")[0];X.has(C)||X.set(C,[])}else if(f==="weekly"){const C=(ue=>{const H=new Date(ue),O=H.getDay(),Q=H.getDate()-O+(O===0?-6:1);return H.setDate(Q),H.setHours(0,0,0,0),H})(q);for(let ue=new Date(C);ue<=U;ue.setDate(ue.getDate()+7)){const H=ue.toISOString().split("T")[0];X.has(H)||X.set(H,[])}}else{const B=new Date(q.getFullYear(),q.getMonth(),1);for(let C=new Date(B);C<=U;C=new Date(C.getFullYear(),C.getMonth()+1,1)){const ue=`${C.getFullYear()}-${String(C.getMonth()+1).padStart(2,"0")}`;X.has(ue)||X.set(ue,[])}}}D.forEach(q=>{let U;const B=new Date(q.sentDate);switch(f){case"daily":{U=B.toISOString().split("T")[0];break}case"weekly":{const C=new Date(B),ue=C.getDay(),H=C.getDate()-ue+(ue===0?-6:1);C.setDate(H),U=C.toISOString().split("T")[0];break}case"monthly":{U=`${B.getFullYear()}-${String(B.getMonth()+1).padStart(2,"0")}`;break}}X.has(U)||X.set(U,[]),X.get(U).push(q)});const b=[];return Array.from(X.keys()).sort().forEach(q=>{const U=X.get(q);let B;if(["revenue","avgOrderValue","revenuePerEmail"].includes(m))if(m==="revenue")B=U.reduce((ue,H)=>ue+H.revenue,0);else if(m==="avgOrderValue"){const ue=U.reduce((O,Q)=>O+Q.revenue,0),H=U.reduce((O,Q)=>O+Q.totalOrders,0);B=H>0?ue/H:0}else{const ue=U.reduce((O,Q)=>O+Q.revenue,0),H=U.reduce((O,Q)=>O+Q.emailsSent,0);B=H>0?ue/H:0}else if(["emailsSent","totalOrders"].includes(m))B=U.reduce((ue,H)=>{const O=H[m];return ue+(typeof O=="number"?O:0)},0);else{const ue=U.reduce((H,O)=>H+O.emailsSent,0);if(ue===0)B=0;else if(m==="openRate")B=U.reduce((O,Q)=>O+Q.uniqueOpens,0)/ue*100;else if(m==="clickRate")B=U.reduce((O,Q)=>O+Q.uniqueClicks,0)/ue*100;else if(m==="clickToOpenRate"){const H=U.reduce((Q,re)=>Q+re.uniqueOpens,0),O=U.reduce((Q,re)=>Q+re.uniqueClicks,0);B=H>0?O/H*100:0}else if(m==="conversionRate"){const H=U.reduce((Q,re)=>Q+re.uniqueClicks,0),O=U.reduce((Q,re)=>Q+re.totalOrders,0);B=H>0?O/H*100:0}else m==="unsubscribeRate"?B=U.reduce((O,Q)=>O+Q.unsubscribesCount,0)/ue*100:m==="spamRate"?B=U.reduce((O,Q)=>O+Q.spamComplaintsCount,0)/ue*100:m==="bounceRate"?B=U.reduce((O,Q)=>O+Q.bouncesCount,0)/ue*100:B=0}let C;switch(f){case"daily":{C=new Date(q).toLocaleDateString("en-US",{month:"short",day:"numeric"});break}case"weekly":{C=new Date(q).toLocaleDateString("en-US",{month:"short",day:"numeric"});break}case"monthly":{const[ue,H]=q.split("-");C=new Date(parseInt(ue),parseInt(H)-1).toLocaleDateString("en-US",{month:"short",year:"2-digit"});break}}b.push({value:B,date:C})}),b}getFlowStepTimeSeries(i,o,m,x,f,c){const y=i.filter(_=>_.flowName===o&&_.sequencePosition===m);return this.getMetricTimeSeries([],y,x,f,c)}getFlowSequenceInfo(i){return this.flowTransformer.getFlowSequenceInfo(i,this.flowEmails)}getCampaignPerformanceByDayOfWeek(i,o){const x=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((f,c)=>({day:f,dayIndex:c,value:0,campaignCount:0,totalRevenue:0,totalEmailsSent:0,totalOrders:0,totalOpens:0,totalClicks:0,totalUnsubs:0,totalSpam:0,totalBounces:0}));return i.forEach(f=>{const c=f.dayOfWeek,y=x[c];y.campaignCount++,y.totalRevenue+=f.revenue,y.totalEmailsSent+=f.emailsSent,y.totalOrders+=f.totalOrders,y.totalOpens+=f.uniqueOpens,y.totalClicks+=f.uniqueClicks,y.totalUnsubs+=f.unsubscribesCount,y.totalSpam+=f.spamComplaintsCount,y.totalBounces+=f.bouncesCount}),x.forEach(f=>{if(f.campaignCount===0){f.value=0;return}switch(o){case"revenue":f.value=f.totalRevenue;break;case"avgOrderValue":f.value=f.totalOrders>0?f.totalRevenue/f.totalOrders:0;break;case"revenuePerEmail":f.value=f.totalEmailsSent>0?f.totalRevenue/f.totalEmailsSent:0;break;case"openRate":f.value=f.totalEmailsSent>0?f.totalOpens/f.totalEmailsSent*100:0;break;case"clickRate":f.value=f.totalEmailsSent>0?f.totalClicks/f.totalEmailsSent*100:0;break;case"clickToOpenRate":f.value=f.totalOpens>0?f.totalClicks/f.totalOpens*100:0;break;case"emailsSent":f.value=f.totalEmailsSent;break;case"totalOrders":f.value=f.totalOrders;break;case"conversionRate":f.value=f.totalClicks>0?f.totalOrders/f.totalClicks*100:0;break;case"unsubscribeRate":f.value=f.totalEmailsSent>0?f.totalUnsubs/f.totalEmailsSent*100:0;break;case"spamRate":f.value=f.totalEmailsSent>0?f.totalSpam/f.totalEmailsSent*100:0;break;case"bounceRate":f.value=f.totalEmailsSent>0?f.totalBounces/f.totalEmailsSent*100:0;break;default:f.value=0}}),x.map(({day:f,dayIndex:c,value:y,campaignCount:_})=>({day:f,dayIndex:c,value:y,campaignCount:_}))}getCampaignPerformanceByHourOfDay(i,o){const m=Array.from({length:24},(c,y)=>({hour:y,hourLabel:this.formatHourLabel(y),value:0,campaignCount:0,percentageOfTotal:0,totalRevenue:0,totalEmailsSent:0,totalOrders:0,totalOpens:0,totalClicks:0,totalUnsubs:0,totalSpam:0,totalBounces:0})),x=i.length;return i.forEach(c=>{const y=c.hourOfDay,_=m[y];_.campaignCount++,_.totalRevenue+=c.revenue,_.totalEmailsSent+=c.emailsSent,_.totalOrders+=c.totalOrders,_.totalOpens+=c.uniqueOpens,_.totalClicks+=c.uniqueClicks,_.totalUnsubs+=c.unsubscribesCount,_.totalSpam+=c.spamComplaintsCount,_.totalBounces+=c.bouncesCount}),m.filter(c=>c.campaignCount>0).map(c=>{switch(c.percentageOfTotal=x>0?c.campaignCount/x*100:0,o){case"revenue":c.value=c.totalRevenue;break;case"avgOrderValue":c.value=c.totalOrders>0?c.totalRevenue/c.totalOrders:0;break;case"revenuePerEmail":c.value=c.totalEmailsSent>0?c.totalRevenue/c.totalEmailsSent:0;break;case"openRate":c.value=c.totalEmailsSent>0?c.totalOpens/c.totalEmailsSent*100:0;break;case"clickRate":c.value=c.totalEmailsSent>0?c.totalClicks/c.totalEmailsSent*100:0;break;case"clickToOpenRate":c.value=c.totalOpens>0?c.totalClicks/c.totalOpens*100:0;break;case"emailsSent":c.value=c.totalEmailsSent;break;case"totalOrders":c.value=c.totalOrders;break;case"conversionRate":c.value=c.totalClicks>0?c.totalOrders/c.totalClicks*100:0;break;case"unsubscribeRate":c.value=c.totalEmailsSent>0?c.totalUnsubs/c.totalEmailsSent*100:0;break;case"spamRate":c.value=c.totalEmailsSent>0?c.totalSpam/c.totalEmailsSent*100:0;break;case"bounceRate":c.value=c.totalEmailsSent>0?c.totalBounces/c.totalEmailsSent*100:0;break;default:c.value=0}return{hour:c.hour,hourLabel:c.hourLabel,value:c.value,campaignCount:c.campaignCount,percentageOfTotal:c.percentageOfTotal}}).sort((c,y)=>Math.abs(c.value-y.value)<.01?c.hour-y.hour:y.value-c.value)}formatHourLabel(i){return i===0?"12 AM":i<12?`${i} AM`:i===12?"12 PM":`${i-12} PM`}getGranularityForDateRange(i){if(i==="all"){let m=Date.now();if(this.campaigns.length>0){let _=1/0;for(const h of this.campaigns){const D=h.sentDate.getTime();D<_&&(_=D)}m=isFinite(_)?_:Date.now()}let x=Date.now();if(this.flowEmails.length>0){let _=1/0;for(const h of this.flowEmails){const D=h.sentDate.getTime();D<_&&(_=D)}x=isFinite(_)?_:Date.now()}const f=new Date(Math.min(m,x)),c=this.getLastEmailDate(),y=Math.floor((c.getTime()-f.getTime())/(1e3*60*60*24));return y<=60?"daily":y<=365?"weekly":"monthly"}const o=parseInt(i.replace("d",""));return o<=60?"daily":o<=365?"weekly":"monthly"}getAggregatedMetricsForPeriod(i,o,m,x){const f=i.filter(B=>B.sentDate>=m&&B.sentDate<=x),c=o.filter(B=>B.sentDate>=m&&B.sentDate<=x),y=[...f,...c];if(y.length===0)return{totalRevenue:0,emailsSent:0,totalOrders:0,openRate:0,clickRate:0,conversionRate:0,unsubscribeRate:0,spamRate:0,bounceRate:0,avgOrderValue:0,revenuePerEmail:0,clickToOpenRate:0,emailCount:0};const _=y.reduce((B,C)=>B+C.revenue,0),h=y.reduce((B,C)=>B+C.emailsSent,0),D=y.reduce((B,C)=>B+C.totalOrders,0),X=y.reduce((B,C)=>B+C.uniqueOpens,0),b=y.reduce((B,C)=>B+C.uniqueClicks,0),G=y.reduce((B,C)=>B+C.unsubscribesCount,0),q=y.reduce((B,C)=>B+C.spamComplaintsCount,0),U=y.reduce((B,C)=>B+C.bouncesCount,0);return{totalRevenue:_,emailsSent:h,totalOrders:D,openRate:h>0?X/h*100:0,clickRate:h>0?b/h*100:0,conversionRate:b>0?D/b*100:0,unsubscribeRate:h>0?G/h*100:0,spamRate:h>0?q/h*100:0,bounceRate:h>0?U/h*100:0,avgOrderValue:D>0?_/D:0,revenuePerEmail:h>0?_/h:0,clickToOpenRate:X>0?b/X*100:0,emailCount:y.length}}getAudienceInsights(){return this.subscribers.length>0?this.subscriberTransformer.getAudienceInsights(this.subscribers):{totalSubscribers:0,buyerCount:0,nonBuyerCount:0,buyerPercentage:0,avgClvAll:0,avgClvBuyers:0,purchaseFrequency:{never:0,oneOrder:0,twoOrders:0,threeTo5:0,sixPlus:0},lifetimeDistribution:{zeroTo3Months:0,threeTo6Months:0,sixTo12Months:0,oneToTwoYears:0,twoYearsPlus:0}}}getSummaryStats(){return{campaigns:this.campaigns.length>0?this.campaignTransformer.getSummaryStats(this.campaigns):null,subscribers:this.subscribers.length>0?this.subscriberTransformer.getSummaryStats(this.subscribers):null,flows:{totalFlows:this.getUniqueFlowNames().length,totalEmails:this.getFlowEmails().length}}}calculatePeriodOverPeriodChange(i,o,m="all",x){const f=this.getLastEmailDate(),c=new Date(f);let y=0;if(o==="all")return{currentValue:0,previousValue:0,changePercent:0,isPositive:!0,currentPeriod:void 0,previousPeriod:void 0};y=parseInt(o.replace("d","")),c.setDate(c.getDate()-y);const _=new Date(c);_.setDate(_.getDate()-1);const h=new Date(_);h.setDate(h.getDate()-y+1);let D=this.campaigns,X=this.flowEmails;m==="campaigns"?X=[]:m==="flows"&&(D=[]),x?.flowName&&x.flowName!=="all"&&(X=X.filter(O=>O.flowName===x.flowName));const b=this.getAggregatedMetricsForPeriod(D,X,c,f),G=this.getAggregatedMetricsForPeriod(D,X,h,_);let q=0,U=0;switch(i){case"totalRevenue":q=b.totalRevenue,U=G.totalRevenue;break;case"averageOrderValue":case"avgOrderValue":q=b.avgOrderValue,U=G.avgOrderValue;break;case"revenuePerEmail":q=b.revenuePerEmail,U=G.revenuePerEmail;break;case"openRate":q=b.openRate,U=G.openRate;break;case"clickRate":q=b.clickRate,U=G.clickRate;break;case"clickToOpenRate":q=b.clickToOpenRate,U=G.clickToOpenRate;break;case"emailsSent":q=b.emailsSent,U=G.emailsSent;break;case"totalOrders":q=b.totalOrders,U=G.totalOrders;break;case"conversionRate":q=b.conversionRate,U=G.conversionRate;break;case"unsubscribeRate":q=b.unsubscribeRate,U=G.unsubscribeRate;break;case"spamRate":q=b.spamRate,U=G.spamRate;break;case"bounceRate":q=b.bounceRate,U=G.bounceRate;break}let B=0;U!==0?B=(q-U)/U*100:q>0&&(B=100);const H=["unsubscribeRate","spamRate","bounceRate"].includes(i)?B<0:B>0;return{currentValue:q,previousValue:U,changePercent:B,isPositive:H,currentPeriod:{startDate:c,endDate:f},previousPeriod:{startDate:h,endDate:_}}}}const Lf=({uploads:v,onFileUpload:i,onAnalyze:o,isDarkMode:m})=>{const[x,f]=be.useState(null),[c,y]=be.useState(!1),[_,h]=be.useState(null),[D,X]=be.useState([]),b=be.useRef({}),G=v.subscribers&&v.flows&&v.campaigns,q=[{id:"subscribers",title:"Subscribers Report",description:"Import your subscriber list and segmentation data",icon:wf,uploaded:v.subscribers,gradient:"from-blue-500 to-purple-600"},{id:"flows",title:"Email Flows Report",description:"Automated email sequences and journey performance",icon:cc,uploaded:v.flows,gradient:"from-purple-500 to-pink-600"},{id:"campaigns",title:"Email Campaigns Report",description:"One-time campaign metrics and engagement data",icon:oc,uploaded:v.campaigns,gradient:"from-pink-500 to-red-500"}],U=async H=>{const O=document.createElement("input");O.type="file",O.accept=".csv",O.onchange=async Q=>{const re=Q.target.files?.[0];re&&(b.current[H]=re,i(H),H==="campaigns"&&b.current.subscribers&&b.current.flows?await B():H==="flows"&&b.current.subscribers&&b.current.campaigns?await B():H==="subscribers"&&b.current.flows&&b.current.campaigns&&await B())},O.click()},B=async()=>{if(!(!b.current.campaigns||!b.current.flows||!b.current.subscribers)){y(!0),X([]);try{const H=Vt.getInstance(),O=await H.loadCSVFiles(b.current,Q=>h(Q));if(!O.success)X(O.errors);else{const Q=H.getSummaryStats();console.log("Data loaded successfully:",Q)}}catch(H){X([H instanceof Error?H.message:"Unknown error occurred"])}finally{y(!1)}}},C=()=>{if(!_)return 0;const{campaigns:H,flows:O,subscribers:Q}=_;return Math.round((H.progress+O.progress+Q.progress)/3)},ue=({zone:H})=>{const O=H.icon,Q=x===H.id,re=b.current[H.id];return s.jsxs("div",{onClick:()=>!c&&U(H.id),onMouseEnter:()=>f(H.id),onMouseLeave:()=>f(null),className:`
          group relative overflow-hidden cursor-pointer transition-all duration-300 ease-out
          ${m?"bg-gray-800/50":"bg-white/80"} 
          backdrop-blur-sm border rounded-2xl p-8
          ${H.uploaded?`border-green-400/50 ${m?"bg-green-900/10":"bg-green-50/80"}`:`${m?"border-gray-700/50 hover:border-purple-500/50":"border-gray-200/50 hover:border-purple-400/50"}`}
          hover:shadow-2xl hover:-translate-y-2 transform
          ${Q&&!c?"scale-105":""}
          ${c?"opacity-50 cursor-not-allowed":""}
        `,children:[s.jsx("div",{className:`
          absolute inset-0 bg-gradient-to-br ${H.gradient} opacity-0 group-hover:opacity-5 transition-opacity duration-300
        `}),s.jsx("div",{className:`
          absolute inset-0 rounded-2xl bg-gradient-to-r ${H.gradient} opacity-0 group-hover:opacity-20 blur-xl transition-opacity duration-300
        `}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:`
            inline-flex items-center justify-center w-16 h-16 rounded-xl mb-6 transition-all duration-300
            ${H.uploaded?"bg-green-100 dark:bg-green-900/30":`bg-gradient-to-br ${H.gradient} group-hover:scale-110`}
          `,children:H.uploaded?s.jsx(xf,{className:"w-8 h-8 text-green-600 dark:text-green-400"}):s.jsx(O,{className:"w-8 h-8 text-white"})}),s.jsx("h3",{className:`
            text-xl font-semibold mb-3 transition-colors duration-200
            ${m?"text-white":"text-gray-900"}
            ${Q&&!c?"text-purple-600 dark:text-purple-400":""}
          `,children:H.title}),s.jsx("p",{className:`
            text-sm leading-relaxed mb-4
            ${m?"text-gray-400":"text-gray-600"}
          `,children:H.description}),H.uploaded?s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center text-sm font-medium text-green-600 dark:text-green-400 mb-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"}),"File uploaded successfully"]}),re&&s.jsxs("p",{className:`text-xs ${m?"text-gray-500":"text-gray-400"}`,children:[re.name," (",(re.size/1024/1024).toFixed(2)," MB)"]})]}):s.jsxs("div",{className:`
              flex items-center text-sm font-medium transition-colors duration-200
              ${m?"text-gray-500":"text-gray-400"}
              ${Q&&!c?"text-purple-600 dark:text-purple-400":""}
            `,children:[s.jsx(uc,{className:"w-4 h-4 mr-2"}),"Click to upload CSV file"]}),s.jsx("div",{className:`
            absolute top-6 right-6 transition-all duration-300
            ${Q&&!c?"opacity-100 translate-x-0":"opacity-0 translate-x-2"}
          `,children:s.jsx(Gu,{className:"w-5 h-5 text-purple-500"})}),c&&_&&s.jsx("div",{className:"mt-2",children:s.jsx("div",{className:`w-full h-1 rounded-full ${m?"bg-gray-700":"bg-gray-200"}`,children:s.jsx("div",{className:"h-1 bg-gradient-to-r from-purple-500 to-purple-600 rounded-full transition-all duration-300",style:{width:`${H.id==="campaigns"?_.campaigns.progress:H.id==="flows"?_.flows.progress:_.subscribers.progress}%`}})})})]})]})};return s.jsxs("div",{className:`
      min-h-screen relative overflow-hidden
      ${m?"bg-gray-900":"bg-gradient-to-br from-gray-50 via-white to-purple-50"}
    `,children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[s.jsx("div",{className:"absolute -top-1/2 -right-1/2 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute -bottom-1/2 -left-1/2 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl animate-pulse delay-1000"})]}),s.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[s.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto w-full",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-2xl bg-gradient-to-br from-purple-500 to-purple-700 mb-8 shadow-lg",children:s.jsx(ns,{className:"w-10 h-10 text-white"})}),s.jsxs("h1",{className:`
                text-5xl md:text-6xl font-bold mb-6 tracking-tight
                ${m?"text-white":"text-gray-900"}
              `,children:["Email Metrics",s.jsx("span",{className:"block bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Made Simple"})]}),s.jsx("p",{className:`
                text-xl md:text-2xl leading-relaxed max-w-3xl mx-auto
                ${m?"text-gray-300":"text-gray-600"}
              `,children:"Transform your Klaviyo reports into actionable insights. Upload your CSV exports and get comprehensive analytics across campaigns, flows, and subscriber segments."})]}),D.length>0&&s.jsx("div",{className:`mb-6 p-4 rounded-lg border ${m?"bg-red-900/20 border-red-800":"bg-red-50 border-red-200"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(ni,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:`font-medium ${m?"text-red-400":"text-red-800"}`,children:"Error processing files:"}),s.jsx("ul",{className:`mt-1 text-sm ${m?"text-red-300":"text-red-600"}`,children:D.map((H,O)=>s.jsxs("li",{children:[" ",H]},O))})]})]})}),s.jsx("div",{className:"grid md:grid-cols-3 gap-8 mb-12",children:q.map(H=>s.jsx(ue,{zone:H},H.id))}),c&&s.jsxs("div",{className:`mb-8 p-6 rounded-lg border ${m?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(Xu,{className:"w-5 h-5 animate-spin text-purple-600"}),s.jsx("span",{className:`font-medium ${m?"text-white":"text-gray-900"}`,children:"Processing your data..."})]}),s.jsx("div",{className:`w-full h-2 rounded-full ${m?"bg-gray-700":"bg-gray-200"}`,children:s.jsx("div",{className:"h-2 bg-gradient-to-r from-purple-500 to-purple-600 rounded-full transition-all duration-300",style:{width:`${C()}%`}})}),s.jsxs("p",{className:`text-sm mt-2 ${m?"text-gray-400":"text-gray-600"}`,children:[C(),"% complete"]})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("button",{onClick:o,disabled:!G||c,className:`
                  group relative px-12 py-4 rounded-full text-lg font-semibold transition-all duration-300 transform
                  ${G&&!c?"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white shadow-lg hover:shadow-2xl hover:scale-105 hover:-translate-y-1":`${m?"bg-gray-800 text-gray-500":"bg-gray-100 text-gray-400"} cursor-not-allowed`}
                `,children:[s.jsx("span",{className:"relative z-10 flex items-center",children:c?s.jsxs(s.Fragment,{children:[s.jsx(Xu,{className:"mr-2 w-5 h-5 animate-spin"}),"Processing..."]}):s.jsxs(s.Fragment,{children:["Analyze Your Data",s.jsx(Gu,{className:`ml-2 w-5 h-5 transition-transform duration-300 ${G&&!c?"group-hover:translate-x-1":""}`})]})}),G&&!c&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute inset-0 -top-px rounded-full bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transform translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),s.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-purple-600 to-purple-700 blur-xl opacity-0 group-hover:opacity-30 transition-opacity duration-300"})]})]}),!G&&!c&&s.jsx("p",{className:`
                  text-sm mt-4 
                  ${m?"text-gray-500":"text-gray-400"}
                `,children:"Upload all three reports to enable analysis"})]})]})}),s.jsx("div",{className:"pb-8",children:s.jsxs("div",{className:"max-w-md mx-auto px-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:`text-sm font-medium ${m?"text-gray-400":"text-gray-600"}`,children:"Progress"}),s.jsxs("span",{className:`text-sm font-medium ${m?"text-gray-400":"text-gray-600"}`,children:[Object.values(v).filter(Boolean).length," / 3"]})]}),s.jsx("div",{className:`w-full h-4 rounded-full ${m?"bg-gray-800":"bg-gray-200"}`,children:s.jsx("div",{className:"h-4 bg-gradient-to-r from-purple-500 to-purple-600 rounded-full transition-all duration-500 ease-out",style:{width:`${Object.values(v).filter(Boolean).length/3*100}%`}})})]})})]})]})},Ff=({isPositive:v,isDarkMode:i,change:o,isAllTime:m,isNegativeMetric:x=!1,data:f,valueFormat:c="number"})=>{const[y,_]=be.useState(null),h=be.useRef(null),D=k=>{switch(c){case"currency":return`$${Math.round(k).toLocaleString("en-US")}`;case"percentage":return`${k.toFixed(1)}%`;case"number":default:return k.toLocaleString("en-US")}},b=m||Math.abs(o)<.1?{stroke:"#8b5cf6",gradientStart:"#8b5cf6",gradientEnd:"#c084fc"}:v?{stroke:"#10b981",gradientStart:"#10b981",gradientEnd:"#6ee7b7"}:{stroke:"#ef4444",gradientStart:"#ef4444",gradientEnd:"#fca5a5"},G=f.length>0?f:[];if(G.length===0)return s.jsx("div",{className:"mb-4 relative",children:s.jsx("svg",{width:280,height:80,className:"w-full",children:s.jsx("text",{x:"50%",y:"50%",textAnchor:"middle",className:`text-xs ${i?"fill-gray-400":"fill-gray-500"}`,children:"No data available"})})});const q=G.map(k=>k.value),U=Math.min(...q),C=Math.max(...q)-U,ue=G.map(k=>({...k,normalizedValue:C>0?(k.value-U)/C*70+15:50})),H=280,O=80,Q=4,re=k=>{if(k.length<2)return"";const I=k.map((oe,W)=>({x:Q+W/(k.length-1)*(H-Q*2),y:Q+(100-oe.normalizedValue)/100*(O-Q*2),value:oe.normalizedValue,originalValue:oe.value,date:oe.date}));let ae=`M ${I[0].x} ${I[0].y}`;for(let oe=1;oe<I.length;oe++){const W=I[oe-1],z=I[oe],M=W.x+(z.x-W.x)*.4,V=W.y,d=z.x-(z.x-W.x)*.4,E=z.y;ae+=` C ${M} ${V}, ${d} ${E}, ${z.x} ${z.y}`}return{path:ae,coords:I}},{path:fe,coords:w}=re(ue),j=fe+` L ${H-Q} ${O-Q} L ${Q} ${O-Q} Z`,$=`sparkline-gradient-${Math.random().toString(36).substr(2,9)}`,N=k=>{if(!h.current)return;const I=h.current.getBoundingClientRect(),ae=k.clientX-I.left;let oe=w[0],W=Math.abs(ae-oe.x);w.forEach(z=>{const M=Math.abs(ae-z.x);M<W&&(W=M,oe=z)}),W<20?_({x:oe.x,y:oe.y,value:oe.originalValue,date:oe.date}):_(null)},P=()=>{_(null)};return s.jsxs("div",{className:"mb-4 relative",children:[s.jsxs("svg",{ref:h,width:H,height:O,className:"w-full cursor-crosshair",onMouseMove:N,onMouseLeave:P,children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:$,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[s.jsx("stop",{offset:"0%",stopColor:b.gradientStart,stopOpacity:.8}),s.jsx("stop",{offset:"50%",stopColor:b.gradientEnd,stopOpacity:.4}),s.jsx("stop",{offset:"100%",stopColor:b.gradientEnd,stopOpacity:.05})]})}),s.jsx("path",{d:j,fill:`url(#${$})`}),s.jsx("path",{d:fe,stroke:b.stroke,strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.9"}),y&&s.jsx("circle",{cx:y.x,cy:y.y,r:"4",fill:b.stroke,stroke:"white",strokeWidth:"2",className:"drop-shadow-sm"}),s.jsx("rect",{x:"0",y:"0",width:H,height:O,fill:"transparent",className:"cursor-crosshair"})]}),y&&s.jsxs("div",{className:`
            absolute z-50 px-3 py-2 rounded-lg shadow-lg border text-xs font-medium pointer-events-none whitespace-nowrap
            transform -translate-x-1/2 -translate-y-full
            ${i?"bg-gray-800 border-gray-600 text-white":"bg-white border-gray-200 text-gray-900"}
          `,style:{left:y.x,top:y.y-8},children:[s.jsxs("div",{className:"flex items-center gap-2 whitespace-nowrap",children:[s.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:b.stroke}}),s.jsx("span",{children:y.date})]}),s.jsx("div",{className:"font-semibold whitespace-nowrap",style:{color:b.stroke},children:D(y.value)})]})]})},Df={revenuePerEmail:{good:{min:.15},ok:{min:.08,max:.15},attention:{min:.05,max:.08},critical:{max:.05}},openRate:{good:{min:22},ok:{min:15,max:22},attention:{min:10,max:15},critical:{max:10}},clickRate:{good:{min:3},ok:{min:2,max:3},attention:{min:1,max:2},critical:{max:1}},clickToOpenRate:{good:{min:15},ok:{min:10,max:15},attention:{min:7,max:10},critical:{max:7}},conversionRate:{good:{min:2},ok:{min:1,max:2},attention:{min:.5,max:1},critical:{max:.5}},unsubscribeRate:{good:{max:.2},ok:{min:.2,max:.4},attention:{min:.4,max:.6},critical:{min:.6}},spamRate:{good:{max:.02},ok:{min:.02,max:.05},attention:{min:.05,max:.1},critical:{min:.1}},bounceRate:{good:{max:1},ok:{min:1,max:2},attention:{min:2,max:3},critical:{min:3}}};function ts(v,i){const o=i.min===void 0||v>=i.min,m=i.max===void 0||v<i.max;return o&&m}function If(v,i){const o=Df[v];return o?ts(i,o.good)?{status:"good",label:"Good",color:"text-green-600 dark:text-green-400"}:ts(i,o.ok)?{status:"ok",label:"OK",color:"text-blue-600 dark:text-blue-400"}:ts(i,o.attention)?{status:"attention",label:"Attention Needed",color:"text-yellow-600 dark:text-yellow-400"}:ts(i,o.critical)?{status:"critical",label:"Critical",color:"text-red-600 dark:text-red-400"}:null:null}function nc(v){const i=v.replace(/[$,%\s]/g,"");return parseFloat(i)||0}const Ee=({title:v,value:i,change:o,isPositive:m,isDarkMode:x,dateRange:f,isNegativeMetric:c=!1,metricKey:y,sparklineData:_=[],previousValue:h,previousPeriod:D})=>{const X=f==="all",b=m,G=o>0,q=y?If(y,nc(i)):null,U=y==="conversionRate"?nc(i):void 0,C=y?["revenue","avgOrderValue","revenuePerEmail"].includes(y)?"currency":["openRate","clickRate","clickToOpenRate","conversionRate","unsubscribeRate","spamRate","bounceRate"].includes(y)?"percentage":"number":"number",ue=Q=>{if(Q==null)return"";switch(C){case"currency":return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(Q);case"percentage":return`${Q.toFixed(1)}%`;default:return Math.round(Q).toLocaleString("en-US")}},H=Q=>new Date(Q).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),O=D&&h!=null?`Previous period (${H(D.startDate)}  ${H(D.endDate)}): ${ue(h)}`:"Change vs previous period";return s.jsxs("div",{className:`${x?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border rounded-lg p-4 hover:shadow-lg transition-all duration-200 hover:-translate-y-1`,children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:`text-sm font-medium uppercase tracking-wide ${x?"text-gray-400":"text-gray-500"}`,children:v}),s.jsx("div",{className:"mt-1 h-5 flex items-center",children:q&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${q.status==="good"?"bg-green-500":q.status==="ok"?"bg-blue-500":q.status==="attention"?"bg-yellow-500":"bg-red-500"}`}),s.jsx("span",{className:`text-xs font-medium ${q.color}`,children:q.label})]})})]})}),s.jsx(Ff,{isPositive:b,isDarkMode:x,change:o,isAllTime:X,isNegativeMetric:c,data:_,valueFormat:C}),s.jsxs("div",{className:"flex items-end justify-between",children:[s.jsx("p",{className:`text-2xl font-bold ${x?"text-white":"text-gray-900"}`,children:i}),s.jsxs("div",{className:"flex items-center gap-2",children:[y==="conversionRate"&&U!==void 0&&U>100&&s.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full border ${x?"border-purple-700 text-purple-200 bg-purple-900/30":"border-purple-200 text-purple-700 bg-purple-50"}`,children:"Includes view-through"}),!X&&s.jsxs("div",{className:`flex items-center text-sm font-medium ${b?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,title:O,"aria-label":O,children:[G?s.jsx(sc,{className:"w-4 h-4 mr-1"}):s.jsx(lc,{className:"w-4 h-4 mr-1"}),Math.abs(o).toFixed(1),"%"]})]})]})]})},Vf=({isDarkMode:v})=>{const i=Vt.getInstance(),o=i.getAudienceInsights(),m=i.getSubscribers(),x=m.length>0,f=D=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(D),c=D=>`${D.toFixed(1)}%`,y=[{label:"Never",value:o.purchaseFrequency.never,percentage:o.purchaseFrequency.never/o.totalSubscribers*100},{label:"1 Order",value:o.purchaseFrequency.oneOrder,percentage:o.purchaseFrequency.oneOrder/o.totalSubscribers*100},{label:"2 Orders",value:o.purchaseFrequency.twoOrders,percentage:o.purchaseFrequency.twoOrders/o.totalSubscribers*100},{label:"3-5 Orders",value:o.purchaseFrequency.threeTo5,percentage:o.purchaseFrequency.threeTo5/o.totalSubscribers*100},{label:"6+ Orders",value:o.purchaseFrequency.sixPlus,percentage:o.purchaseFrequency.sixPlus/o.totalSubscribers*100}],_=[{label:"0-3 months",value:o.lifetimeDistribution.zeroTo3Months,percentage:o.lifetimeDistribution.zeroTo3Months/o.totalSubscribers*100},{label:"3-6 months",value:o.lifetimeDistribution.threeTo6Months,percentage:o.lifetimeDistribution.threeTo6Months/o.totalSubscribers*100},{label:"6-12 months",value:o.lifetimeDistribution.sixTo12Months,percentage:o.lifetimeDistribution.sixTo12Months/o.totalSubscribers*100},{label:"1-2 years",value:o.lifetimeDistribution.oneToTwoYears,percentage:o.lifetimeDistribution.oneToTwoYears/o.totalSubscribers*100},{label:"2+ years",value:o.lifetimeDistribution.twoYearsPlus,percentage:o.lifetimeDistribution.twoYearsPlus/o.totalSubscribers*100}],h=vt.useMemo(()=>{if(!x)return[];const D=o.avgClvBuyers,X=[{label:`2x AOV (${f(D*2)}+)`,threshold:D*2,customers:0,revenue:0,revenuePercentage:0},{label:`3x AOV (${f(D*3)}+)`,threshold:D*3,customers:0,revenue:0,revenuePercentage:0},{label:`5x AOV (${f(D*5)}+)`,threshold:D*5,customers:0,revenue:0,revenuePercentage:0}];let b=0;return m.forEach(G=>{G.isBuyer&&G.totalClv>0&&(b+=G.totalClv)}),m.forEach(G=>{G.isBuyer&&G.totalClv>0&&X.forEach(q=>{G.totalClv>=q.threshold&&(q.customers++,q.revenue+=G.totalClv)})}),X.forEach(G=>{G.revenuePercentage=b>0?G.revenue/b*100:0}),X},[m,x,o.avgClvBuyers,f]);return x?s.jsxs("section",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(qr,{className:`w-6 h-6 ${v?"text-purple-400":"text-purple-600"}`}),s.jsx("h2",{className:`text-2xl font-bold ${v?"text-white":"text-gray-900"}`,children:"Audience Overview"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[s.jsxs("div",{className:`${v?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border rounded-lg p-6 hover:shadow-xl transition-all duration-200`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(qr,{className:`w-5 h-5 ${v?"text-purple-400":"text-purple-600"}`}),s.jsx("p",{className:`text-sm font-medium ${v?"text-gray-400":"text-gray-500"}`,children:"Total Subscribers"})]}),s.jsx("p",{className:`text-2xl font-bold ${v?"text-white":"text-gray-900"}`,children:o.totalSubscribers.toLocaleString()})]}),s.jsxs("div",{className:`${v?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border rounded-lg p-6 hover:shadow-xl transition-all duration-200`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(ec,{className:`w-5 h-5 ${v?"text-purple-400":"text-purple-600"}`}),s.jsx("p",{className:`text-sm font-medium ${v?"text-gray-400":"text-gray-500"}`,children:"Buyers"})]}),s.jsx("p",{className:`text-2xl font-bold ${v?"text-white":"text-gray-900"}`,children:o.buyerCount.toLocaleString()}),s.jsxs("p",{className:`text-sm ${v?"text-gray-400":"text-gray-600"} mt-1`,children:[c(o.buyerPercentage)," of total"]})]}),s.jsxs("div",{className:`${v?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border rounded-lg p-6 hover:shadow-xl transition-all duration-200`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(ls,{className:`w-5 h-5 ${v?"text-purple-400":"text-purple-600"}`}),s.jsx("p",{className:`text-sm font-medium ${v?"text-gray-400":"text-gray-500"}`,children:"Avg CLV (All)"})]}),s.jsx("p",{className:`text-2xl font-bold ${v?"text-white":"text-gray-900"}`,children:f(o.avgClvAll)})]}),s.jsxs("div",{className:`${v?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border rounded-lg p-6 hover:shadow-xl transition-all duration-200`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Ja,{className:`w-5 h-5 ${v?"text-purple-400":"text-purple-600"}`}),s.jsx("p",{className:`text-sm font-medium ${v?"text-gray-400":"text-gray-500"}`,children:"Avg CLV (Buyers)"})]}),s.jsx("p",{className:`text-2xl font-bold ${v?"text-white":"text-gray-900"}`,children:f(o.avgClvBuyers)})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:`${v?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border rounded-lg p-6 hover:shadow-xl transition-all duration-200`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(ec,{className:`w-5 h-5 ${v?"text-purple-400":"text-purple-600"}`}),s.jsx("h3",{className:`text-lg font-semibold ${v?"text-white":"text-gray-900"}`,children:"Purchase Frequency Distribution"})]}),s.jsx("div",{className:"space-y-3",children:y.map(D=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:`text-sm ${v?"text-gray-300":"text-gray-700"}`,children:D.label}),s.jsxs("span",{className:`text-sm font-medium ${v?"text-white":"text-gray-900"}`,children:[D.value.toLocaleString()," (",c(D.percentage),")"]})]}),s.jsx("div",{className:`w-full ${v?"bg-gray-700":"bg-gray-200"} rounded-full h-2 overflow-hidden`,children:s.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-purple-600 rounded-full transition-all duration-500",style:{width:`${D.percentage}%`}})})]},D.label))})]}),s.jsxs("div",{className:`${v?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border rounded-lg p-6 hover:shadow-xl transition-all duration-200`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(ar,{className:`w-5 h-5 ${v?"text-purple-400":"text-purple-600"}`}),s.jsx("h3",{className:`text-lg font-semibold ${v?"text-white":"text-gray-900"}`,children:"Subscriber Lifetime"})]}),s.jsx("div",{className:"space-y-3",children:_.map(D=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:`text-sm ${v?"text-gray-300":"text-gray-700"}`,children:D.label}),s.jsxs("span",{className:`text-sm font-medium ${v?"text-white":"text-gray-900"}`,children:[D.value.toLocaleString()," (",c(D.percentage),")"]})]}),s.jsx("div",{className:`w-full ${v?"bg-gray-700":"bg-gray-200"} rounded-full h-2 overflow-hidden`,children:s.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-purple-600 rounded-full transition-all duration-500",style:{width:`${D.percentage}%`}})})]},D.label))})]})]}),s.jsxs("div",{className:`mt-6 ${v?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border rounded-lg p-6 hover:shadow-xl transition-all duration-200`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Ja,{className:`w-5 h-5 ${v?"text-purple-400":"text-purple-600"}`}),s.jsx("h3",{className:`text-lg font-semibold ${v?"text-white":"text-gray-900"}`,children:"High-Value Customer Segments"})]}),s.jsx("div",{className:"space-y-3",children:h.map(D=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:`text-sm font-medium ${v?"text-gray-300":"text-gray-700"}`,children:D.label}),s.jsxs("span",{className:`text-sm ${v?"text-white":"text-gray-900"}`,children:[D.customers.toLocaleString()," customers  ",f(D.revenue)," revenue"]})]}),s.jsx("div",{className:`w-full ${v?"bg-gray-700":"bg-gray-200"} rounded-full h-2 overflow-hidden`,children:s.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-purple-600 rounded-full transition-all duration-500",style:{width:`${D.revenuePercentage}%`}})})]},D.label))})]}),s.jsxs("div",{className:`mt-6 ${v?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border rounded-lg p-6 hover:shadow-xl transition-all duration-200`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(ar,{className:`w-5 h-5 ${v?"text-purple-400":"text-purple-600"}`}),s.jsx("h3",{className:`text-lg font-semibold ${v?"text-white":"text-gray-900"}`,children:"Last Active Segments"})]}),s.jsx("div",{className:"space-y-3",children:(()=>{const D=i.getLastEmailDate(),X=m.length,G=[{label:"Never Active",count:m.filter(q=>{if(q.lastActive===null||q.lastActive===void 0)return!0;if(typeof q.lastActive=="string"){const B=String(q.lastActive).trim();if(B===""||B.toLowerCase()==="invalid date")return!0;const C=new Date(B);return!!(isNaN(C.getTime())||C.getTime()===0)}if(q.lastActive instanceof Date){const U=q.lastActive.getTime();return!!(isNaN(U)||U===0)}return!0}).length},{label:"Inactive for 90+ days",days:90,count:0},{label:"Inactive for 120+ days",days:120,count:0},{label:"Inactive for 180+ days",days:180,count:0},{label:"Inactive for 365+ days",days:365,count:0}];return m.forEach(q=>{if(q.lastActive&&D){const U=Math.floor((D.getTime()-q.lastActive.getTime())/864e5);U>=90&&G[1].count++,U>=120&&G[2].count++,U>=180&&G[3].count++,U>=365&&G[4].count++}}),G.map(q=>{const U=X>0?q.count/X*100:0;return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:`text-sm font-medium ${v?"text-gray-300":"text-gray-700"}`,children:q.label}),s.jsxs("span",{className:`text-sm ${v?"text-white":"text-gray-900"}`,children:[q.count.toLocaleString()," (",c(U),")"]})]}),s.jsx("div",{className:`w-full ${v?"bg-gray-700":"bg-gray-200"} rounded-full h-2 overflow-hidden`,children:s.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-purple-600 rounded-full transition-all duration-500",style:{width:`${U}%`}})})]},q.label)})})()})]})]}):s.jsxs("section",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(qr,{className:`w-6 h-6 ${v?"text-purple-400":"text-purple-600"}`}),s.jsx("h2",{className:`text-2xl font-bold ${v?"text-white":"text-gray-900"}`,children:"Audience Overview"})]}),s.jsxs("div",{className:`${v?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border rounded-lg p-8 text-center hover:shadow-xl transition-all duration-200`,children:[s.jsx(ni,{className:`w-12 h-12 mx-auto mb-4 ${v?"text-gray-400":"text-gray-500"}`}),s.jsx("p",{className:`${v?"text-gray-400":"text-gray-600"}`,children:"No subscriber data available. Upload your subscriber reports to see audience insights."})]})]})},Af=({filteredCampaigns:v,isDarkMode:i,dateRange:o})=>{const[m,x]=be.useState("revenue"),[f,c]=be.useState(null),y=Vt.getInstance(),_=(O,Q)=>y.getCampaignPerformanceByDayOfWeek(O,Q),h=[{value:"revenue",label:"Total Revenue"},{value:"avgOrderValue",label:"Average Order Value"},{value:"revenuePerEmail",label:"Revenue per Email"},{value:"openRate",label:"Open Rate"},{value:"clickRate",label:"Click Rate"},{value:"clickToOpenRate",label:"Click-to-Open Rate"},{value:"emailsSent",label:"Emails Sent"},{value:"totalOrders",label:"Total Orders"},{value:"conversionRate",label:"Conversion Rate"},{value:"unsubscribeRate",label:"Unsubscribe Rate"},{value:"spamRate",label:"Spam Rate"},{value:"bounceRate",label:"Bounce Rate"}],D=be.useMemo(()=>_(v,m),[v,m]),X=(O,Q)=>["revenue","avgOrderValue","revenuePerEmail"].includes(Q)?`$${O.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`:["openRate","clickRate","clickToOpenRate","conversionRate","unsubscribeRate","spamRate","bounceRate"].includes(Q)?O<.01&&O>0?`${O.toFixed(3)}%`:`${O.toFixed(2)}%`:O.toLocaleString("en-US"),b=Math.max(...D.map(O=>O.value)),G=320,q=30,U=10,B=40,C=50,H=(O=>{const Q={revenue:{primary:"#8b5cf6",secondary:"#a78bfa",light:"#c4b5fd"},avgOrderValue:{primary:"#06b6d4",secondary:"#67e8f9",light:"#a7f3d0"},revenuePerEmail:{primary:"#10b981",secondary:"#34d399",light:"#6ee7b7"},openRate:{primary:"#f59e0b",secondary:"#fbbf24",light:"#fde047"},clickRate:{primary:"#ef4444",secondary:"#f87171",light:"#fca5a5"},clickToOpenRate:{primary:"#8b5cf6",secondary:"#a78bfa",light:"#c4b5fd"},emailsSent:{primary:"#3b82f6",secondary:"#60a5fa",light:"#93c5fd"},totalOrders:{primary:"#10b981",secondary:"#34d399",light:"#6ee7b7"},conversionRate:{primary:"#f97316",secondary:"#fb923c",light:"#fdba74"},unsubscribeRate:{primary:"#ef4444",secondary:"#f87171",light:"#fca5a5"},spamRate:{primary:"#dc2626",secondary:"#ef4444",light:"#f87171"},bounceRate:{primary:"#991b1b",secondary:"#dc2626",light:"#ef4444"}};return Q[O]||Q.revenue})(m);return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ar,{className:`w-6 h-6 ${i?"text-purple-400":"text-purple-600"}`}),s.jsx("h3",{className:`text-2xl font-bold ${i?"text-white":"text-gray-900"}`,children:"Campaign Performance by Day of Week"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("select",{value:m,onChange:O=>x(O.target.value),className:`
              appearance-none px-4 py-2 pr-8 rounded-lg border cursor-pointer
              ${i?"bg-gray-800 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} 
              focus:ring-2 focus:ring-purple-500 focus:border-transparent
            `,children:h.map(O=>s.jsx("option",{value:O.value,children:O.label},O.value))}),s.jsx(Ln,{className:`absolute right-2 top-1/2 transform -translate-y-1/2 w-4 h-4 pointer-events-none ${i?"text-gray-400":"text-gray-500"}`})]})]}),s.jsxs("div",{className:`
        ${i?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} 
        border rounded-lg p-6 hover:shadow-lg transition-all duration-200
      `,children:[s.jsxs("div",{className:"relative w-full",children:[s.jsxs("svg",{width:"100%",height:G+60,stopColor:H.primary,viewBox:`0 0 800 ${G+60}`,onMouseLeave:()=>c(null),children:[s.jsxs("defs",{children:[s.jsxs("linearGradient",{id:`barGradient-${m}`,x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[s.jsx("stop",{offset:"0%",stopColor:H.primary,stopOpacity:.9}),s.jsx("stop",{offset:"50%",stopColor:H.secondary,stopOpacity:.9}),s.jsx("stop",{offset:"100%",stopColor:H.light,stopOpacity:.7})]}),s.jsx("filter",{id:"dropShadow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:s.jsx("feDropShadow",{dx:"0",dy:"2",stdDeviation:"3",floodColor:"#000000",floodOpacity:"0.1"})})]}),[0,.25,.5,.75,1].map((O,Q)=>{const re=C+O*(800-C-40),fe=b*O;return s.jsxs("g",{children:[s.jsx("line",{x1:re,y1:G+15,x2:re,y2:G+20,stroke:i?"#6b7280":"#9ca3af",strokeWidth:1}),s.jsx("text",{x:re,y:G+35,textAnchor:"middle",className:`text-xs ${i?"fill-gray-400":"fill-gray-500"}`,children:X(fe,m)}),O>0&&s.jsx("line",{x1:re,y1:B,x2:re,y2:G+15,stroke:i?"#374151":"#f3f4f6",strokeWidth:1,strokeDasharray:"2,2"})]},Q)}),D.map((O,Q)=>{const re=B+Q*(q+U),fe=b>0?O.value/b*(800-C-60):0,w=C;return s.jsxs("g",{children:[s.jsx("rect",{x:w,y:re,width:Math.max(fe,2),height:q,fill:O.campaignCount===0?i?"#374151":"#e5e7eb":`url(#barGradient-${m})`,className:"cursor-pointer transition-all duration-200 hover:opacity-90",filter:O.campaignCount>0?"url(#dropShadow)":"none",rx:"4",ry:"4",onMouseEnter:()=>c({day:O.day,value:O.value,campaignCount:O.campaignCount})}),s.jsx("text",{x:C-10,y:re+q/2+4,textAnchor:"end",className:`text-sm font-medium ${i?"fill-gray-300":"fill-gray-700"}`,children:O.day})]},O.day)}),s.jsx("line",{x1:C,y1:B,x2:C,y2:G+15,stroke:i?"#4b5563":"#d1d5db",strokeWidth:2}),s.jsx("line",{x1:C,y1:G+15,x2:760,y2:G+15,stroke:i?"#4b5563":"#d1d5db",strokeWidth:2})]}),f&&s.jsxs("div",{className:`
              absolute z-10 p-3 rounded-lg shadow-xl border text-sm pointer-events-none backdrop-blur-sm
              ${i?"bg-gray-800/95 border-gray-600 text-white":"bg-white/95 border-gray-200 text-gray-900"}
              transform -translate-x-1/2 -translate-y-full
            `,style:{left:`${(C+f.value/b*(800-C-60)/2)/8}%`,top:`${B+D.findIndex(O=>O.day===f.day)*(q+U)+q/2-20}px`},children:[s.jsx("div",{className:"font-semibold mb-1",children:f.day}),s.jsx("div",{className:"font-medium",style:{color:H.primary},children:X(f.value,m)}),s.jsx("div",{className:`text-xs ${i?"text-gray-400":"text-gray-500"}`,children:f.campaignCount===0?"No campaigns sent":`${f.campaignCount} campaign${f.campaignCount!==1?"s":""} sent`})]})]}),s.jsx("div",{className:`mt-4 pt-4 border-t ${i?"border-gray-700":"border-gray-200"}`,children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:`${i?"text-gray-400":"text-gray-500"}`,children:"Total Campaigns"}),s.jsx("p",{className:`font-bold text-lg ${i?"text-white":"text-gray-900"}`,children:D.reduce((O,Q)=>O+Q.campaignCount,0)})]}),s.jsxs("div",{children:[s.jsx("p",{className:`${i?"text-gray-400":"text-gray-500"}`,children:"Best Day"}),s.jsx("p",{className:`font-bold text-lg ${i?"text-white":"text-gray-900"}`,children:(()=>{const O=D.reduce((Q,re)=>re.value>Q.value?re:Q);return O.value>0?O.day:"N/A"})()})]}),s.jsxs("div",{children:[s.jsx("p",{className:`${i?"text-gray-400":"text-gray-500"}`,children:"Peak Value"}),s.jsx("p",{className:`font-bold text-lg ${i?"text-white":"text-gray-900"}`,children:X(b,m)})]}),s.jsxs("div",{children:[s.jsx("p",{className:`${i?"text-gray-400":"text-gray-500"}`,children:"Date Range"}),s.jsx("p",{className:`font-bold text-lg ${i?"text-white":"text-gray-900"}`,children:o==="all"?"All Time":o})]})]})})]})]})},zf=({filteredCampaigns:v,isDarkMode:i,dateRange:o})=>{const[m,x]=be.useState("revenue"),[f,c]=be.useState(null),y=Vt.getInstance(),_=(O,Q)=>y.getCampaignPerformanceByHourOfDay(O,Q),h=[{value:"revenue",label:"Total Revenue"},{value:"avgOrderValue",label:"Average Order Value"},{value:"revenuePerEmail",label:"Revenue per Email"},{value:"openRate",label:"Open Rate"},{value:"clickRate",label:"Click Rate"},{value:"clickToOpenRate",label:"Click-to-Open Rate"},{value:"emailsSent",label:"Emails Sent"},{value:"totalOrders",label:"Total Orders"},{value:"conversionRate",label:"Conversion Rate"},{value:"unsubscribeRate",label:"Unsubscribe Rate"},{value:"spamRate",label:"Spam Rate"},{value:"bounceRate",label:"Bounce Rate"}],D=be.useMemo(()=>_(v,m),[v,m]),X=(O,Q)=>["revenue","avgOrderValue","revenuePerEmail"].includes(Q)?`$${O.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`:["openRate","clickRate","clickToOpenRate","conversionRate","unsubscribeRate","spamRate","bounceRate"].includes(Q)?O<.01&&O>0?`${O.toFixed(3)}%`:`${O.toFixed(2)}%`:O.toLocaleString("en-US"),G=(O=>{const Q={revenue:{primary:"#8b5cf6",secondary:"#a78bfa",light:"#c4b5fd"},avgOrderValue:{primary:"#06b6d4",secondary:"#67e8f9",light:"#a7f3d0"},revenuePerEmail:{primary:"#10b981",secondary:"#34d399",light:"#6ee7b7"},openRate:{primary:"#f59e0b",secondary:"#fbbf24",light:"#fde047"},clickRate:{primary:"#ef4444",secondary:"#f87171",light:"#fca5a5"},clickToOpenRate:{primary:"#8b5cf6",secondary:"#a78bfa",light:"#c4b5fd"},emailsSent:{primary:"#3b82f6",secondary:"#60a5fa",light:"#93c5fd"},totalOrders:{primary:"#10b981",secondary:"#34d399",light:"#6ee7b7"},conversionRate:{primary:"#f97316",secondary:"#fb923c",light:"#fdba74"},unsubscribeRate:{primary:"#ef4444",secondary:"#f87171",light:"#fca5a5"},spamRate:{primary:"#dc2626",secondary:"#ef4444",light:"#f87171"},bounceRate:{primary:"#991b1b",secondary:"#dc2626",light:"#ef4444"}};return Q[O]||Q.revenue})(m);if(D.length===0)return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(rs,{className:`w-6 h-6 ${i?"text-purple-400":"text-purple-600"}`}),s.jsx("h3",{className:`text-2xl font-bold ${i?"text-white":"text-gray-900"}`,children:"Campaign Performance by Hour of Day"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("select",{value:m,onChange:O=>x(O.target.value),className:`
                appearance-none px-4 py-2 pr-8 rounded-lg border cursor-pointer
                ${i?"bg-gray-800 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} 
                focus:ring-2 focus:ring-purple-500 focus:border-transparent
              `,children:h.map(O=>s.jsx("option",{value:O.value,children:O.label},O.value))}),s.jsx(Ln,{className:`absolute right-2 top-1/2 transform -translate-y-1/2 w-4 h-4 pointer-events-none ${i?"text-gray-400":"text-gray-500"}`})]})]}),s.jsx("div",{className:`
          ${i?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} 
          border rounded-lg p-6 hover:shadow-lg transition-all duration-200
        `,children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(rs,{className:`w-12 h-12 mx-auto mb-4 ${i?"text-gray-600":"text-gray-400"}`}),s.jsx("h4",{className:`text-lg font-semibold mb-2 ${i?"text-gray-300":"text-gray-600"}`,children:"No campaigns sent in this period"}),s.jsx("p",{className:`text-sm ${i?"text-gray-500":"text-gray-400"}`,children:"Try adjusting your date range to see hourly performance data"})]})})]});const q=Math.max(...D.map(O=>O.value)),U=Math.max(200,D.length*35+40),B=25,C=10,ue=40,H=60;return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(rs,{className:`w-6 h-6 ${i?"text-purple-400":"text-purple-600"}`}),s.jsx("h3",{className:`text-2xl font-bold ${i?"text-white":"text-gray-900"}`,children:"Campaign Performance by Hour of Day"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("select",{value:m,onChange:O=>x(O.target.value),className:`
              appearance-none px-4 py-2 pr-8 rounded-lg border cursor-pointer
              ${i?"bg-gray-800 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} 
              focus:ring-2 focus:ring-purple-500 focus:border-transparent
            `,children:h.map(O=>s.jsx("option",{value:O.value,children:O.label},O.value))}),s.jsx(Ln,{className:`absolute right-2 top-1/2 transform -translate-y-1/2 w-4 h-4 pointer-events-none ${i?"text-gray-400":"text-gray-500"}`})]})]}),s.jsxs("div",{className:`
        ${i?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} 
        border rounded-lg p-6 hover:shadow-lg transition-all duration-200
      `,children:[s.jsxs("div",{className:"relative w-full",children:[s.jsxs("svg",{width:"100%",height:U+60,viewBox:`0 0 800 ${U+60}`,onMouseLeave:()=>c(null),children:[s.jsxs("defs",{children:[s.jsxs("linearGradient",{id:`hourBarGradient-${m}`,x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[s.jsx("stop",{offset:"0%",stopColor:G.primary,stopOpacity:.9}),s.jsx("stop",{offset:"50%",stopColor:G.secondary,stopOpacity:.9}),s.jsx("stop",{offset:"100%",stopColor:G.light,stopOpacity:.7})]}),s.jsx("filter",{id:"hourDropShadow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:s.jsx("feDropShadow",{dx:"0",dy:"2",stdDeviation:"3",floodColor:"#000000",floodOpacity:"0.1"})})]}),[0,.25,.5,.75,1].map((O,Q)=>{const re=H+O*(800-H-40),fe=q*O;return s.jsxs("g",{children:[s.jsx("line",{x1:re,y1:U+15,x2:re,y2:U+20,stroke:i?"#6b7280":"#9ca3af",strokeWidth:1}),s.jsx("text",{x:re,y:U+35,textAnchor:"middle",className:`text-xs ${i?"fill-gray-400":"fill-gray-500"}`,children:X(fe,m)}),O>0&&s.jsx("line",{x1:re,y1:ue,x2:re,y2:U+15,stroke:i?"#374151":"#f3f4f6",strokeWidth:1,strokeDasharray:"2,2"})]},Q)}),D.map((O,Q)=>{const re=ue+Q*(B+C),fe=q>0?O.value/q*(800-H-60):0,w=H;return s.jsxs("g",{children:[s.jsx("rect",{x:w,y:re,width:Math.max(fe,2),height:B,fill:`url(#hourBarGradient-${m})`,className:"cursor-pointer transition-all duration-200 hover:opacity-90",filter:"url(#hourDropShadow)",rx:"4",ry:"4",onMouseEnter:()=>c({hourLabel:O.hourLabel,value:O.value,campaignCount:O.campaignCount,percentageOfTotal:O.percentageOfTotal})}),s.jsx("text",{x:H-10,y:re+B/2+4,textAnchor:"end",className:`text-sm font-medium ${i?"fill-gray-300":"fill-gray-700"}`,children:O.hourLabel})]},`${O.hour}-${O.hourLabel}`)}),s.jsx("line",{x1:H,y1:ue,x2:H,y2:U+15,stroke:i?"#4b5563":"#d1d5db",strokeWidth:2}),s.jsx("line",{x1:H,y1:U+15,x2:760,y2:U+15,stroke:i?"#4b5563":"#d1d5db",strokeWidth:2})]}),f&&s.jsxs("div",{className:`
              absolute z-10 p-3 rounded-lg shadow-xl border text-sm pointer-events-none backdrop-blur-sm
              ${i?"bg-gray-800/95 border-gray-600 text-white":"bg-white/95 border-gray-200 text-gray-900"}
              transform -translate-x-1/2 -translate-y-full
            `,style:{left:`${(H+f.value/q*(800-H-60)/2)/8}%`,top:`${ue+D.findIndex(O=>O.hourLabel===f.hourLabel)*(B+C)+B/2-20}px`},children:[s.jsx("div",{className:"font-semibold mb-1",children:f.hourLabel}),s.jsx("div",{className:"font-medium mb-1",style:{color:G.primary},children:X(f.value,m)}),s.jsxs("div",{className:`text-xs ${i?"text-gray-400":"text-gray-500"}`,children:[f.campaignCount," campaign",f.campaignCount!==1?"s":""," sent"]}),s.jsxs("div",{className:`text-xs ${i?"text-gray-400":"text-gray-500"}`,children:[f.percentageOfTotal.toFixed(1),"% of all campaigns"]})]})]}),s.jsx("div",{className:`mt-4 pt-4 border-t ${i?"border-gray-700":"border-gray-200"}`,children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:`${i?"text-gray-400":"text-gray-500"}`,children:"Active Hours"}),s.jsx("p",{className:`font-bold text-lg ${i?"text-white":"text-gray-900"}`,children:D.length})]}),s.jsxs("div",{children:[s.jsx("p",{className:`${i?"text-gray-400":"text-gray-500"}`,children:"Best Hour"}),s.jsx("p",{className:`font-bold text-lg ${i?"text-white":"text-gray-900"}`,children:D.length>0?D[0].hourLabel:"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:`${i?"text-gray-400":"text-gray-500"}`,children:"Peak Value"}),s.jsx("p",{className:`font-bold text-lg ${i?"text-white":"text-gray-900"}`,children:X(q,m)})]}),s.jsxs("div",{children:[s.jsx("p",{className:`${i?"text-gray-400":"text-gray-500"}`,children:"Total Campaigns"}),s.jsx("p",{className:`font-bold text-lg ${i?"text-white":"text-gray-900"}`,children:D.reduce((O,Q)=>O+Q.campaignCount,0)})]})]})})]})]})},Uf=({isDarkMode:v,dateRange:i,granularity:o})=>{const[m]=be.useState(null),x=[{value:"revenue",label:"Revenue",format:"currency"},{value:"emailsSent",label:"Emails Sent",format:"number"},{value:"openRate",label:"Open Rate",format:"percentage"},{value:"clickRate",label:"Click Rate",format:"percentage"},{value:"clickToOpenRate",label:"Click to Open Rate",format:"percentage"},{value:"conversionRate",label:"Conversion Rate",format:"percentage"},{value:"unsubscribeRate",label:"Unsubscribe Rate",format:"percentage",isNegative:!0},{value:"bounceRate",label:"Bounce Rate",format:"percentage",isNegative:!0},{value:"spamRate",label:"Spam Rate",format:"percentage",isNegative:!0},{value:"avgOrderValue",label:"Average Order Value",format:"currency"},{value:"revenuePerEmail",label:"Revenue per Email",format:"currency"},{value:"totalOrders",label:"Total Orders",format:"number"}],[f,c]=be.useState(""),[y,_]=be.useState("revenue"),h=Vt.getInstance(),D=h.getFlowEmails(),X=N=>new Date(N.getFullYear(),N.getMonth(),N.getDate()),b=be.useMemo(()=>{if(i==="all")return null;const N=parseInt(i.replace("d","")),P=X(h.getLastEmailDate()),k=X(new Date(P));k.setDate(P.getDate()-N);const I=X(new Date(k)),ae=X(new Date(I));return ae.setDate(I.getDate()-N),{startDateOnly:k,endDateOnly:P,prevStartDateOnly:ae,prevEndDateOnly:I,days:N}},[i,h]),G=be.useMemo(()=>D.filter(N=>N.status&&N.status.toLowerCase()==="live"),[D]),q=be.useMemo(()=>{const N=new Set;for(const P of G)P.flowName&&N.add(P.flowName);return Array.from(N).sort()},[G]),U=be.useMemo(()=>{if(!b)return G;const{startDateOnly:N,endDateOnly:P}=b;return G.filter(k=>{const I=X(new Date(k.sentDate));return I>=N&&I<=P})},[G,b]),B=be.useMemo(()=>{if(!b)return[];const{prevStartDateOnly:N,prevEndDateOnly:P}=b;return G.filter(k=>{const I=X(new Date(k.sentDate));return I>=N&&I<=P})},[G,b]),C=be.useMemo(()=>f?h.getFlowSequenceInfo(f):null,[f]),ue=be.useMemo(()=>{const N={},P=C?.emailNames||[];for(const k of P){const I=(k||"").trim();I&&(N[I]=(N[I]||0)+1)}return N},[C]),H=be.useMemo(()=>Object.values(ue).some(N=>N>1),[ue]),O=be.useMemo(()=>{if(!f||!C)return[];const N=U.filter(I=>I.flowName===f),P=[];let k=0;return C.messageIds.forEach((I,ae)=>{const W=[...N.filter(ke=>ke.flowMessageId===I)].sort((ke,te)=>ke.sentDate.getTime()-te.sentDate.getTime()),z=C.emailNames[ae]||(W.length>0?W[W.length-1].emailName:`Email ${ae+1}`),M=W.reduce((ke,te)=>ke+te.emailsSent,0),V=W.reduce((ke,te)=>ke+te.revenue,0),d=W.reduce((ke,te)=>ke+te.totalOrders,0),E=W.reduce((ke,te)=>ke+te.uniqueOpens,0),K=W.reduce((ke,te)=>ke+te.uniqueClicks,0),S=W.reduce((ke,te)=>ke+te.unsubscribesCount,0),L=W.reduce((ke,te)=>ke+te.bouncesCount,0),Z=W.reduce((ke,te)=>ke+te.spamComplaintsCount,0),le=M>0?E/M*100:0,ie=M>0?K/M*100:0,ce=E>0?K/E*100:0,Se=K>0?d/K*100:0,ye=M>0?S/M*100:0,Oe=M>0?L/M*100:0,$e=M>0?Z/M*100:0,Pe=d>0?V/d:0,je=M>0?V/M:0;let Re=0;ae>0&&k>0&&(Re=(k-M)/k*100),P.push({sequencePosition:ae+1,emailName:z,emailsSent:M,revenue:V,openRate:le,clickRate:ie,clickToOpenRate:ce,conversionRate:Se,unsubscribeRate:ye,avgOrderValue:Pe,dropOffRate:Re,bounceRate:Oe,spamRate:$e,revenuePerEmail:je,totalOrders:d,totalClicks:K}),k=M}),P},[f,U,C]),Q=(N,P)=>{if(!f)return[];const k=U;return h.getFlowStepTimeSeries(k,f,N,P,i,o)},re=be.useMemo(()=>{if(!f)return{min:0,max:10};let N=[];for(let W=1;C&&W<=C.sequenceLength;W++){const z=Q(W,y);N=N.concat(z.map(M=>M.value))}if(N.length===0)return{min:0,max:10};const P=Math.min(...N),k=Math.max(...N);let I=0,ae=k;k-P<.01||k===0?ae=k>0?k*1.5:10:ae=k*1.2;const oe=x.find(W=>W.value===y);return oe?.format==="currency"?ae>1e4?ae=Math.ceil(ae/1e3)*1e3:ae>1e3?ae=Math.ceil(ae/100)*100:ae>100?ae=Math.ceil(ae/10)*10:ae=Math.ceil(ae):oe?.format==="percentage"?ae<1?ae=Math.ceil(ae*100)/100:ae<10?ae=Math.ceil(ae):ae=Math.ceil(ae/5)*5:ae>1e3?ae=Math.ceil(ae/100)*100:ae>100?ae=Math.ceil(ae/10)*10:ae=Math.ceil(ae),{min:I,max:ae}},[f,y,C,U,o]),fe=(N,P)=>{if(!f||i==="all")return null;const k=U.filter(K=>K.flowName===f&&K.sequencePosition===N),I=B.filter(K=>K.flowName===f&&K.sequencePosition===N);if(k.length===0)return null;const ae=(K,S)=>{const L=K.reduce((Z,le)=>(Z.emailsSent+=le.emailsSent||0,Z.revenue+=le.revenue||0,Z.orders+=le.totalOrders||0,Z.opens+=le.uniqueOpens||0,Z.clicks+=le.uniqueClicks||0,Z.unsubs+=le.unsubscribesCount||0,Z.bounces+=le.bouncesCount||0,Z.spam+=le.spamComplaintsCount||0,Z),{emailsSent:0,revenue:0,orders:0,opens:0,clicks:0,unsubs:0,bounces:0,spam:0});switch(S){case"revenue":return L.revenue;case"emailsSent":return L.emailsSent;case"totalOrders":return L.orders;case"avgOrderValue":return L.orders>0?L.revenue/L.orders:0;case"revenuePerEmail":return L.emailsSent>0?L.revenue/L.emailsSent:0;case"openRate":return L.emailsSent>0?L.opens/L.emailsSent*100:0;case"clickRate":return L.emailsSent>0?L.clicks/L.emailsSent*100:0;case"clickToOpenRate":return L.opens>0?L.clicks/L.opens*100:0;case"conversionRate":return L.clicks>0?L.orders/L.clicks*100:0;case"unsubscribeRate":return L.emailsSent>0?L.unsubs/L.emailsSent*100:0;case"bounceRate":return L.emailsSent>0?L.bounces/L.emailsSent*100:0;case"spamRate":return L.emailsSent>0?L.spam/L.emailsSent*100:0;default:return 0}},oe=ae(k,P),W=ae(I,P);if(I.length===0||W===0)return null;const z=(oe-W)/W*100,d=["unsubscribeRate","spamRate","bounceRate"].includes(P)?z<0:z>0,E={startDate:b.prevStartDateOnly,endDate:b.prevEndDateOnly};return{change:z,isPositive:d,previousValue:W,previousPeriod:E}},w=(N,P)=>{const k=x.find(I=>I.value===P);if(!k)return N.toString();if(k.format==="currency")return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(N);if(k.format==="percentage"){const I=P==="spamRate"?3:2;return`${N.toFixed(I)}%`}return P==="emailsSent"||P==="totalOrders"?new Intl.NumberFormat("en-US",{maximumFractionDigits:0}).format(Math.round(N)):new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(N)},j=N=>new Date(N).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),$=(N,P)=>{const k=Q(N.sequencePosition,y),I=fe(N.sequencePosition,y),ae=x.find(S=>S.value===y),oe=N[y],W=re;let z="#8b5cf6",M=z,V=null;if(I&&i!=="all"){const S=I.change>0,L=I.isPositive,Z=L?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400",le=`Previous period (${j(I.previousPeriod.startDate)}  ${j(I.previousPeriod.endDate)}): ${w(I.previousValue,y)}`;z=L?"#10b981":"#ef4444",M=z,V=s.jsxs("span",{className:`text-lg font-bold px-2 py-1 rounded ${Z}`,title:le,"aria-label":le,children:[S?s.jsx(sc,{className:"inline w-4 h-4 mr-1"}):s.jsx(lc,{className:"inline w-4 h-4 mr-1"}),Math.abs(I.change).toFixed(1),"%"]})}oe===0&&k.length===0&&(z=v?"#6b7280":"#9ca3af",M=z);const d=`linear-gradient(180deg, ${z}40 0%, ${z}10 100%)`;let E=[];if(k.length>1){const S=Math.min(6,k.length);for(let L=0;L<S;L++){const Z=Math.round(L/(S-1)*(k.length-1)),le=k[Z],ie=Z/(k.length-1)*900,ce=new Date(le.date).toLocaleDateString("en-US",{month:"short",day:"numeric"});E.push({x:ie,label:ce})}}let K=[];if(W.max>W.min)for(let L=0;L<3;L++){const Z=W.min+(W.max-W.min)*(L/2),le=120-(Z-W.min)/(W.max-W.min)*100;K.push({y:le,label:w(Z,y)})}return s.jsxs("div",{className:`${v?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border rounded-lg p-6 hover:shadow-xl transition-all duration-200`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:M,display:"inline-block"}}),s.jsx("span",{className:`font-semibold ${v?"text-white":"text-gray-900"}`,children:N.emailName}),ue[N.emailName]>1&&s.jsx("span",{className:"inline-flex items-center",title:`Multiple emails share the name "${N.emailName}" (${ue[N.emailName]}). A/B tests or inconsistent naming can make ordering less clear.`,"aria-label":"Duplicate step name warning",children:s.jsx(Wr,{className:v?"w-4 h-4 text-amber-300":"w-4 h-4 text-amber-600"})})]}),s.jsxs("div",{className:"flex flex-col items-end",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-2xl font-bold",children:w(oe,y)}),y==="conversionRate"&&oe>100&&s.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full border ${v?"border-purple-700 text-purple-200 bg-purple-900/30":"border-purple-200 text-purple-700 bg-purple-50"}`,children:"Includes view-through"}),I&&i!=="all"&&s.jsx("span",{className:"text-lg font-bold px-2 py-1 rounded",style:{color:z,background:"transparent"},children:V})]}),s.jsx("span",{className:`text-sm ${v?"text-gray-400":"text-gray-500"}`,children:ae?.label})]})]}),s.jsx("div",{className:"mt-6 relative",style:{height:"160px"},children:k.length>1?s.jsxs("div",{className:"relative h-full flex",children:[s.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 900 160",style:{position:"absolute",left:0,top:0},children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:`gradient-${P}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"0%",stopColor:z,stopOpacity:"0.25"}),s.jsx("stop",{offset:"100%",stopColor:z,stopOpacity:"0.05"})]})}),K.map((S,L)=>s.jsxs("g",{children:[s.jsx("line",{x1:0,y1:S.y,x2:900,y2:S.y,stroke:v?"#374151":"#e5e7eb",strokeDasharray:"2,2"}),s.jsx("text",{x:-5,y:S.y+4,textAnchor:"end",fontSize:"12",fill:v?"#d1d5db":"#6b7280",children:S.label})]},L)),E.map((S,L)=>s.jsxs("g",{children:[s.jsx("line",{x1:S.x,y1:120,x2:S.x,y2:130,stroke:v?"#374151":"#e5e7eb"}),s.jsx("text",{x:S.x,y:145,textAnchor:"middle",fontSize:"12",fill:v?"#d1d5db":"#6b7280",children:S.label})]},L)),(()=>{const S=k.map((le,ie)=>{const ce=ie/(k.length-1)*900,Se=120-(le.value-W.min)/(W.max-W.min)*100;return{x:ce,y:Se,value:le.value,date:le.date}});if(S.length===0)return null;let L=`M ${S[0].x},${S[0].y}`;for(let le=1;le<S.length;le++){const ie=S[le-1].x+(S[le].x-S[le-1].x)*.4,ce=S[le-1].y,Se=S[le].x-(S[le].x-S[le-1].x)*.4,ye=S[le].y;L+=` C ${ie},${ce} ${Se},${ye} ${S[le].x},${S[le].y}`}const Z=L+" L 900,120 L 0,120 Z";return s.jsxs("g",{children:[s.jsx("path",{d:Z,fill:`url(#gradient-${P})`}),s.jsx("path",{d:L,fill:"none",stroke:z,strokeWidth:"2"})]})})()]}),m&&m.chartIndex===P&&s.jsxs("div",{style:{position:"absolute",left:`${m.x/900*100}%`,top:`${m.y-40}px`,background:v?"#1e293b":"#f3e8ff",color:v?"#fff":"#6b7280",border:`1px solid ${z}`,borderRadius:"6px",padding:"6px 12px",pointerEvents:"none",zIndex:10,minWidth:"120px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"},children:[s.jsx("div",{style:{fontWeight:600},children:w(m.value,y)}),s.jsx("div",{style:{fontSize:"12px"},children:new Date(m.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]}):oe===0?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx("span",{className:`text-sm ${v?"text-gray-500":"text-gray-400"}`,children:"No data available"})}):s.jsx("div",{className:"relative h-full flex items-end",children:s.jsx("div",{className:"relative",style:{width:"100%",height:`${Math.max(oe/W.max*100,5)}%`,background:d,borderTop:`2px solid ${z}`,borderRadius:"4px 4px 0 0"}})})})]},N.sequencePosition)};return s.jsxs("section",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cf,{className:`w-6 h-6 ${v?"text-purple-400":"text-purple-600"}`}),s.jsx("h3",{className:`text-2xl font-bold ${v?"text-white":"text-gray-900"}`,children:"Flow Step Analysis"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:f,onChange:N=>c(N.target.value),className:`
                                appearance-none px-4 py-2 pr-8 rounded-lg border cursor-pointer
                                ${v?"bg-gray-800 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} 
                                focus:ring-2 focus:ring-purple-500 focus:border-transparent
                            `,children:[s.jsx("option",{value:"",children:"Select a flow"}),q.map(N=>s.jsx("option",{value:N,children:N},N))]}),s.jsx(Ln,{className:`absolute right-2 top-1/2 transform -translate-y-1/2 w-4 h-4 pointer-events-none ${v?"text-gray-400":"text-gray-500"}`})]}),s.jsxs("div",{className:"relative",children:[s.jsx("select",{value:y,onChange:N=>_(N.target.value),className:`
                                appearance-none px-4 py-2 pr-8 rounded-lg border cursor-pointer
                                ${v?"bg-gray-800 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} 
                                focus:ring-2 focus:ring-purple-500 focus:border-transparent
                            `,children:x.map(N=>s.jsx("option",{value:N.value,children:N.label},N.value))}),s.jsx(Ln,{className:`absolute right-2 top-1/2 transform -translate-y-1/2 w-4 h-4 pointer-events-none ${v?"text-gray-400":"text-gray-500"}`})]})]})]}),s.jsxs("div",{className:`mb-4 rounded-lg border px-3 py-2 text-sm flex items-start gap-2 ${H?v?"border-amber-500/40 bg-amber-500/10 text-amber-200":"border-amber-300 bg-amber-50 text-amber-800":v?"border-gray-700 bg-gray-800 text-gray-300":"border-gray-200 bg-gray-50 text-gray-700"}`,children:[s.jsx(Wr,{className:`mt-0.5 w-4 h-4 ${H?v?"text-amber-300":"text-amber-600":v?"text-gray-400":"text-gray-500"}`}),s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:["Naming affects step order",H&&s.jsx("span",{className:"ml-2 font-normal",children:"Duplicate step names detected in this flow."})]}),s.jsx("div",{className:"text-xs mt-0.5",children:"Use unique, consistent names for each step. A/B tests can create multiple messages with similar names; add clear suffixes like - A and - B to keep steps distinct."})]})]}),f?s.jsx("div",{className:"space-y-4",children:O.map((N,P)=>$(N,P))}):s.jsxs("div",{className:`${v?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border rounded-lg p-12 text-center hover:shadow-xl transition-all duration-200`,children:[s.jsx(Sf,{className:`w-12 h-12 mx-auto mb-4 ${v?"text-gray-600":"text-gray-400"}`}),s.jsx("p",{className:`text-lg ${v?"text-gray-400":"text-gray-600"}`,children:"Select a flow to view step-by-step analysis"})]})]})},Mf=({isDarkMode:v})=>{const[i,o]=be.useState([]),[m,x]=be.useState(""),[f,c]=be.useState(""),[y,_]=be.useState(""),h="custom-segment-file-input",D=V=>{const d=V.target.files?.[0];d&&(_(d.name),ei.parse(d,{header:!0,skipEmptyLines:!0,complete:E=>{try{const S=new dc().transform(E.data);o(S),x(d.name.replace(/\.csv$/i,"")),c("")}catch{c("Failed to parse segment CSV. Please check the format.")}},error:()=>c("Failed to read CSV file.")}))},X=i.reduce((V,d)=>V+(d.totalClv||0),0);i.filter(V=>V.isBuyer).length;const b=i.reduce((V,d)=>V+(d.totalOrders||0),0),G=i.length>0?X/i.length:0,q=b>0?X/b:0,U=i.reduce((V,d)=>V+(d.predictedClv||0),0),B=i.map(V=>V.avgDaysBetweenOrders??null).filter(V=>V!==null&&!isNaN(V)),C=B.length>0?B.reduce((V,d)=>V+d,0)/B.length:0,ue=i.filter(V=>V.canReceiveEmail===!0).length,H=i.filter(V=>!V.firstActiveRaw&&!V.lastActive).length,O=(V,d)=>{const E=(V.emailSuppressions||[]).map(K=>K.toUpperCase());return d.some(K=>E.includes(K))},Q=["UNSUBSCRIBE","UNSUBSCRIBED","GLOBAL_UNSUBSCRIBE"],re=["SPAM_COMPLAINT","MARKED_AS_SPAM","SPAM"],fe=["USER_SUPPRESSED","SUPPRESSED","MANUAL_SUPPRESSION"],w=i.filter(V=>O(V,Q)).length,j=i.filter(V=>O(V,re)).length,$=i.filter(V=>O(V,fe)).length,N=i.filter(V=>(V.emailConsentRaw||"").toUpperCase().trim()!=="NEVER_SUBSCRIBED").length,P=new Date,k=(()=>{let V=null;return i.forEach(d=>{const E=d.lastOpen instanceof Date?d.lastOpen:null,K=d.lastClick instanceof Date?d.lastClick:null,S=E&&K?E.getTime()>K.getTime()?E:K:E||K;S&&(!V||S.getTime()>V.getTime())&&(V=S)}),V||P})(),I=V=>i.filter(d=>{const E=d.lastOpen instanceof Date?d.lastOpen:null,K=d.lastClick instanceof Date?d.lastClick:null,S=E&&K?E.getTime()>K.getTime()?E:K:E||K;if(!S)return!1;const L=new Date(k.getTime()-V*24*60*60*1e3);return S.getTime()>=L.getTime()&&S.getTime()<=k.getTime()}).length,ae=V=>i.filter(d=>{const E=d.profileCreated instanceof Date?d.profileCreated:null;if(!E)return!1;const K=new Date(k.getTime()-V*24*60*60*1e3);return E.getTime()>=K.getTime()&&E.getTime()<=k.getTime()}).length,oe=V=>i.length>0?V/i.length*100:0,W=`${v?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border rounded-lg p-6`,z=`text-sm font-medium ${v?"text-gray-400":"text-gray-500"}`,M=`text-2xl font-bold ${v?"text-white":"text-gray-900"}`;return s.jsxs("div",{className:"mt-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(Ju,{className:`w-6 h-6 ${v?"text-purple-400":"text-purple-600"}`}),s.jsx("h2",{className:`text-2xl font-bold ${v?"text-white":"text-gray-900"}`,children:"Analyze Custom Segment"})]}),s.jsxs("div",{className:`${v?"bg-gray-800 border border-gray-700":"bg-white border border-gray-200"} rounded-2xl p-8 mb-8 hover:shadow-xl transition-all duration-200`,children:[s.jsx("p",{className:`mb-4 ${v?"text-gray-300":"text-gray-600"}`,children:"Upload a subscriber CSV to analyze growth, engagement recency, deliverability, optin rate, and revenue indicators such as Predicted LTV and AOV. Use this to evaluate a specific audience without changing your main dashboard."}),s.jsxs("div",{className:"mb-4 flex items-center gap-3 flex-wrap",children:[s.jsxs("label",{htmlFor:h,className:`inline-flex items-center px-3 py-2 rounded-lg cursor-pointer border ${v?"bg-gray-800 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} hover:border-purple-500`,title:"Choose a CSV file",children:[s.jsx(Ju,{className:"w-4 h-4 mr-2"}),"Choose File"]}),s.jsx("input",{id:h,type:"file",accept:".csv",className:"hidden",onChange:D}),y&&s.jsx("div",{className:`text-sm ${v?"text-gray-200":"text-gray-700"} break-all flex-1 min-w-0`,children:y}),y&&s.jsx("button",{type:"button",onClick:()=>{o([]),x(""),_(""),c("");const V=document.getElementById(h);V&&(V.value="")},className:`ml-auto px-3 py-2 rounded-lg text-sm font-medium border ${v?"bg-gray-700 border-gray-600 text-white hover:bg-gray-600":"bg-gray-100 border-gray-300 text-gray-900 hover:bg-gray-200"}`,title:"Reset the custom segment",children:"Reset"})]}),f&&s.jsx("div",{className:"text-red-500 mb-4",children:f}),i.length>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(qr,{className:`w-5 h-5 ${v?"text-purple-400":"text-purple-600"}`}),s.jsx("span",{className:`text-lg font-semibold break-all ${v?"text-white":"text-gray-900"}`,children:m})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[s.jsxs("div",{className:W,title:"Sum of Total Customer Lifetime Value for all members in the segment",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(ls,{className:`w-5 h-5 ${v?"text-purple-400":"text-purple-600"}`}),s.jsx("p",{className:z,children:"Total Revenue"})]}),s.jsx("p",{className:M,children:X.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0})})]}),s.jsxs("div",{className:W,title:"Total number of profiles in the uploaded segment",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(qr,{className:`w-5 h-5 ${v?"text-purple-400":"text-purple-600"}`}),s.jsx("p",{className:z,children:"Members"})]}),s.jsx("p",{className:M,children:i.length.toLocaleString()})]}),s.jsxs("div",{className:W,title:"Average Order Value across all orders in this segment (Total Revenue / Total Orders)",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Ja,{className:`w-5 h-5 ${v?"text-purple-400":"text-purple-600"}`}),s.jsx("p",{className:z,children:"AOV"})]}),s.jsx("p",{className:M,children:q.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0})})]}),s.jsxs("div",{className:W,title:"Average revenue contributed by each member (Total Revenue / Members)",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(ls,{className:`w-5 h-5 ${v?"text-purple-400":"text-purple-600"}`}),s.jsx("p",{className:z,children:"Revenue per Member"})]}),s.jsx("p",{className:M,children:G.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0})})]})]}),s.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[s.jsx(Zu,{className:`w-4 h-4 ${v?"text-purple-400":"text-purple-600"}`}),s.jsx("span",{className:`text-sm font-semibold ${v?"text-white":"text-gray-900"}`,children:"Created"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[30,60,90,180].map(V=>{const d=ae(V),E=`Profiles created in the last ${V} days (anchored to most recent email activity on ${k.toLocaleDateString()})`;return s.jsxs("div",{className:W,title:E,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Zu,{className:`w-5 h-5 ${v?"text-purple-400":"text-purple-600"}`}),s.jsxs("p",{className:z,children:["Created in last ",V," days"]})]}),s.jsxs("p",{className:M,children:[d.toLocaleString()," (",oe(d).toFixed(1),"%)"]})]},`created-${V}`)})}),s.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[s.jsx(ar,{className:`w-4 h-4 ${v?"text-purple-400":"text-purple-600"}`}),s.jsx("span",{className:`text-sm font-semibold ${v?"text-white":"text-gray-900"}`,children:"Engaged"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[30,90,120,180].map(V=>{const d=I(V);return s.jsxs("div",{className:W,title:`Profiles with an email open or click in the last ${V} days (anchored to most recent email activity on ${k.toLocaleDateString()})`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(ar,{className:`w-5 h-5 ${v?"text-purple-400":"text-purple-600"}`}),s.jsxs("p",{className:z,children:["Engaged in last ",V," days"]})]}),s.jsxs("p",{className:M,children:[d.toLocaleString()," (",oe(d).toFixed(1),"%)"]})]},`engaged-${V}`)})}),s.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[s.jsx(Rf,{className:`w-4 h-4 ${v?"text-purple-400":"text-purple-600"}`}),s.jsx("span",{className:`text-sm font-semibold ${v?"text-white":"text-gray-900"}`,children:"Additional Metrics"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[s.jsxs("div",{className:W,title:"Sum of Predicted Customer Lifetime Value for all profiles in this segment",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(ls,{className:`w-5 h-5 ${v?"text-purple-400":"text-purple-600"}`}),s.jsx("p",{className:z,children:"Predicted LTV Increase"})]}),s.jsx("p",{className:M,children:U.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0})})]}),s.jsxs("div",{className:W,title:"Average of the CSV column 'Average Days Between Orders' across profiles that have a value",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(rs,{className:`w-5 h-5 ${v?"text-purple-400":"text-purple-600"}`}),s.jsx("p",{className:z,children:"Average Days Between Orders"})]}),s.jsx("p",{className:M,children:C.toFixed(2)})]}),s.jsxs("div",{className:W,title:"Email Suppressions equal to [] (consent ignored)",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(kf,{className:`w-5 h-5 ${v?"text-purple-400":"text-purple-600"}`}),s.jsx("p",{className:z,children:"NonSuppressed"})]}),s.jsxs("p",{className:M,children:[ue.toLocaleString()," (",oe(ue).toFixed(1),"%)"]})]}),s.jsxs("div",{className:W,title:"Profiles with no First Active and no Last Active dates",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(ic,{className:`w-5 h-5 ${v?"text-purple-400":"text-purple-600"}`}),s.jsx("p",{className:z,children:"Never Active"})]}),s.jsxs("p",{className:M,children:[H.toLocaleString()," (",oe(H).toFixed(1),"%)"]})]})]}),s.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[s.jsx(ac,{className:`w-4 h-4 ${v?"text-purple-400":"text-purple-600"}`}),s.jsx("span",{className:`text-sm font-semibold ${v?"text-white":"text-gray-900"}`,children:"Email Status"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:W,title:"Email Suppressions contains UNSUBSCRIBE/UNSUBSCRIBED/GLOBAL_UNSUBSCRIBE",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Wr,{className:`w-5 h-5 ${v?"text-purple-400":"text-purple-600"}`}),s.jsx("p",{className:z,children:"% Unsubscribed"})]}),s.jsxs("p",{className:M,children:[oe(w).toFixed(1),"%"]})]}),s.jsxs("div",{className:W,title:"Email Suppressions contains SPAM_COMPLAINT/MARKED_AS_SPAM/SPAM",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Wr,{className:`w-5 h-5 ${v?"text-purple-400":"text-purple-600"}`}),s.jsx("p",{className:z,children:"% Spam Complaint"})]}),s.jsxs("p",{className:M,children:[oe(j).toFixed(1),"%"]})]}),s.jsxs("div",{className:W,title:"Email Suppressions contains USER_SUPPRESSED/SUPPRESSED/MANUAL_SUPPRESSION",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Wr,{className:`w-5 h-5 ${v?"text-purple-400":"text-purple-600"}`}),s.jsx("p",{className:z,children:"% User Suppressed"})]}),s.jsxs("p",{className:M,children:[oe($).toFixed(1),"%"]})]}),s.jsxs("div",{className:W,title:"Percentage with Email Marketing Consent not equal to 'NEVER_SUBSCRIBED'",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(jf,{className:`w-5 h-5 ${v?"text-purple-400":"text-purple-600"}`}),s.jsx("p",{className:z,children:"% Optin Rate"})]}),s.jsxs("p",{className:M,children:[oe(N).toFixed(1),"%"]})]})]})]})]})]})},Bf=({onUploadNew:v,isDarkMode:i})=>{const[o,m]=be.useState("30d"),[x,f]=be.useState("all"),[c,y]=be.useState("revenue"),[_,h]=be.useState(5),[D,X]=be.useState(!1),b=Vt.getInstance(),G=b.getCampaigns(),q=b.getFlowEmails(),U=G.length>0||q.length>0,B=S=>b.getGranularityForDateRange(S),[C,ue]=be.useState(B(o));vt.useEffect(()=>{ue(B(o))},[o]);const H=vt.useMemo(()=>U?b.getLastEmailDate():new Date,[U]),O=[{value:"30d",label:"Last 30 days"},{value:"60d",label:"Last 60 days"},{value:"90d",label:"Last 90 days"},{value:"120d",label:"Last 120 days"},{value:"180d",label:"Last 180 days"},{value:"365d",label:"Last 365 days"},{value:"all",label:"All time"}],Q=S=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(S),re=S=>S<.1&&S>0?`${S.toFixed(3)}%`:`${S.toFixed(2)}%`,fe=S=>new Intl.NumberFormat("en-US").format(Math.round(S)),w=vt.useRef(null),j=vt.useMemo(()=>{const S=q.filter(L=>L.status&&L.status.toLowerCase()==="live");return Array.from(new Set(S.map(L=>L.flowName))).sort()},[q]),$=vt.useMemo(()=>{let S=G;if(o!=="all"){const L=parseInt(o.replace("d","")),Z=new Date(H);Z.setDate(Z.getDate()-L),S=S.filter(le=>le.sentDate>=Z)}return S},[o,G,H]),N=vt.useMemo(()=>{let S=q;if(x!=="all"&&(S=S.filter(L=>L.flowName===x)),o!=="all"){const L=parseInt(o.replace("d","")),Z=new Date(H);Z.setDate(Z.getDate()-L),S=S.filter(le=>le.sentDate>=Z)}return S},[o,x,q,H]),P=vt.useMemo(()=>{const S=[...$,...N];if(S.length===0)return{totalRevenue:{value:0,change:0,isPositive:!0},averageOrderValue:{value:0,change:0,isPositive:!0},revenuePerEmail:{value:0,change:0,isPositive:!0},openRate:{value:0,change:0,isPositive:!0},clickRate:{value:0,change:0,isPositive:!0},clickToOpenRate:{value:0,change:0,isPositive:!0},emailsSent:{value:0,change:0,isPositive:!0},totalOrders:{value:0,change:0,isPositive:!0},conversionRate:{value:0,change:0,isPositive:!0},unsubscribeRate:{value:0,change:0,isPositive:!0},spamRate:{value:0,change:0,isPositive:!0},bounceRate:{value:0,change:0,isPositive:!0}};const L=S.reduce((Y,me)=>Y+me.revenue,0),Z=S.reduce((Y,me)=>Y+me.emailsSent,0),le=S.reduce((Y,me)=>Y+me.totalOrders,0),ie=S.reduce((Y,me)=>Y+me.openRate*me.emailsSent,0)/Z,ce=S.reduce((Y,me)=>Y+me.clickRate*me.emailsSent,0)/Z,Se=S.reduce((Y,me)=>Y+me.clickToOpenRate*me.emailsSent,0)/Z,ye=S.reduce((Y,me)=>Y+me.conversionRate*me.emailsSent,0)/Z,Oe=S.reduce((Y,me)=>Y+me.unsubscribeRate*me.emailsSent,0)/Z,$e=S.reduce((Y,me)=>Y+me.spamRate*me.emailsSent,0)/Z,Pe=S.reduce((Y,me)=>Y+me.bounceRate*me.emailsSent,0)/Z,je=le>0?L/le:0,Re=Z>0?L/Z:0,ke=[{key:"totalRevenue",value:L},{key:"averageOrderValue",value:je},{key:"revenuePerEmail",value:Re},{key:"openRate",value:ie},{key:"clickRate",value:ce},{key:"clickToOpenRate",value:Se},{key:"emailsSent",value:Z},{key:"totalOrders",value:le},{key:"conversionRate",value:ye},{key:"unsubscribeRate",value:Oe},{key:"spamRate",value:$e},{key:"bounceRate",value:Pe}],te={};return ke.forEach(({key:Y,value:me})=>{const Ge=b.calculatePeriodOverPeriodChange(Y,o,"all");te[Y]={value:me,change:Ge.changePercent,isPositive:Ge.isPositive,previousValue:Ge.previousValue,previousPeriod:Ge.previousPeriod}}),te},[$,N,o]),k=vt.useMemo(()=>{if($.length===0)return{totalRevenue:{value:0,change:0,isPositive:!0},averageOrderValue:{value:0,change:0,isPositive:!0},revenuePerEmail:{value:0,change:0,isPositive:!0},openRate:{value:0,change:0,isPositive:!0},clickRate:{value:0,change:0,isPositive:!0},clickToOpenRate:{value:0,change:0,isPositive:!0},emailsSent:{value:0,change:0,isPositive:!0},totalOrders:{value:0,change:0,isPositive:!0},conversionRate:{value:0,change:0,isPositive:!0},unsubscribeRate:{value:0,change:0,isPositive:!0},spamRate:{value:0,change:0,isPositive:!0},bounceRate:{value:0,change:0,isPositive:!0}};const S=$.reduce((te,Y)=>te+Y.revenue,0),L=$.reduce((te,Y)=>te+Y.emailsSent,0),Z=$.reduce((te,Y)=>te+Y.totalOrders,0),le=$.reduce((te,Y)=>te+Y.openRate*Y.emailsSent,0)/L,ie=$.reduce((te,Y)=>te+Y.clickRate*Y.emailsSent,0)/L,ce=$.reduce((te,Y)=>te+Y.clickToOpenRate*Y.emailsSent,0)/L,Se=$.reduce((te,Y)=>te+Y.conversionRate*Y.emailsSent,0)/L,ye=$.reduce((te,Y)=>te+Y.unsubscribeRate*Y.emailsSent,0)/L,Oe=$.reduce((te,Y)=>te+Y.spamRate*Y.emailsSent,0)/L,$e=$.reduce((te,Y)=>te+Y.bounceRate*Y.emailsSent,0)/L,Pe=Z>0?S/Z:0,je=L>0?S/L:0,Re=[{key:"totalRevenue",value:S},{key:"averageOrderValue",value:Pe},{key:"revenuePerEmail",value:je},{key:"openRate",value:le},{key:"clickRate",value:ie},{key:"clickToOpenRate",value:ce},{key:"emailsSent",value:L},{key:"totalOrders",value:Z},{key:"conversionRate",value:Se},{key:"unsubscribeRate",value:ye},{key:"spamRate",value:Oe},{key:"bounceRate",value:$e}],ke={};return Re.forEach(({key:te,value:Y})=>{const me=b.calculatePeriodOverPeriodChange(te,o,"campaigns");ke[te]={value:Y,change:me.changePercent,isPositive:me.isPositive,previousValue:me.previousValue,previousPeriod:me.previousPeriod}}),ke},[$,o]),I=vt.useMemo(()=>{if(N.length===0)return{totalRevenue:{value:0,change:0,isPositive:!0},averageOrderValue:{value:0,change:0,isPositive:!0},revenuePerEmail:{value:0,change:0,isPositive:!0},openRate:{value:0,change:0,isPositive:!0},clickRate:{value:0,change:0,isPositive:!0},clickToOpenRate:{value:0,change:0,isPositive:!0},emailsSent:{value:0,change:0,isPositive:!0},totalOrders:{value:0,change:0,isPositive:!0},conversionRate:{value:0,change:0,isPositive:!0},unsubscribeRate:{value:0,change:0,isPositive:!0},spamRate:{value:0,change:0,isPositive:!0},bounceRate:{value:0,change:0,isPositive:!0}};const S=N.reduce((te,Y)=>te+Y.revenue,0),L=N.reduce((te,Y)=>te+Y.emailsSent,0),Z=N.reduce((te,Y)=>te+Y.totalOrders,0),le=N.reduce((te,Y)=>te+Y.openRate*Y.emailsSent,0)/L,ie=N.reduce((te,Y)=>te+Y.clickRate*Y.emailsSent,0)/L,ce=N.reduce((te,Y)=>te+Y.clickToOpenRate*Y.emailsSent,0)/L,Se=N.reduce((te,Y)=>te+Y.conversionRate*Y.emailsSent,0)/L,ye=N.reduce((te,Y)=>te+Y.unsubscribeRate*Y.emailsSent,0)/L,Oe=N.reduce((te,Y)=>te+Y.spamRate*Y.emailsSent,0)/L,$e=N.reduce((te,Y)=>te+Y.bounceRate*Y.emailsSent,0)/L,Pe=Z>0?S/Z:0,je=L>0?S/L:0,Re=[{key:"totalRevenue",value:S},{key:"averageOrderValue",value:Pe},{key:"revenuePerEmail",value:je},{key:"openRate",value:le},{key:"clickRate",value:ie},{key:"clickToOpenRate",value:ce},{key:"emailsSent",value:L},{key:"totalOrders",value:Z},{key:"conversionRate",value:Se},{key:"unsubscribeRate",value:ye},{key:"spamRate",value:Oe},{key:"bounceRate",value:$e}],ke={};return Re.forEach(({key:te,value:Y})=>{const me=b.calculatePeriodOverPeriodChange(te,o,"flows",{flowName:x});ke[te]={value:Y,change:me.changePercent,isPositive:me.isPositive,previousValue:me.previousValue,previousPeriod:me.previousPeriod}}),ke},[N,o]),ae=vt.useMemo(()=>({totalRevenue:b.getMetricTimeSeries($,N,"revenue",o,C),averageOrderValue:b.getMetricTimeSeries($,N,"avgOrderValue",o,C),revenuePerEmail:b.getMetricTimeSeries($,N,"revenuePerEmail",o,C),openRate:b.getMetricTimeSeries($,N,"openRate",o,C),clickRate:b.getMetricTimeSeries($,N,"clickRate",o,C),clickToOpenRate:b.getMetricTimeSeries($,N,"clickToOpenRate",o,C),emailsSent:b.getMetricTimeSeries($,N,"emailsSent",o,C),totalOrders:b.getMetricTimeSeries($,N,"totalOrders",o,C),conversionRate:b.getMetricTimeSeries($,N,"conversionRate",o,C),unsubscribeRate:b.getMetricTimeSeries($,N,"unsubscribeRate",o,C),spamRate:b.getMetricTimeSeries($,N,"spamRate",o,C),bounceRate:b.getMetricTimeSeries($,N,"bounceRate",o,C)}),[$,N,o,C]),oe=vt.useMemo(()=>({totalRevenue:b.getMetricTimeSeries($,[],"revenue",o,C),averageOrderValue:b.getMetricTimeSeries($,[],"avgOrderValue",o,C),revenuePerEmail:b.getMetricTimeSeries($,[],"revenuePerEmail",o,C),openRate:b.getMetricTimeSeries($,[],"openRate",o,C),clickRate:b.getMetricTimeSeries($,[],"clickRate",o,C),clickToOpenRate:b.getMetricTimeSeries($,[],"clickToOpenRate",o,C),emailsSent:b.getMetricTimeSeries($,[],"emailsSent",o,C),totalOrders:b.getMetricTimeSeries($,[],"totalOrders",o,C),conversionRate:b.getMetricTimeSeries($,[],"conversionRate",o,C),unsubscribeRate:b.getMetricTimeSeries($,[],"unsubscribeRate",o,C),spamRate:b.getMetricTimeSeries($,[],"spamRate",o,C),bounceRate:b.getMetricTimeSeries($,[],"bounceRate",o,C)}),[$,o,C]),W=vt.useMemo(()=>({totalRevenue:b.getMetricTimeSeries([],N,"revenue",o,C),averageOrderValue:b.getMetricTimeSeries([],N,"avgOrderValue",o,C),revenuePerEmail:b.getMetricTimeSeries([],N,"revenuePerEmail",o,C),openRate:b.getMetricTimeSeries([],N,"openRate",o,C),clickRate:b.getMetricTimeSeries([],N,"clickRate",o,C),clickToOpenRate:b.getMetricTimeSeries([],N,"clickToOpenRate",o,C),emailsSent:b.getMetricTimeSeries([],N,"emailsSent",o,C),totalOrders:b.getMetricTimeSeries([],N,"totalOrders",o,C),conversionRate:b.getMetricTimeSeries([],N,"conversionRate",o,C),unsubscribeRate:b.getMetricTimeSeries([],N,"unsubscribeRate",o,C),spamRate:b.getMetricTimeSeries([],N,"spamRate",o,C),bounceRate:b.getMetricTimeSeries([],N,"bounceRate",o,C)}),[N,o,C]);vt.useEffect(()=>{const S=()=>{const L=window.scrollY;if(w.current){const le=w.current.getBoundingClientRect().top<=100,ie=L>100&&!le;X(ie)}else X(L>100)};return window.addEventListener("scroll",S),()=>window.removeEventListener("scroll",S)},[]);const z=S=>{const L=S.getMonth()+1,Z=S.getDate(),le=String(S.getFullYear()).slice(-2),ie=S.getHours(),ce=String(S.getMinutes()).padStart(2,"0"),Se=ie>=12?"PM":"AM",ye=ie%12||12;return`${L}/${Z}/${le} at ${ye}:${ce} ${Se}`},M=[{value:"revenue",label:"Revenue"},{value:"avgOrderValue",label:"Avg Order Value"},{value:"revenuePerEmail",label:"Revenue per Email"},{value:"openRate",label:"Open Rate"},{value:"clickRate",label:"Click Rate"},{value:"clickToOpenRate",label:"Click-to-Open Rate"},{value:"emailsSent",label:"Emails Sent"},{value:"totalOrders",label:"Total Orders"},{value:"conversionRate",label:"Conversion Rate"},{value:"unsubscribeRate",label:"Unsubscribe Rate"},{value:"spamRate",label:"Spam Rate"},{value:"bounceRate",label:"Bounce Rate"}],V=()=>[...$].sort((S,L)=>{const Z=Number(S[c])||0;return(Number(L[c])||0)-Z}),d=(S,L)=>["revenue","avgOrderValue","revenuePerEmail"].includes(L)?Q(S):["openRate","clickRate","clickToOpenRate","conversionRate","unsubscribeRate","spamRate","bounceRate"].includes(L)?re(S):fe(S),E=()=>{const S=V();h(L=>Math.min(L+5,S.length))},K=()=>b.getLastEmailDate();return U?s.jsxs("div",{className:"min-h-screen",children:[s.jsx("div",{className:`${i?"bg-gray-900":"bg-white"} border-b ${i?"border-gray-700":"border-gray-200"} p-6`,children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(ns,{className:`w-6 h-6 ${i?"text-purple-400":"text-purple-600"}`}),s.jsx("h1",{className:`text-3xl font-bold ${i?"text-white":"text-gray-900"}`,children:"Email Metrics Dashboard"})]}),s.jsxs("p",{className:`text-sm ${i?"text-gray-400":"text-gray-500"} mt-1`,children:["Last updated: ",new Date().toLocaleDateString()]}),s.jsxs("p",{className:`text-xs ${i?"text-gray-500":"text-gray-400"} mt-1`,children:["Showing ",$.length.toLocaleString()," campaigns, ",N.length.toLocaleString()," flow emails"]})]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsx("button",{onClick:v,className:`
                  px-3 py-1.5 rounded-md text-sm font-medium transition-all duration-200
                  ${i?"bg-gray-800 hover:bg-gray-700 text-gray-300 border border-gray-600":"bg-white hover:bg-gray-50 text-gray-700 border border-gray-300"}
                  hover:shadow-sm
                `,children:s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(uc,{className:"w-3.5 h-3.5"}),s.jsx("span",{children:"Upload New Reports"})]})})})]})})}),s.jsx("div",{className:`${D?"fixed top-0 left-0 right-0 z-50 shadow-lg":""} ${i?"bg-gray-900":"bg-white"} border-b ${i?"border-gray-700":"border-gray-200"} p-4`,children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"flex items-center gap-3 flex-wrap md:flex-nowrap",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ar,{className:`w-5 h-5 ${i?"text-gray-400":"text-gray-500"}`}),s.jsx("span",{className:`font-medium ${i?"text-white":"text-gray-900"}`,children:"Date Range:"})]}),s.jsx("div",{className:"flex gap-1.5 whitespace-nowrap",children:O.map(S=>s.jsx("button",{onClick:()=>m(S.value),className:`px-2.5 py-1 rounded text-xs font-medium transition-colors ${o===S.value?"bg-purple-600 text-white":`${i?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`}`,children:S.label},S.value))}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ns,{className:`w-5 h-5 ${i?"text-gray-400":"text-gray-500"}`}),s.jsx("span",{className:`font-medium ${i?"text-white":"text-gray-900"}`,children:"Granularity:"}),s.jsx("div",{className:"flex gap-1.5 whitespace-nowrap",children:["daily","weekly","monthly"].map(S=>s.jsx("button",{onClick:()=>ue(S),className:`px-2.5 py-1 rounded text-xs font-medium transition-colors ${C===S?"bg-purple-600 text-white":`${i?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`}`,children:S.charAt(0).toUpperCase()+S.slice(1)},S))})]})]})})}),s.jsx("div",{className:`${i?"bg-gray-900":"bg-white"} py-6`,children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:`p-2 rounded-md ${i?"bg-purple-900/10 border border-purple-800/30":"bg-purple-50/50 border border-purple-200/50"} flex items-center gap-2`,children:[s.jsx(ni,{className:"w-3.5 h-3.5 text-purple-600 flex-shrink-0"}),s.jsxs("span",{className:`text-xs ${i?"text-purple-300":"text-purple-600"}`,children:[s.jsx("span",{className:"font-medium",children:"Data Coverage Notice:"})," All date range selections reflect data up to the most recent email activity recorded on ",K().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),"."]})]})})}),s.jsx("div",{className:`p-6 ${D?"mt-20":""}`,children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[s.jsxs("section",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(ac,{className:`w-6 h-6 ${i?"text-purple-400":"text-purple-600"}`}),s.jsx("h2",{className:`text-2xl font-bold ${i?"text-white":"text-gray-900"}`,children:"Email Performance Overview"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[s.jsx(Ee,{title:"Total Revenue",value:Q(P.totalRevenue.value),change:P.totalRevenue.change,isPositive:P.totalRevenue.isPositive,isDarkMode:i,dateRange:o,metricKey:"revenue",sparklineData:ae.totalRevenue,granularity:C,previousValue:P.totalRevenue.previousValue,previousPeriod:P.totalRevenue.previousPeriod}),s.jsx(Ee,{title:"Average Order Value",value:Q(P.averageOrderValue.value),change:P.averageOrderValue.change,isPositive:P.averageOrderValue.isPositive,isDarkMode:i,dateRange:o,metricKey:"avgOrderValue",sparklineData:ae.averageOrderValue,granularity:C,previousValue:P.averageOrderValue.previousValue,previousPeriod:P.averageOrderValue.previousPeriod}),s.jsx(Ee,{title:"Revenue per Email",value:Q(P.revenuePerEmail.value),change:P.revenuePerEmail.change,isPositive:P.revenuePerEmail.isPositive,isDarkMode:i,dateRange:o,metricKey:"revenuePerEmail",sparklineData:ae.revenuePerEmail,granularity:C,previousValue:P.revenuePerEmail.previousValue,previousPeriod:P.revenuePerEmail.previousPeriod}),s.jsx(Ee,{title:"Open Rate",value:re(P.openRate.value),change:P.openRate.change,isPositive:P.openRate.isPositive,isDarkMode:i,dateRange:o,metricKey:"openRate",sparklineData:ae.openRate,granularity:C,previousValue:P.openRate.previousValue,previousPeriod:P.openRate.previousPeriod}),s.jsx(Ee,{title:"Click Rate",value:re(P.clickRate.value),change:P.clickRate.change,isPositive:P.clickRate.isPositive,isDarkMode:i,dateRange:o,metricKey:"clickRate",sparklineData:ae.clickRate,granularity:C,previousValue:P.clickRate.previousValue,previousPeriod:P.clickRate.previousPeriod}),s.jsx(Ee,{title:"Click-to-Open Rate",value:re(P.clickToOpenRate.value),change:P.clickToOpenRate.change,isPositive:P.clickToOpenRate.isPositive,isDarkMode:i,dateRange:o,metricKey:"clickToOpenRate",sparklineData:ae.clickToOpenRate,granularity:C,previousValue:P.clickToOpenRate.previousValue,previousPeriod:P.clickToOpenRate.previousPeriod}),s.jsx(Ee,{title:"Emails Sent",value:fe(P.emailsSent.value),change:P.emailsSent.change,isPositive:P.emailsSent.isPositive,isDarkMode:i,dateRange:o,metricKey:"emailsSent",sparklineData:ae.emailsSent,granularity:C,previousValue:P.emailsSent.previousValue,previousPeriod:P.emailsSent.previousPeriod}),s.jsx(Ee,{title:"Total Orders",value:fe(P.totalOrders.value),change:P.totalOrders.change,isPositive:P.totalOrders.isPositive,isDarkMode:i,dateRange:o,metricKey:"totalOrders",sparklineData:ae.totalOrders,granularity:C,previousValue:P.totalOrders.previousValue,previousPeriod:P.totalOrders.previousPeriod}),s.jsx(Ee,{title:"Conversion Rate",value:re(P.conversionRate.value),change:P.conversionRate.change,isPositive:P.conversionRate.isPositive,isDarkMode:i,dateRange:o,metricKey:"conversionRate",sparklineData:ae.conversionRate,granularity:C,previousValue:P.conversionRate.previousValue,previousPeriod:P.conversionRate.previousPeriod}),s.jsx(Ee,{title:"Unsubscribe Rate",value:re(P.unsubscribeRate.value),change:P.unsubscribeRate.change,isPositive:P.unsubscribeRate.isPositive,isDarkMode:i,dateRange:o,metricKey:"unsubscribeRate",isNegativeMetric:!0,sparklineData:ae.unsubscribeRate,granularity:C,previousValue:P.unsubscribeRate.previousValue,previousPeriod:P.unsubscribeRate.previousPeriod}),s.jsx(Ee,{title:"Spam Rate",value:re(P.spamRate.value),change:P.spamRate.change,isPositive:P.spamRate.isPositive,isDarkMode:i,dateRange:o,metricKey:"spamRate",isNegativeMetric:!0,sparklineData:ae.spamRate,granularity:C,previousValue:P.spamRate.previousValue,previousPeriod:P.spamRate.previousPeriod}),s.jsx(Ee,{title:"Bounce Rate",value:re(P.bounceRate.value),change:P.bounceRate.change,isPositive:P.bounceRate.isPositive,isDarkMode:i,dateRange:o,metricKey:"bounceRate",isNegativeMetric:!0,sparklineData:ae.bounceRate,granularity:C,previousValue:P.bounceRate.previousValue,previousPeriod:P.bounceRate.previousPeriod})]})]}),s.jsxs("section",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(oc,{className:`w-6 h-6 ${i?"text-purple-400":"text-purple-600"}`}),s.jsx("h2",{className:`text-2xl font-bold ${i?"text-white":"text-gray-900"}`,children:"Campaign Performance"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[s.jsx(Ee,{title:"Total Revenue",value:Q(k.totalRevenue.value),change:k.totalRevenue.change,isPositive:k.totalRevenue.isPositive,isDarkMode:i,dateRange:o,metricKey:"revenue",sparklineData:oe.totalRevenue,granularity:C,previousValue:k.totalRevenue.previousValue,previousPeriod:k.totalRevenue.previousPeriod}),s.jsx(Ee,{title:"Average Order Value",value:Q(k.averageOrderValue.value),change:k.averageOrderValue.change,isPositive:k.averageOrderValue.isPositive,isDarkMode:i,dateRange:o,metricKey:"avgOrderValue",sparklineData:oe.averageOrderValue,granularity:C,previousValue:k.averageOrderValue.previousValue,previousPeriod:k.averageOrderValue.previousPeriod}),s.jsx(Ee,{title:"Revenue per Email",value:Q(k.revenuePerEmail.value),change:k.revenuePerEmail.change,isPositive:k.revenuePerEmail.isPositive,isDarkMode:i,dateRange:o,metricKey:"revenuePerEmail",sparklineData:oe.revenuePerEmail,granularity:C,previousValue:k.revenuePerEmail.previousValue,previousPeriod:k.revenuePerEmail.previousPeriod}),s.jsx(Ee,{title:"Open Rate",value:re(k.openRate.value),change:k.openRate.change,isPositive:k.openRate.isPositive,isDarkMode:i,dateRange:o,metricKey:"openRate",sparklineData:oe.openRate,granularity:C,previousValue:k.openRate.previousValue,previousPeriod:k.openRate.previousPeriod}),s.jsx(Ee,{title:"Click Rate",value:re(k.clickRate.value),change:k.clickRate.change,isPositive:k.clickRate.isPositive,isDarkMode:i,dateRange:o,metricKey:"clickRate",sparklineData:oe.clickRate,granularity:C,previousValue:k.clickRate.previousValue,previousPeriod:k.clickRate.previousPeriod}),s.jsx(Ee,{title:"Click-to-Open Rate",value:re(k.clickToOpenRate.value),change:k.clickToOpenRate.change,isPositive:k.clickToOpenRate.isPositive,isDarkMode:i,dateRange:o,metricKey:"clickToOpenRate",sparklineData:oe.clickToOpenRate,granularity:C,previousValue:k.clickToOpenRate.previousValue,previousPeriod:k.clickToOpenRate.previousPeriod}),s.jsx(Ee,{title:"Emails Sent",value:fe(k.emailsSent.value),change:k.emailsSent.change,isPositive:k.emailsSent.isPositive,isDarkMode:i,dateRange:o,metricKey:"emailsSent",sparklineData:oe.emailsSent,granularity:C,previousValue:k.emailsSent.previousValue,previousPeriod:k.emailsSent.previousPeriod}),s.jsx(Ee,{title:"Total Orders",value:fe(k.totalOrders.value),change:k.totalOrders.change,isPositive:k.totalOrders.isPositive,isDarkMode:i,dateRange:o,metricKey:"totalOrders",sparklineData:oe.totalOrders,granularity:C,previousValue:k.totalOrders.previousValue,previousPeriod:k.totalOrders.previousPeriod}),s.jsx(Ee,{title:"Conversion Rate",value:re(k.conversionRate.value),change:k.conversionRate.change,isPositive:k.conversionRate.isPositive,isDarkMode:i,dateRange:o,metricKey:"conversionRate",sparklineData:oe.conversionRate,granularity:C,previousValue:k.conversionRate.previousValue,previousPeriod:k.conversionRate.previousPeriod}),s.jsx(Ee,{title:"Unsubscribe Rate",value:re(k.unsubscribeRate.value),change:k.unsubscribeRate.change,isPositive:k.unsubscribeRate.isPositive,isDarkMode:i,dateRange:o,metricKey:"unsubscribeRate",isNegativeMetric:!0,sparklineData:oe.unsubscribeRate,granularity:C,previousValue:k.unsubscribeRate.previousValue,previousPeriod:k.unsubscribeRate.previousPeriod}),s.jsx(Ee,{title:"Spam Rate",value:re(k.spamRate.value),change:k.spamRate.change,isPositive:k.spamRate.isPositive,isDarkMode:i,dateRange:o,metricKey:"spamRate",isNegativeMetric:!0,sparklineData:oe.spamRate,granularity:C,previousValue:k.spamRate.previousValue,previousPeriod:k.spamRate.previousPeriod}),s.jsx(Ee,{title:"Bounce Rate",value:re(k.bounceRate.value),change:k.bounceRate.change,isPositive:k.bounceRate.isPositive,isDarkMode:i,dateRange:o,metricKey:"bounceRate",isNegativeMetric:!0,sparklineData:oe.bounceRate,granularity:C,previousValue:k.bounceRate.previousValue,previousPeriod:k.bounceRate.previousPeriod})]}),s.jsx("div",{className:"mt-8",children:s.jsx(Af,{filteredCampaigns:$,isDarkMode:i,dateRange:o})}),s.jsx("div",{className:"mt-8",children:s.jsx(zf,{filteredCampaigns:$,isDarkMode:i,dateRange:o})}),s.jsxs("div",{className:"mt-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Nf,{className:`w-6 h-6 ${i?"text-purple-400":"text-purple-600"}`}),s.jsxs("h3",{className:`text-2xl font-bold ${i?"text-white":"text-gray-900"}`,children:["Top Campaigns (",V().length,")"]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("select",{value:c,onChange:S=>{y(S.target.value)},className:`
                     appearance-none px-4 py-2 pr-8 rounded-lg border cursor-pointer
                     ${i?"bg-gray-800 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} 
                     focus:ring-2 focus:ring-purple-500 focus:border-transparent
                   `,children:M.map(S=>s.jsx("option",{value:S.value,children:S.label},S.value))}),s.jsx(Ln,{className:`absolute right-2 top-1/2 transform -translate-y-1/2 w-4 h-4 pointer-events-none ${i?"text-gray-400":"text-gray-500"}`})]})]}),s.jsxs("div",{className:`${i?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border rounded-lg overflow-hidden hover:shadow-lg transition-all duration-200`,children:[V().slice(0,_).map((S,L)=>s.jsx("div",{className:`p-4 ${L!==0?`border-t ${i?"border-gray-700":"border-gray-200"}`:""}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("span",{className:`
                           inline-flex items-center justify-center w-6 h-6 rounded-full text-xs font-medium
                           bg-purple-100 text-purple-900
                         `,children:L+1}),s.jsx("h4",{className:`font-medium ${i?"text-white":"text-gray-900"}`,children:S.subject})]}),s.jsxs("p",{className:`text-sm ${i?"text-gray-400":"text-gray-500"}`,children:["Sent on ",z(S.sentDate)]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:`text-lg font-semibold ${i?"text-white":"text-gray-900"}`,children:d(S[c],c)}),s.jsx("p",{className:`text-sm ${i?"text-gray-400":"text-gray-500"}`,children:M.find(Z=>Z.value===c)?.label})]})]})},S.id)),(()=>{const S=V();return _<S.length&&s.jsx("div",{className:`p-4 border-t ${i?"border-gray-700 bg-gray-750":"border-gray-200 bg-gray-50"} text-center`,children:s.jsxs("button",{onClick:E,className:`
                       px-4 py-2 rounded-lg font-medium transition-colors
                       ${i?"bg-gray-600 hover:bg-gray-500 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-700"}
                     `,children:["Load More (",Math.min(5,S.length-_)," more)"]})})})()]})]})]}),s.jsxs("section",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(cc,{className:`w-6 h-6 ${i?"text-purple-400":"text-purple-600"}`}),s.jsx("h2",{className:`text-2xl font-bold ${i?"text-white":"text-gray-900"}`,children:"Flow Performance"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:x,onChange:S=>f(S.target.value),className:`
                    appearance-none px-4 py-2 pr-8 rounded-lg border cursor-pointer
                    ${i?"bg-gray-800 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}
                    focus:ring-2 focus:ring-purple-500 focus:border-transparent
                  `,children:[s.jsx("option",{value:"all",children:"All Flows"}),j.map(S=>s.jsx("option",{value:S,children:S},S))]}),s.jsx(Ln,{className:`absolute right-2 top-1/2 transform -translate-y-1/2 w-4 h-4 pointer-events-none ${i?"text-gray-400":"text-gray-500"}`})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[s.jsx(Ee,{title:"Total Revenue",value:Q(I.totalRevenue.value),change:I.totalRevenue.change,isPositive:I.totalRevenue.isPositive,isDarkMode:i,dateRange:o,metricKey:"revenue",sparklineData:W.totalRevenue,granularity:C,previousValue:I.totalRevenue.previousValue,previousPeriod:I.totalRevenue.previousPeriod}),s.jsx(Ee,{title:"Average Order Value",value:Q(I.averageOrderValue.value),change:I.averageOrderValue.change,isPositive:I.averageOrderValue.isPositive,isDarkMode:i,dateRange:o,metricKey:"avgOrderValue",sparklineData:W.averageOrderValue,granularity:C,previousValue:I.averageOrderValue.previousValue,previousPeriod:I.averageOrderValue.previousPeriod}),s.jsx(Ee,{title:"Revenue per Email",value:Q(I.revenuePerEmail.value),change:I.revenuePerEmail.change,isPositive:I.revenuePerEmail.isPositive,isDarkMode:i,dateRange:o,metricKey:"revenuePerEmail",sparklineData:W.revenuePerEmail,granularity:C,previousValue:I.revenuePerEmail.previousValue,previousPeriod:I.revenuePerEmail.previousPeriod}),s.jsx(Ee,{title:"Open Rate",value:re(I.openRate.value),change:I.openRate.change,isPositive:I.openRate.isPositive,isDarkMode:i,dateRange:o,metricKey:"openRate",sparklineData:W.openRate,granularity:C,previousValue:I.openRate.previousValue,previousPeriod:I.openRate.previousPeriod}),s.jsx(Ee,{title:"Click Rate",value:re(I.clickRate.value),change:I.clickRate.change,isPositive:I.clickRate.isPositive,isDarkMode:i,dateRange:o,metricKey:"clickRate",sparklineData:W.clickRate,granularity:C,previousValue:I.clickRate.previousValue,previousPeriod:I.clickRate.previousPeriod}),s.jsx(Ee,{title:"Click-to-Open Rate",value:re(I.clickToOpenRate.value),change:I.clickToOpenRate.change,isPositive:I.clickToOpenRate.isPositive,isDarkMode:i,dateRange:o,metricKey:"clickToOpenRate",sparklineData:W.clickToOpenRate,granularity:C,previousValue:I.clickToOpenRate.previousValue,previousPeriod:I.clickToOpenRate.previousPeriod}),s.jsx(Ee,{title:"Emails Sent",value:fe(I.emailsSent.value),change:I.emailsSent.change,isPositive:I.emailsSent.isPositive,isDarkMode:i,dateRange:o,metricKey:"emailsSent",sparklineData:W.emailsSent,granularity:C,previousValue:I.emailsSent.previousValue,previousPeriod:I.emailsSent.previousPeriod}),s.jsx(Ee,{title:"Total Orders",value:fe(I.totalOrders.value),change:I.totalOrders.change,isPositive:I.totalOrders.isPositive,isDarkMode:i,dateRange:o,metricKey:"totalOrders",sparklineData:W.totalOrders,granularity:C,previousValue:I.totalOrders.previousValue,previousPeriod:I.totalOrders.previousPeriod}),s.jsx(Ee,{title:"Conversion Rate",value:re(I.conversionRate.value),change:I.conversionRate.change,isPositive:I.conversionRate.isPositive,isDarkMode:i,dateRange:o,metricKey:"conversionRate",sparklineData:W.conversionRate,granularity:C,previousValue:I.conversionRate.previousValue,previousPeriod:I.conversionRate.previousPeriod}),s.jsx(Ee,{title:"Unsubscribe Rate",value:re(I.unsubscribeRate.value),change:I.unsubscribeRate.change,isPositive:I.unsubscribeRate.isPositive,isDarkMode:i,dateRange:o,metricKey:"unsubscribeRate",isNegativeMetric:!0,sparklineData:W.unsubscribeRate,granularity:C,previousValue:I.unsubscribeRate.previousValue,previousPeriod:I.unsubscribeRate.previousPeriod}),s.jsx(Ee,{title:"Spam Rate",value:re(I.spamRate.value),change:I.spamRate.change,isPositive:I.spamRate.isPositive,isDarkMode:i,dateRange:o,metricKey:"spamRate",isNegativeMetric:!0,sparklineData:W.spamRate,granularity:C,previousValue:I.spamRate.previousValue,previousPeriod:I.spamRate.previousPeriod}),s.jsx(Ee,{title:"Bounce Rate",value:re(I.bounceRate.value),change:I.bounceRate.change,isPositive:I.bounceRate.isPositive,isDarkMode:i,dateRange:o,metricKey:"bounceRate",isNegativeMetric:!0,sparklineData:W.bounceRate,granularity:C,previousValue:I.bounceRate.previousValue,previousPeriod:I.bounceRate.previousPeriod})]})]}),s.jsx(Uf,{isDarkMode:i,dateRange:o,granularity:C}),s.jsxs("div",{ref:w,children:[s.jsx(Vf,{isDarkMode:i}),s.jsx(Mf,{isDarkMode:i})]})]})})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:`text-center p-8 rounded-lg ${i?"bg-gray-800":"bg-gray-100"}`,children:[s.jsx(ns,{className:`w-16 h-16 mx-auto mb-4 ${i?"text-purple-400":"text-purple-600"}`}),s.jsx("h2",{className:`text-2xl font-bold mb-2 ${i?"text-white":"text-gray-900"}`,children:"No Data Available"}),s.jsx("p",{className:`mb-6 ${i?"text-gray-400":"text-gray-600"}`,children:"Please upload your Klaviyo CSV reports to see your email metrics dashboard."}),s.jsx("button",{onClick:v,className:"px-6 py-3 rounded-lg bg-purple-600 hover:bg-purple-700 text-white font-medium transition-colors",children:"Upload Reports"})]})})},Hf=({isDarkMode:v,toggleTheme:i})=>s.jsx("button",{onClick:i,className:`
        fixed top-4 right-4 z-50 p-3 rounded-full transition-all duration-200
        ${v?"bg-gray-800 hover:bg-gray-700 text-yellow-400":"bg-white hover:bg-gray-100 text-gray-700"}
        shadow-lg hover:shadow-xl border
        ${v?"border-gray-700":"border-gray-200"}
      `,"aria-label":"Toggle theme",children:v?s.jsx(bf,{className:"w-5 h-5"}):s.jsx(ic,{className:"w-5 h-5"})});function Wf(){const[v,i]=be.useState(!1),[o,m]=be.useState(!1),[x,f]=be.useState({subscribers:!1,flows:!1,campaigns:!1});be.useEffect(()=>{localStorage.getItem("theme")==="dark"&&m(!0)},[]),be.useEffect(()=>{localStorage.setItem("theme",o?"dark":"light"),o?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[o]);const c=D=>{f(X=>({...X,[D]:!0}))},y=()=>{i(!0)},_=()=>{i(!1),f({subscribers:!1,flows:!1,campaigns:!1})},h=()=>{m(D=>!D)};return s.jsxs("div",{className:`min-h-screen transition-colors duration-200 ${o?"bg-gray-900 text-white":"bg-gray-50 text-gray-900"}`,children:[s.jsx(Hf,{isDarkMode:o,toggleTheme:h}),v?s.jsx(Bf,{onUploadNew:_,isDarkMode:o}):s.jsx(Lf,{uploads:x,onFileUpload:c,onAnalyze:y,isDarkMode:o})]})}gf.createRoot(document.getElementById("root")).render(s.jsx(be.StrictMode,{children:s.jsx(Wf,{})}));
